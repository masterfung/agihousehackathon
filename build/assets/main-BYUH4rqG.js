(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function Vh(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ff={exports:{}},bs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function ww(){if(dv)return bs;dv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var h in l)h!=="key"&&(c[h]=l[h])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:c}}return bs.Fragment=t,bs.jsx=r,bs.jsxs=r,bs}var hv;function Aw(){return hv||(hv=1,Ff.exports=ww()),Ff.exports}var le=Aw(),Zf={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function Rw(){if(pv)return we;pv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),S=Symbol.iterator;function A(b){return b===null||typeof b!="object"?null:(b=S&&b[S]||b["@@iterator"],typeof b=="function"?b:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,D={};function K(b,k,j){this.props=b,this.context=k,this.refs=D,this.updater=j||w}K.prototype.isReactComponent={},K.prototype.setState=function(b,k){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,k,"setState")},K.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function ae(){}ae.prototype=K.prototype;function J(b,k,j){this.props=b,this.context=k,this.refs=D,this.updater=j||w}var se=J.prototype=new ae;se.constructor=J,z(se,K.prototype),se.isPureReactComponent=!0;var Te=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},me=Object.prototype.hasOwnProperty;function Se(b,k,j,P,ee,he){return j=he.ref,{$$typeof:a,type:b,key:k,ref:j!==void 0?j:null,props:he}}function oe(b,k){return Se(b.type,k,void 0,void 0,void 0,b.props)}function ct(b){return typeof b=="object"&&b!==null&&b.$$typeof===a}function Je(b){var k={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(j){return k[j]})}var ht=/\/+/g;function st(b,k){return typeof b=="object"&&b!==null&&b.key!=null?Je(""+b.key):k.toString(36)}function It(){}function Q(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(It,It):(b.status="pending",b.then(function(k){b.status==="pending"&&(b.status="fulfilled",b.value=k)},function(k){b.status==="pending"&&(b.status="rejected",b.reason=k)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function F(b,k,j,P,ee){var he=typeof b;(he==="undefined"||he==="boolean")&&(b=null);var ye=!1;if(b===null)ye=!0;else switch(he){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(b.$$typeof){case a:case t:ye=!0;break;case y:return ye=b._init,F(ye(b._payload),k,j,P,ee)}}if(ye)return ee=ee(b),ye=P===""?"."+st(b,0):P,Te(ee)?(j="",ye!=null&&(j=ye.replace(ht,"$&/")+"/"),F(ee,k,j,"",function(Ea){return Ea})):ee!=null&&(ct(ee)&&(ee=oe(ee,j+(ee.key==null||b&&b.key===ee.key?"":(""+ee.key).replace(ht,"$&/")+"/")+ye)),k.push(ee)),1;ye=0;var Jt=P===""?".":P+":";if(Te(b))for(var nt=0;nt<b.length;nt++)P=b[nt],he=Jt+st(P,nt),ye+=F(P,k,j,he,ee);else if(nt=A(b),typeof nt=="function")for(b=nt.call(b),nt=0;!(P=b.next()).done;)P=P.value,he=Jt+st(P,nt++),ye+=F(P,k,j,he,ee);else if(he==="object"){if(typeof b.then=="function")return F(Q(b),k,j,P,ee);throw k=String(b),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return ye}function x(b,k,j){if(b==null)return b;var P=[],ee=0;return F(b,P,"","",function(he){return k.call(j,he,ee++)}),P}function U(b){if(b._status===-1){var k=b._result;k=k(),k.then(function(j){(b._status===0||b._status===-1)&&(b._status=1,b._result=j)},function(j){(b._status===0||b._status===-1)&&(b._status=2,b._result=j)}),b._status===-1&&(b._status=0,b._result=k)}if(b._status===1)return b._result.default;throw b._result}var H=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function V(){}return we.Children={map:x,forEach:function(b,k,j){x(b,function(){k.apply(this,arguments)},j)},count:function(b){var k=0;return x(b,function(){k++}),k},toArray:function(b){return x(b,function(k){return k})||[]},only:function(b){if(!ct(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},we.Component=K,we.Fragment=r,we.Profiler=l,we.PureComponent=J,we.StrictMode=s,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,we.__COMPILER_RUNTIME={__proto__:null,c:function(b){return fe.H.useMemoCache(b)}},we.cache=function(b){return function(){return b.apply(null,arguments)}},we.cloneElement=function(b,k,j){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var P=z({},b.props),ee=b.key,he=void 0;if(k!=null)for(ye in k.ref!==void 0&&(he=void 0),k.key!==void 0&&(ee=""+k.key),k)!me.call(k,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&k.ref===void 0||(P[ye]=k[ye]);var ye=arguments.length-2;if(ye===1)P.children=j;else if(1<ye){for(var Jt=Array(ye),nt=0;nt<ye;nt++)Jt[nt]=arguments[nt+2];P.children=Jt}return Se(b.type,ee,void 0,void 0,he,P)},we.createContext=function(b){return b={$$typeof:d,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:c,_context:b},b},we.createElement=function(b,k,j){var P,ee={},he=null;if(k!=null)for(P in k.key!==void 0&&(he=""+k.key),k)me.call(k,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(ee[P]=k[P]);var ye=arguments.length-2;if(ye===1)ee.children=j;else if(1<ye){for(var Jt=Array(ye),nt=0;nt<ye;nt++)Jt[nt]=arguments[nt+2];ee.children=Jt}if(b&&b.defaultProps)for(P in ye=b.defaultProps,ye)ee[P]===void 0&&(ee[P]=ye[P]);return Se(b,he,void 0,void 0,null,ee)},we.createRef=function(){return{current:null}},we.forwardRef=function(b){return{$$typeof:h,render:b}},we.isValidElement=ct,we.lazy=function(b){return{$$typeof:y,_payload:{_status:-1,_result:b},_init:U}},we.memo=function(b,k){return{$$typeof:m,type:b,compare:k===void 0?null:k}},we.startTransition=function(b){var k=fe.T,j={};fe.T=j;try{var P=b(),ee=fe.S;ee!==null&&ee(j,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(V,H)}catch(he){H(he)}finally{fe.T=k}},we.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},we.use=function(b){return fe.H.use(b)},we.useActionState=function(b,k,j){return fe.H.useActionState(b,k,j)},we.useCallback=function(b,k){return fe.H.useCallback(b,k)},we.useContext=function(b){return fe.H.useContext(b)},we.useDebugValue=function(){},we.useDeferredValue=function(b,k){return fe.H.useDeferredValue(b,k)},we.useEffect=function(b,k,j){var P=fe.H;if(typeof j=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return P.useEffect(b,k)},we.useId=function(){return fe.H.useId()},we.useImperativeHandle=function(b,k,j){return fe.H.useImperativeHandle(b,k,j)},we.useInsertionEffect=function(b,k){return fe.H.useInsertionEffect(b,k)},we.useLayoutEffect=function(b,k){return fe.H.useLayoutEffect(b,k)},we.useMemo=function(b,k){return fe.H.useMemo(b,k)},we.useOptimistic=function(b,k){return fe.H.useOptimistic(b,k)},we.useReducer=function(b,k,j){return fe.H.useReducer(b,k,j)},we.useRef=function(b){return fe.H.useRef(b)},we.useState=function(b){return fe.H.useState(b)},we.useSyncExternalStore=function(b,k,j){return fe.H.useSyncExternalStore(b,k,j)},we.useTransition=function(){return fe.H.useTransition()},we.version="19.1.0",we}var mv;function Xh(){return mv||(mv=1,Zf.exports=Rw()),Zf.exports}var de=Xh(),Gf={exports:{}},Ss={},Vf={exports:{}},Xf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function xw(){return gv||(gv=1,function(a){function t(x,U){var H=x.length;x.push(U);e:for(;0<H;){var V=H-1>>>1,b=x[V];if(0<l(b,U))x[V]=U,x[H]=b,H=V;else break e}}function r(x){return x.length===0?null:x[0]}function s(x){if(x.length===0)return null;var U=x[0],H=x.pop();if(H!==U){x[0]=H;e:for(var V=0,b=x.length,k=b>>>1;V<k;){var j=2*(V+1)-1,P=x[j],ee=j+1,he=x[ee];if(0>l(P,H))ee<b&&0>l(he,P)?(x[V]=he,x[ee]=H,V=ee):(x[V]=P,x[j]=H,V=j);else if(ee<b&&0>l(he,H))x[V]=he,x[ee]=H,V=ee;else break e}}return U}function l(x,U){var H=x.sortIndex-U.sortIndex;return H!==0?H:x.id-U.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();a.unstable_now=function(){return d.now()-h}}var g=[],m=[],y=1,S=null,A=3,w=!1,z=!1,D=!1,K=!1,ae=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Te(x){for(var U=r(m);U!==null;){if(U.callback===null)s(m);else if(U.startTime<=x)s(m),U.sortIndex=U.expirationTime,t(g,U);else break;U=r(m)}}function fe(x){if(D=!1,Te(x),!z)if(r(g)!==null)z=!0,me||(me=!0,st());else{var U=r(m);U!==null&&F(fe,U.startTime-x)}}var me=!1,Se=-1,oe=5,ct=-1;function Je(){return K?!0:!(a.unstable_now()-ct<oe)}function ht(){if(K=!1,me){var x=a.unstable_now();ct=x;var U=!0;try{e:{z=!1,D&&(D=!1,J(Se),Se=-1),w=!0;var H=A;try{t:{for(Te(x),S=r(g);S!==null&&!(S.expirationTime>x&&Je());){var V=S.callback;if(typeof V=="function"){S.callback=null,A=S.priorityLevel;var b=V(S.expirationTime<=x);if(x=a.unstable_now(),typeof b=="function"){S.callback=b,Te(x),U=!0;break t}S===r(g)&&s(g),Te(x)}else s(g);S=r(g)}if(S!==null)U=!0;else{var k=r(m);k!==null&&F(fe,k.startTime-x),U=!1}}break e}finally{S=null,A=H,w=!1}U=void 0}}finally{U?st():me=!1}}}var st;if(typeof se=="function")st=function(){se(ht)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,Q=It.port2;It.port1.onmessage=ht,st=function(){Q.postMessage(null)}}else st=function(){ae(ht,0)};function F(x,U){Se=ae(function(){x(a.unstable_now())},U)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(x){x.callback=null},a.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<x?Math.floor(1e3/x):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_next=function(x){switch(A){case 1:case 2:case 3:var U=3;break;default:U=A}var H=A;A=U;try{return x()}finally{A=H}},a.unstable_requestPaint=function(){K=!0},a.unstable_runWithPriority=function(x,U){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var H=A;A=x;try{return U()}finally{A=H}},a.unstable_scheduleCallback=function(x,U,H){var V=a.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?V+H:V):H=V,x){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=H+b,x={id:y++,callback:U,priorityLevel:x,startTime:H,expirationTime:b,sortIndex:-1},H>V?(x.sortIndex=H,t(m,x),r(g)===null&&x===r(m)&&(D?(J(Se),Se=-1):D=!0,F(fe,H-V))):(x.sortIndex=b,t(g,x),z||w||(z=!0,me||(me=!0,st()))),x},a.unstable_shouldYield=Je,a.unstable_wrapCallback=function(x){var U=A;return function(){var H=A;A=U;try{return x.apply(this,arguments)}finally{A=H}}}}(Xf)),Xf}var yv;function Ow(){return yv||(yv=1,Vf.exports=xw()),Vf.exports}var Yf={exports:{}},Ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function Cw(){if(vv)return Ut;vv=1;var a=Xh();function t(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,m,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:m,implementation:y}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ut.createPortal=function(g,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(g,m,null,y)},Ut.flushSync=function(g){var m=d.T,y=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=m,s.p=y,s.d.f()}},Ut.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(g,m))},Ut.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Ut.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var y=m.as,S=h(y,m.crossOrigin),A=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:w}):y==="script"&&s.d.X(g,{crossOrigin:S,integrity:A,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ut.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);s.d.M(g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(g)},Ut.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,S=h(y,m.crossOrigin);s.d.L(g,y,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ut.preloadModule=function(g,m){if(typeof g=="string")if(m){var y=h(m.as,m.crossOrigin);s.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(g)},Ut.requestFormReset=function(g){s.d.r(g)},Ut.unstable_batchedUpdates=function(g,m){return g(m)},Ut.useFormState=function(g,m,y){return d.H.useFormState(g,m,y)},Ut.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ut.version="19.1.0",Ut}var _v;function Nw(){if(_v)return Yf.exports;_v=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Yf.exports=Cw(),Yf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function Mw(){if(bv)return Ss;bv=1;var a=Ow(),t=Xh(),r=Nw();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(c(e)!==e)throw Error(s(188))}function g(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var i=e,o=n;;){var u=i.return;if(u===null)break;var f=u.alternate;if(f===null){if(o=u.return,o!==null){i=o;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===i)return h(u),e;if(f===o)return h(u),n;f=f.sibling}throw Error(s(188))}if(i.return!==o.return)i=u,o=f;else{for(var p=!1,v=u.child;v;){if(v===i){p=!0,i=u,o=f;break}if(v===o){p=!0,o=u,i=f;break}v=v.sibling}if(!p){for(v=f.child;v;){if(v===i){p=!0,i=f,o=u;break}if(v===o){p=!0,o=f,i=u;break}v=v.sibling}if(!p)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ct=Symbol.for("react.activity"),Je=Symbol.for("react.memo_cache_sentinel"),ht=Symbol.iterator;function st(e){return e===null||typeof e!="object"?null:(e=ht&&e[ht]||e["@@iterator"],typeof e=="function"?e:null)}var It=Symbol.for("react.client.reference");function Q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===It?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case K:return"Profiler";case D:return"StrictMode";case fe:return"Suspense";case me:return"SuspenseList";case ct:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case se:return(e.displayName||"Context")+".Provider";case J:return(e._context.displayName||"Context")+".Consumer";case Te:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Se:return n=e.displayName||null,n!==null?n:Q(e.type)||"Memo";case oe:n=e._payload,e=e._init;try{return Q(e(n))}catch{}}return null}var F=Array.isArray,x=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},V=[],b=-1;function k(e){return{current:e}}function j(e){0>b||(e.current=V[b],V[b]=null,b--)}function P(e,n){b++,V[b]=e.current,e.current=n}var ee=k(null),he=k(null),ye=k(null),Jt=k(null);function nt(e,n){switch(P(ye,n),P(he,e),P(ee,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?zy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=zy(n),e=By(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(ee),P(ee,e)}function Ea(){j(ee),j(he),j(ye)}function Ou(e){e.memoizedState!==null&&P(Jt,e);var n=ee.current,i=By(n,e.type);n!==i&&(P(he,e),P(ee,i))}function no(e){he.current===e&&(j(ee),j(he)),Jt.current===e&&(j(Jt),ms._currentValue=H)}var Cu=Object.prototype.hasOwnProperty,Nu=a.unstable_scheduleCallback,Mu=a.unstable_cancelCallback,nE=a.unstable_shouldYield,aE=a.unstable_requestPaint,zn=a.unstable_now,rE=a.unstable_getCurrentPriorityLevel,bp=a.unstable_ImmediatePriority,Sp=a.unstable_UserBlockingPriority,ao=a.unstable_NormalPriority,iE=a.unstable_LowPriority,Ep=a.unstable_IdlePriority,sE=a.log,oE=a.unstable_setDisableYieldValue,Ti=null,Wt=null;function Ta(e){if(typeof sE=="function"&&oE(e),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(Ti,e)}catch{}}var en=Math.clz32?Math.clz32:cE,lE=Math.log,uE=Math.LN2;function cE(e){return e>>>=0,e===0?32:31-(lE(e)/uE|0)|0}var ro=256,io=4194304;function Qa(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function so(e,n,i){var o=e.pendingLanes;if(o===0)return 0;var u=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=o&134217727;return v!==0?(o=v&~f,o!==0?u=Qa(o):(p&=v,p!==0?u=Qa(p):i||(i=v&~e,i!==0&&(u=Qa(i))))):(v=o&~f,v!==0?u=Qa(v):p!==0?u=Qa(p):i||(i=o&~e,i!==0&&(u=Qa(i)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,i=n&-n,f>=i||f===32&&(i&4194048)!==0)?n:u}function wi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function fE(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tp(){var e=ro;return ro<<=1,(ro&4194048)===0&&(ro=256),e}function wp(){var e=io;return io<<=1,(io&62914560)===0&&(io=4194304),e}function ku(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Ai(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function dE(e,n,i,o,u,f){var p=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var v=e.entanglements,E=e.expirationTimes,C=e.hiddenUpdates;for(i=p&~i;0<i;){var L=31-en(i),$=1<<L;v[L]=0,E[L]=-1;var N=C[L];if(N!==null)for(C[L]=null,L=0;L<N.length;L++){var M=N[L];M!==null&&(M.lane&=-536870913)}i&=~$}o!==0&&Ap(e,o,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function Ap(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-en(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|i&4194090}function Rp(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-en(i),u=1<<o;u&n|e[o]&n&&(e[o]|=n),i&=~u}}function Du(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Uu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xp(){var e=U.p;return e!==0?e:(e=window.event,e===void 0?32:sv(e.type))}function hE(e,n){var i=U.p;try{return U.p=e,n()}finally{U.p=i}}var wa=Math.random().toString(36).slice(2),kt="__reactFiber$"+wa,Ht="__reactProps$"+wa,Tr="__reactContainer$"+wa,Lu="__reactEvents$"+wa,pE="__reactListeners$"+wa,mE="__reactHandles$"+wa,Op="__reactResources$"+wa,Ri="__reactMarker$"+wa;function Iu(e){delete e[kt],delete e[Ht],delete e[Lu],delete e[pE],delete e[mE]}function wr(e){var n=e[kt];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Tr]||i[kt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Zy(e);e!==null;){if(i=e[kt])return i;e=Zy(e)}return n}e=i,i=e.parentNode}return null}function Ar(e){if(e=e[kt]||e[Tr]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function xi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Rr(e){var n=e[Op];return n||(n=e[Op]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Tt(e){e[Ri]=!0}var Cp=new Set,Np={};function Ja(e,n){xr(e,n),xr(e+"Capture",n)}function xr(e,n){for(Np[e]=n,e=0;e<n.length;e++)Cp.add(n[e])}var gE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mp={},kp={};function yE(e){return Cu.call(kp,e)?!0:Cu.call(Mp,e)?!1:gE.test(e)?kp[e]=!0:(Mp[e]=!0,!1)}function oo(e,n,i){if(yE(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function lo(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Jn(e,n,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+o)}}var $u,Dp;function Or(e){if($u===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);$u=n&&n[1]||"",Dp=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$u+e+Dp}var ju=!1;function qu(e,n){if(!e||ju)return"";ju=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(M){var N=M}Reflect.construct(e,[],$)}else{try{$.call()}catch(M){N=M}e.call($.prototype)}}else{try{throw Error()}catch(M){N=M}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(M){if(M&&N&&typeof M.stack=="string")return[M.stack,N.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],v=f[1];if(p&&v){var E=p.split(`
`),C=v.split(`
`);for(u=o=0;o<E.length&&!E[o].includes("DetermineComponentFrameRoot");)o++;for(;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;if(o===E.length||u===C.length)for(o=E.length-1,u=C.length-1;1<=o&&0<=u&&E[o]!==C[u];)u--;for(;1<=o&&0<=u;o--,u--)if(E[o]!==C[u]){if(o!==1||u!==1)do if(o--,u--,0>u||E[o]!==C[u]){var L=`
`+E[o].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=o&&0<=u);break}}}finally{ju=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Or(i):""}function vE(e){switch(e.tag){case 26:case 27:case 5:return Or(e.type);case 16:return Or("Lazy");case 13:return Or("Suspense");case 19:return Or("SuspenseList");case 0:case 15:return qu(e.type,!1);case 11:return qu(e.type.render,!1);case 1:return qu(e.type,!0);case 31:return Or("Activity");default:return""}}function Up(e){try{var n="";do n+=vE(e),e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function mn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lp(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _E(e){var n=Lp(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(p){o=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(p){o=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function uo(e){e._valueTracker||(e._valueTracker=_E(e))}function Ip(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=Lp(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function co(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var bE=/[\n"\\]/g;function gn(e){return e.replace(bE,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function zu(e,n,i,o,u,f,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+mn(n)):e.value!==""+mn(n)&&(e.value=""+mn(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Bu(e,p,mn(n)):i!=null?Bu(e,p,mn(i)):o!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+mn(v):e.removeAttribute("name")}function $p(e,n,i,o,u,f,p,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;i=i!=null?""+mn(i):"",n=n!=null?""+mn(n):i,v||n===e.value||(e.value=n),e.defaultValue=n}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=v?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p)}function Bu(e,n,i){n==="number"&&co(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Cr(e,n,i,o){if(e=e.options,n){n={};for(var u=0;u<i.length;u++)n["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=n.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&o&&(e[i].defaultSelected=!0)}else{for(i=""+mn(i),n=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function jp(e,n,i){if(n!=null&&(n=""+mn(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+mn(i):""}function qp(e,n,i,o){if(n==null){if(o!=null){if(i!=null)throw Error(s(92));if(F(o)){if(1<o.length)throw Error(s(93));o=o[0]}i=o}i==null&&(i=""),n=i}i=mn(n),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o)}function Nr(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var SE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zp(e,n,i){var o=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,i):typeof i!="number"||i===0||SE.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function Bp(e,n,i){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var u in n)o=n[u],n.hasOwnProperty(u)&&i[u]!==o&&zp(e,u,o)}else for(var f in n)n.hasOwnProperty(f)&&zp(e,f,n[f])}function Hu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var EE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),TE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fo(e){return TE.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pu=null;function Fu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mr=null,kr=null;function Hp(e){var n=Ar(e);if(n&&(e=n.stateNode)){var i=e[Ht]||null;e:switch(e=n.stateNode,n.type){case"input":if(zu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var u=o[Ht]||null;if(!u)throw Error(s(90));zu(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<i.length;n++)o=i[n],o.form===e.form&&Ip(o)}break e;case"textarea":jp(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Cr(e,!!i.multiple,n,!1)}}}var Zu=!1;function Pp(e,n,i){if(Zu)return e(n,i);Zu=!0;try{var o=e(n);return o}finally{if(Zu=!1,(Mr!==null||kr!==null)&&(Qo(),Mr&&(n=Mr,e=kr,kr=Mr=null,Hp(n),e)))for(n=0;n<e.length;n++)Hp(e[n])}}function Oi(e,n){var i=e.stateNode;if(i===null)return null;var o=i[Ht]||null;if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gu=!1;if(Wn)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{Gu=!1}var Aa=null,Vu=null,ho=null;function Fp(){if(ho)return ho;var e,n=Vu,i=n.length,o,u="value"in Aa?Aa.value:Aa.textContent,f=u.length;for(e=0;e<i&&n[e]===u[e];e++);var p=i-e;for(o=1;o<=p&&n[i-o]===u[f-o];o++);return ho=u.slice(e,1<o?1-o:void 0)}function po(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function mo(){return!0}function Zp(){return!1}function Pt(e){function n(i,o,u,f,p){this._reactName=i,this._targetInst=u,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(i=e[v],this[v]=i?i(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?mo:Zp,this.isPropagationStopped=Zp,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=mo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=mo)},persist:function(){},isPersistent:mo}),n}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=Pt(Wa),Ni=y({},Wa,{view:0,detail:0}),wE=Pt(Ni),Xu,Yu,Mi,yo=y({},Ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mi&&(Mi&&e.type==="mousemove"?(Xu=e.screenX-Mi.screenX,Yu=e.screenY-Mi.screenY):Yu=Xu=0,Mi=e),Xu)},movementY:function(e){return"movementY"in e?e.movementY:Yu}}),Gp=Pt(yo),AE=y({},yo,{dataTransfer:0}),RE=Pt(AE),xE=y({},Ni,{relatedTarget:0}),Ku=Pt(xE),OE=y({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),CE=Pt(OE),NE=y({},Wa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ME=Pt(NE),kE=y({},Wa,{data:0}),Vp=Pt(kE),DE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IE(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=LE[e])?!!n[e]:!1}function Qu(){return IE}var $E=y({},Ni,{key:function(e){if(e.key){var n=DE[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=po(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?UE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qu,charCode:function(e){return e.type==="keypress"?po(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?po(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jE=Pt($E),qE=y({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xp=Pt(qE),zE=y({},Ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qu}),BE=Pt(zE),HE=y({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),PE=Pt(HE),FE=y({},yo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ZE=Pt(FE),GE=y({},Wa,{newState:0,oldState:0}),VE=Pt(GE),XE=[9,13,27,32],Ju=Wn&&"CompositionEvent"in window,ki=null;Wn&&"documentMode"in document&&(ki=document.documentMode);var YE=Wn&&"TextEvent"in window&&!ki,Yp=Wn&&(!Ju||ki&&8<ki&&11>=ki),Kp=" ",Qp=!1;function Jp(e,n){switch(e){case"keyup":return XE.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dr=!1;function KE(e,n){switch(e){case"compositionend":return Wp(n);case"keypress":return n.which!==32?null:(Qp=!0,Kp);case"textInput":return e=n.data,e===Kp&&Qp?null:e;default:return null}}function QE(e,n){if(Dr)return e==="compositionend"||!Ju&&Jp(e,n)?(e=Fp(),ho=Vu=Aa=null,Dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Yp&&n.locale!=="ko"?null:n.data;default:return null}}var JE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function em(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!JE[e.type]:n==="textarea"}function tm(e,n,i,o){Mr?kr?kr.push(o):kr=[o]:Mr=o,n=al(n,"onChange"),0<n.length&&(i=new go("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var Di=null,Ui=null;function WE(e){Ly(e,0)}function vo(e){var n=xi(e);if(Ip(n))return e}function nm(e,n){if(e==="change")return n}var am=!1;if(Wn){var Wu;if(Wn){var ec="oninput"in document;if(!ec){var rm=document.createElement("div");rm.setAttribute("oninput","return;"),ec=typeof rm.oninput=="function"}Wu=ec}else Wu=!1;am=Wu&&(!document.documentMode||9<document.documentMode)}function im(){Di&&(Di.detachEvent("onpropertychange",sm),Ui=Di=null)}function sm(e){if(e.propertyName==="value"&&vo(Ui)){var n=[];tm(n,Ui,e,Fu(e)),Pp(WE,n)}}function eT(e,n,i){e==="focusin"?(im(),Di=n,Ui=i,Di.attachEvent("onpropertychange",sm)):e==="focusout"&&im()}function tT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vo(Ui)}function nT(e,n){if(e==="click")return vo(n)}function aT(e,n){if(e==="input"||e==="change")return vo(n)}function rT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var tn=typeof Object.is=="function"?Object.is:rT;function Li(e,n){if(tn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var u=i[o];if(!Cu.call(n,u)||!tn(e[u],n[u]))return!1}return!0}function om(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lm(e,n){var i=om(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=om(i)}}function um(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?um(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function cm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=co(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=co(e.document)}return n}function tc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var iT=Wn&&"documentMode"in document&&11>=document.documentMode,Ur=null,nc=null,Ii=null,ac=!1;function fm(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ac||Ur==null||Ur!==co(o)||(o=Ur,"selectionStart"in o&&tc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ii&&Li(Ii,o)||(Ii=o,o=al(nc,"onSelect"),0<o.length&&(n=new go("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=Ur)))}function er(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Lr={animationend:er("Animation","AnimationEnd"),animationiteration:er("Animation","AnimationIteration"),animationstart:er("Animation","AnimationStart"),transitionrun:er("Transition","TransitionRun"),transitionstart:er("Transition","TransitionStart"),transitioncancel:er("Transition","TransitionCancel"),transitionend:er("Transition","TransitionEnd")},rc={},dm={};Wn&&(dm=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function tr(e){if(rc[e])return rc[e];if(!Lr[e])return e;var n=Lr[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in dm)return rc[e]=n[i];return e}var hm=tr("animationend"),pm=tr("animationiteration"),mm=tr("animationstart"),sT=tr("transitionrun"),oT=tr("transitionstart"),lT=tr("transitioncancel"),gm=tr("transitionend"),ym=new Map,ic="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ic.push("scrollEnd");function On(e,n){ym.set(e,n),Ja(n,[e])}var vm=new WeakMap;function yn(e,n){if(typeof e=="object"&&e!==null){var i=vm.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Up(n)},vm.set(e,n),n)}return{value:e,source:n,stack:Up(n)}}var vn=[],Ir=0,sc=0;function _o(){for(var e=Ir,n=sc=Ir=0;n<e;){var i=vn[n];vn[n++]=null;var o=vn[n];vn[n++]=null;var u=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,o!==null&&u!==null){var p=o.pending;p===null?u.next=u:(u.next=p.next,p.next=u),o.pending=u}f!==0&&_m(i,u,f)}}function bo(e,n,i,o){vn[Ir++]=e,vn[Ir++]=n,vn[Ir++]=i,vn[Ir++]=o,sc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function oc(e,n,i,o){return bo(e,n,i,o),So(e)}function $r(e,n){return bo(e,null,null,n),So(e)}function _m(e,n,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var u=!1,f=e.return;f!==null;)f.childLanes|=i,o=f.alternate,o!==null&&(o.childLanes|=i),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&n!==null&&(u=31-en(i),e=f.hiddenUpdates,o=e[u],o===null?e[u]=[n]:o.push(n),n.lane=i|536870912),f):null}function So(e){if(50<os)throw os=0,pf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var jr={};function uT(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(e,n,i,o){return new uT(e,n,i,o)}function lc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ea(e,n){var i=e.alternate;return i===null?(i=nn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function bm(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Eo(e,n,i,o,u,f){var p=0;if(o=e,typeof e=="function")lc(e)&&(p=1);else if(typeof e=="string")p=fw(e,i,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ct:return e=nn(31,i,n,u),e.elementType=ct,e.lanes=f,e;case z:return nr(i.children,u,f,n);case D:p=8,u|=24;break;case K:return e=nn(12,i,n,u|2),e.elementType=K,e.lanes=f,e;case fe:return e=nn(13,i,n,u),e.elementType=fe,e.lanes=f,e;case me:return e=nn(19,i,n,u),e.elementType=me,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ae:case se:p=10;break e;case J:p=9;break e;case Te:p=11;break e;case Se:p=14;break e;case oe:p=16,o=null;break e}p=29,i=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=nn(p,i,n,u),n.elementType=e,n.type=o,n.lanes=f,n}function nr(e,n,i,o){return e=nn(7,e,o,n),e.lanes=i,e}function uc(e,n,i){return e=nn(6,e,null,n),e.lanes=i,e}function cc(e,n,i){return n=nn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var qr=[],zr=0,To=null,wo=0,_n=[],bn=0,ar=null,ta=1,na="";function rr(e,n){qr[zr++]=wo,qr[zr++]=To,To=e,wo=n}function Sm(e,n,i){_n[bn++]=ta,_n[bn++]=na,_n[bn++]=ar,ar=e;var o=ta;e=na;var u=32-en(o)-1;o&=~(1<<u),i+=1;var f=32-en(n)+u;if(30<f){var p=u-u%5;f=(o&(1<<p)-1).toString(32),o>>=p,u-=p,ta=1<<32-en(n)+u|i<<u|o,na=f+e}else ta=1<<f|i<<u|o,na=e}function fc(e){e.return!==null&&(rr(e,1),Sm(e,1,0))}function dc(e){for(;e===To;)To=qr[--zr],qr[zr]=null,wo=qr[--zr],qr[zr]=null;for(;e===ar;)ar=_n[--bn],_n[bn]=null,na=_n[--bn],_n[bn]=null,ta=_n[--bn],_n[bn]=null}var $t=null,lt=null,Be=!1,ir=null,Bn=!1,hc=Error(s(519));function sr(e){var n=Error(s(418,""));throw qi(yn(n,e)),hc}function Em(e){var n=e.stateNode,i=e.type,o=e.memoizedProps;switch(n[kt]=e,n[Ht]=o,i){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(i=0;i<us.length;i++)Me(us[i],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Me("invalid",n),$p(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),uo(n);break;case"select":Me("invalid",n);break;case"textarea":Me("invalid",n),qp(n,o.value,o.defaultValue,o.children),uo(n)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||o.suppressHydrationWarning===!0||qy(n.textContent,i)?(o.popover!=null&&(Me("beforetoggle",n),Me("toggle",n)),o.onScroll!=null&&Me("scroll",n),o.onScrollEnd!=null&&Me("scrollend",n),o.onClick!=null&&(n.onclick=rl),n=!0):n=!1,n||sr(e)}function Tm(e){for($t=e.return;$t;)switch($t.tag){case 5:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:$t=$t.return}}function $i(e){if(e!==$t)return!1;if(!Be)return Tm(e),Be=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Nf(e.type,e.memoizedProps)),i=!i),i&&lt&&sr(e),Tm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(n===0){lt=Nn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;e=e.nextSibling}lt=null}}else n===27?(n=lt,Ba(e.type)?(e=Uf,Uf=null,lt=e):lt=n):lt=$t?Nn(e.stateNode.nextSibling):null;return!0}function ji(){lt=$t=null,Be=!1}function wm(){var e=ir;return e!==null&&(Gt===null?Gt=e:Gt.push.apply(Gt,e),ir=null),e}function qi(e){ir===null?ir=[e]:ir.push(e)}var pc=k(null),or=null,aa=null;function Ra(e,n,i){P(pc,n._currentValue),n._currentValue=i}function ra(e){e._currentValue=pc.current,j(pc)}function mc(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function gc(e,n,i,o){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var p=u.child;f=f.firstContext;e:for(;f!==null;){var v=f;f=u;for(var E=0;E<n.length;E++)if(v.context===n[E]){f.lanes|=i,v=f.alternate,v!==null&&(v.lanes|=i),mc(f.return,i,e),o||(p=null);break e}f=v.next}}else if(u.tag===18){if(p=u.return,p===null)throw Error(s(341));p.lanes|=i,f=p.alternate,f!==null&&(f.lanes|=i),mc(p,i,e),p=null}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===e){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}}function zi(e,n,i,o){e=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var p=u.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var v=u.type;tn(u.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(u===Jt.current){if(p=u.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(ms):e=[ms])}u=u.return}e!==null&&gc(n,e,i,o),n.flags|=262144}function Ao(e){for(e=e.firstContext;e!==null;){if(!tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function lr(e){or=e,aa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Dt(e){return Am(or,e)}function Ro(e,n){return or===null&&lr(e),Am(e,n)}function Am(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},aa===null){if(e===null)throw Error(s(308));aa=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else aa=aa.next=n;return i}var cT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},fT=a.unstable_scheduleCallback,dT=a.unstable_NormalPriority,_t={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yc(){return{controller:new cT,data:new Map,refCount:0}}function Bi(e){e.refCount--,e.refCount===0&&fT(dT,function(){e.controller.abort()})}var Hi=null,vc=0,Br=0,Hr=null;function hT(e,n){if(Hi===null){var i=Hi=[];vc=0,Br=Sf(),Hr={status:"pending",value:void 0,then:function(o){i.push(o)}}}return vc++,n.then(Rm,Rm),n}function Rm(){if(--vc===0&&Hi!==null){Hr!==null&&(Hr.status="fulfilled");var e=Hi;Hi=null,Br=0,Hr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function pT(e,n){var i=[],o={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var u=0;u<i.length;u++)(0,i[u])(n)},function(u){for(o.status="rejected",o.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),o}var xm=x.S;x.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&hT(e,n),xm!==null&&xm(e,n)};var ur=k(null);function _c(){var e=ur.current;return e!==null?e:We.pooledCache}function xo(e,n){n===null?P(ur,ur.current):P(ur,n.pool)}function Om(){var e=_c();return e===null?null:{parent:_t._currentValue,pool:e}}var Pi=Error(s(460)),Cm=Error(s(474)),Oo=Error(s(542)),bc={then:function(){}};function Nm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Co(){}function Mm(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(Co,Co),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Dm(e),e;default:if(typeof n.status=="string")n.then(Co,Co);else{if(e=We,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=o}},function(o){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Dm(e),e}throw Fi=n,Pi}}var Fi=null;function km(){if(Fi===null)throw Error(s(459));var e=Fi;return Fi=null,e}function Dm(e){if(e===Pi||e===Oo)throw Error(s(483))}var xa=!1;function Sc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ec(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Pe&2)!==0){var u=o.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),o.pending=n,n=So(e),_m(e,null,i),n}return bo(e,o,n,i),So(e)}function Zi(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Rp(e,i)}}function Tc(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var u=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var p={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?u=f=p:f=f.next=p,i=i.next}while(i!==null);f===null?u=f=n:f=f.next=n}else u=f=n;i={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var wc=!1;function Gi(){if(wc){var e=Hr;if(e!==null)throw e}}function Vi(e,n,i,o){wc=!1;var u=e.updateQueue;xa=!1;var f=u.firstBaseUpdate,p=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var E=v,C=E.next;E.next=null,p===null?f=C:p.next=C,p=E;var L=e.alternate;L!==null&&(L=L.updateQueue,v=L.lastBaseUpdate,v!==p&&(v===null?L.firstBaseUpdate=C:v.next=C,L.lastBaseUpdate=E))}if(f!==null){var $=u.baseState;p=0,L=C=E=null,v=f;do{var N=v.lane&-536870913,M=N!==v.lane;if(M?(Le&N)===N:(o&N)===N){N!==0&&N===Br&&(wc=!0),L!==null&&(L=L.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var _e=e,ge=v;N=n;var Xe=i;switch(ge.tag){case 1:if(_e=ge.payload,typeof _e=="function"){$=_e.call(Xe,$,N);break e}$=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=ge.payload,N=typeof _e=="function"?_e.call(Xe,$,N):_e,N==null)break e;$=y({},$,N);break e;case 2:xa=!0}}N=v.callback,N!==null&&(e.flags|=64,M&&(e.flags|=8192),M=u.callbacks,M===null?u.callbacks=[N]:M.push(N))}else M={lane:N,tag:v.tag,payload:v.payload,callback:v.callback,next:null},L===null?(C=L=M,E=$):L=L.next=M,p|=N;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;M=v,v=M.next,M.next=null,u.lastBaseUpdate=M,u.shared.pending=null}}while(!0);L===null&&(E=$),u.baseState=E,u.firstBaseUpdate=C,u.lastBaseUpdate=L,f===null&&(u.shared.lanes=0),$a|=p,e.lanes=p,e.memoizedState=$}}function Um(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Lm(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Um(i[e],n)}var Pr=k(null),No=k(0);function Im(e,n){e=fa,P(No,e),P(Pr,n),fa=e|n.baseLanes}function Ac(){P(No,fa),P(Pr,Pr.current)}function Rc(){fa=No.current,j(Pr),j(No)}var Na=0,xe=null,Ge=null,pt=null,Mo=!1,Fr=!1,cr=!1,ko=0,Xi=0,Zr=null,mT=0;function ft(){throw Error(s(321))}function xc(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!tn(e[i],n[i]))return!1;return!0}function Oc(e,n,i,o,u,f){return Na=f,xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,x.H=e===null||e.memoizedState===null?_g:bg,cr=!1,f=i(o,u),cr=!1,Fr&&(f=jm(n,i,o,u)),$m(e),f}function $m(e){x.H=jo;var n=Ge!==null&&Ge.next!==null;if(Na=0,pt=Ge=xe=null,Mo=!1,Xi=0,Zr=null,n)throw Error(s(300));e===null||wt||(e=e.dependencies,e!==null&&Ao(e)&&(wt=!0))}function jm(e,n,i,o){xe=e;var u=0;do{if(Fr&&(Zr=null),Xi=0,Fr=!1,25<=u)throw Error(s(301));if(u+=1,pt=Ge=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}x.H=ET,f=n(i,o)}while(Fr);return f}function gT(){var e=x.H,n=e.useState()[0];return n=typeof n.then=="function"?Yi(n):n,e=e.useState()[0],(Ge!==null?Ge.memoizedState:null)!==e&&(xe.flags|=1024),n}function Cc(){var e=ko!==0;return ko=0,e}function Nc(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Mc(e){if(Mo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mo=!1}Na=0,pt=Ge=xe=null,Fr=!1,Xi=ko=0,Zr=null}function Ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?xe.memoizedState=pt=e:pt=pt.next=e,pt}function mt(){if(Ge===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var n=pt===null?xe.memoizedState:pt.next;if(n!==null)pt=n,Ge=e;else{if(e===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},pt===null?xe.memoizedState=pt=e:pt=pt.next=e}return pt}function kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yi(e){var n=Xi;return Xi+=1,Zr===null&&(Zr=[]),e=Mm(Zr,e,n),n=xe,(pt===null?n.memoizedState:pt.next)===null&&(n=n.alternate,x.H=n===null||n.memoizedState===null?_g:bg),e}function Do(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yi(e);if(e.$$typeof===se)return Dt(e)}throw Error(s(438,String(e)))}function Dc(e){var n=null,i=xe.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=xe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=kc(),xe.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),o=0;o<e;o++)i[o]=Je;return n.index++,i}function ia(e,n){return typeof n=="function"?n(e):n}function Uo(e){var n=mt();return Uc(n,Ge,e)}function Uc(e,n,i){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=e.baseQueue,f=o.pending;if(f!==null){if(u!==null){var p=u.next;u.next=f.next,f.next=p}n.baseQueue=u=f,o.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{n=u.next;var v=p=null,E=null,C=n,L=!1;do{var $=C.lane&-536870913;if($!==C.lane?(Le&$)===$:(Na&$)===$){var N=C.revertLane;if(N===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),$===Br&&(L=!0);else if((Na&N)===N){C=C.next,N===Br&&(L=!0);continue}else $={lane:0,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},E===null?(v=E=$,p=f):E=E.next=$,xe.lanes|=N,$a|=N;$=C.action,cr&&i(f,$),f=C.hasEagerState?C.eagerState:i(f,$)}else N={lane:$,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},E===null?(v=E=N,p=f):E=E.next=N,xe.lanes|=$,$a|=$;C=C.next}while(C!==null&&C!==n);if(E===null?p=f:E.next=v,!tn(f,e.memoizedState)&&(wt=!0,L&&(i=Hr,i!==null)))throw i;e.memoizedState=f,e.baseState=p,e.baseQueue=E,o.lastRenderedState=f}return u===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Lc(e){var n=mt(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var o=i.dispatch,u=i.pending,f=n.memoizedState;if(u!==null){i.pending=null;var p=u=u.next;do f=e(f,p.action),p=p.next;while(p!==u);tn(f,n.memoizedState)||(wt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,o]}function qm(e,n,i){var o=xe,u=mt(),f=Be;if(f){if(i===void 0)throw Error(s(407));i=i()}else i=n();var p=!tn((Ge||u).memoizedState,i);p&&(u.memoizedState=i,wt=!0),u=u.queue;var v=Hm.bind(null,o,u,e);if(Ki(2048,8,v,[e]),u.getSnapshot!==n||p||pt!==null&&pt.memoizedState.tag&1){if(o.flags|=2048,Gr(9,Lo(),Bm.bind(null,o,u,i,n),null),We===null)throw Error(s(349));f||(Na&124)!==0||zm(o,n,i)}return i}function zm(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=xe.updateQueue,n===null?(n=kc(),xe.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Bm(e,n,i,o){n.value=i,n.getSnapshot=o,Pm(n)&&Fm(e)}function Hm(e,n,i){return i(function(){Pm(n)&&Fm(e)})}function Pm(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!tn(e,i)}catch{return!0}}function Fm(e){var n=$r(e,2);n!==null&&ln(n,e,2)}function Ic(e){var n=Ft();if(typeof e=="function"){var i=e;if(e=i(),cr){Ta(!0);try{i()}finally{Ta(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},n}function Zm(e,n,i,o){return e.baseState=i,Uc(e,Ge,typeof o=="function"?o:ia)}function yT(e,n,i,o,u){if($o(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};x.T!==null?i(!0):f.isTransition=!1,o(f),i=n.pending,i===null?(f.next=n.pending=f,Gm(n,f)):(f.next=i.next,n.pending=i.next=f)}}function Gm(e,n){var i=n.action,o=n.payload,u=e.state;if(n.isTransition){var f=x.T,p={};x.T=p;try{var v=i(u,o),E=x.S;E!==null&&E(p,v),Vm(e,n,v)}catch(C){$c(e,n,C)}finally{x.T=f}}else try{f=i(u,o),Vm(e,n,f)}catch(C){$c(e,n,C)}}function Vm(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){Xm(e,n,o)},function(o){return $c(e,n,o)}):Xm(e,n,i)}function Xm(e,n,i){n.status="fulfilled",n.value=i,Ym(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Gm(e,i)))}function $c(e,n,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,Ym(n),n=n.next;while(n!==o)}e.action=null}function Ym(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Km(e,n){return n}function Qm(e,n){if(Be){var i=We.formState;if(i!==null){e:{var o=xe;if(Be){if(lt){t:{for(var u=lt,f=Bn;u.nodeType!==8;){if(!f){u=null;break t}if(u=Nn(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){lt=Nn(u.nextSibling),o=u.data==="F!";break e}}sr(o)}o=!1}o&&(n=i[0])}}return i=Ft(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Km,lastRenderedState:n},i.queue=o,i=gg.bind(null,xe,o),o.dispatch=i,o=Ic(!1),f=Hc.bind(null,xe,!1,o.queue),o=Ft(),u={state:n,dispatch:null,action:e,pending:null},o.queue=u,i=yT.bind(null,xe,u,f,i),u.dispatch=i,o.memoizedState=e,[n,i,!1]}function Jm(e){var n=mt();return Wm(n,Ge,e)}function Wm(e,n,i){if(n=Uc(e,n,Km)[0],e=Uo(ia)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Yi(n)}catch(p){throw p===Pi?Oo:p}else o=n;n=mt();var u=n.queue,f=u.dispatch;return i!==n.memoizedState&&(xe.flags|=2048,Gr(9,Lo(),vT.bind(null,u,i),null)),[o,f,e]}function vT(e,n){e.action=n}function eg(e){var n=mt(),i=Ge;if(i!==null)return Wm(n,i,e);mt(),n=n.memoizedState,i=mt();var o=i.queue.dispatch;return i.memoizedState=e,[n,o,!1]}function Gr(e,n,i,o){return e={tag:e,create:i,deps:o,inst:n,next:null},n=xe.updateQueue,n===null&&(n=kc(),xe.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e),e}function Lo(){return{destroy:void 0,resource:void 0}}function tg(){return mt().memoizedState}function Io(e,n,i,o){var u=Ft();o=o===void 0?null:o,xe.flags|=e,u.memoizedState=Gr(1|n,Lo(),i,o)}function Ki(e,n,i,o){var u=mt();o=o===void 0?null:o;var f=u.memoizedState.inst;Ge!==null&&o!==null&&xc(o,Ge.memoizedState.deps)?u.memoizedState=Gr(n,f,i,o):(xe.flags|=e,u.memoizedState=Gr(1|n,f,i,o))}function ng(e,n){Io(8390656,8,e,n)}function ag(e,n){Ki(2048,8,e,n)}function rg(e,n){return Ki(4,2,e,n)}function ig(e,n){return Ki(4,4,e,n)}function sg(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function og(e,n,i){i=i!=null?i.concat([e]):null,Ki(4,4,sg.bind(null,n,e),i)}function jc(){}function lg(e,n){var i=mt();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&xc(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function ug(e,n){var i=mt();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&xc(n,o[1]))return o[0];if(o=e(),cr){Ta(!0);try{e()}finally{Ta(!1)}}return i.memoizedState=[o,n],o}function qc(e,n,i){return i===void 0||(Na&1073741824)!==0?e.memoizedState=n:(e.memoizedState=i,e=dy(),xe.lanes|=e,$a|=e,i)}function cg(e,n,i,o){return tn(i,n)?i:Pr.current!==null?(e=qc(e,i,o),tn(e,n)||(wt=!0),e):(Na&42)===0?(wt=!0,e.memoizedState=i):(e=dy(),xe.lanes|=e,$a|=e,n)}function fg(e,n,i,o,u){var f=U.p;U.p=f!==0&&8>f?f:8;var p=x.T,v={};x.T=v,Hc(e,!1,n,i);try{var E=u(),C=x.S;if(C!==null&&C(v,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var L=pT(E,o);Qi(e,n,L,on(e))}else Qi(e,n,o,on(e))}catch($){Qi(e,n,{then:function(){},status:"rejected",reason:$},on())}finally{U.p=f,x.T=p}}function _T(){}function zc(e,n,i,o){if(e.tag!==5)throw Error(s(476));var u=dg(e).queue;fg(e,u,n,H,i===null?_T:function(){return hg(e),i(o)})}function dg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:H},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function hg(e){var n=dg(e).next.queue;Qi(e,n,{},on())}function Bc(){return Dt(ms)}function pg(){return mt().memoizedState}function mg(){return mt().memoizedState}function bT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=on();e=Oa(i);var o=Ca(n,e,i);o!==null&&(ln(o,n,i),Zi(o,n,i)),n={cache:yc()},e.payload=n;return}n=n.return}}function ST(e,n,i){var o=on();i={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},$o(e)?yg(n,i):(i=oc(e,n,i,o),i!==null&&(ln(i,e,o),vg(i,n,o)))}function gg(e,n,i){var o=on();Qi(e,n,i,o)}function Qi(e,n,i,o){var u={lane:o,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if($o(e))yg(n,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,v=f(p,i);if(u.hasEagerState=!0,u.eagerState=v,tn(v,p))return bo(e,n,u,0),We===null&&_o(),!1}catch{}finally{}if(i=oc(e,n,u,o),i!==null)return ln(i,e,o),vg(i,n,o),!0}return!1}function Hc(e,n,i,o){if(o={lane:2,revertLane:Sf(),action:o,hasEagerState:!1,eagerState:null,next:null},$o(e)){if(n)throw Error(s(479))}else n=oc(e,i,o,2),n!==null&&ln(n,e,2)}function $o(e){var n=e.alternate;return e===xe||n!==null&&n===xe}function yg(e,n){Fr=Mo=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function vg(e,n,i){if((i&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Rp(e,i)}}var jo={readContext:Dt,use:Do,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},_g={readContext:Dt,use:Do,useCallback:function(e,n){return Ft().memoizedState=[e,n===void 0?null:n],e},useContext:Dt,useEffect:ng,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Io(4194308,4,sg.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Io(4194308,4,e,n)},useInsertionEffect:function(e,n){Io(4,2,e,n)},useMemo:function(e,n){var i=Ft();n=n===void 0?null:n;var o=e();if(cr){Ta(!0);try{e()}finally{Ta(!1)}}return i.memoizedState=[o,n],o},useReducer:function(e,n,i){var o=Ft();if(i!==void 0){var u=i(n);if(cr){Ta(!0);try{i(n)}finally{Ta(!1)}}}else u=n;return o.memoizedState=o.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},o.queue=e,e=e.dispatch=ST.bind(null,xe,e),[o.memoizedState,e]},useRef:function(e){var n=Ft();return e={current:e},n.memoizedState=e},useState:function(e){e=Ic(e);var n=e.queue,i=gg.bind(null,xe,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:jc,useDeferredValue:function(e,n){var i=Ft();return qc(i,e,n)},useTransition:function(){var e=Ic(!1);return e=fg.bind(null,xe,e.queue,!0,!1),Ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var o=xe,u=Ft();if(Be){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),We===null)throw Error(s(349));(Le&124)!==0||zm(o,n,i)}u.memoizedState=i;var f={value:i,getSnapshot:n};return u.queue=f,ng(Hm.bind(null,o,f,e),[e]),o.flags|=2048,Gr(9,Lo(),Bm.bind(null,o,f,i,n),null),i},useId:function(){var e=Ft(),n=We.identifierPrefix;if(Be){var i=na,o=ta;i=(o&~(1<<32-en(o)-1)).toString(32)+i,n=""+n+"R"+i,i=ko++,0<i&&(n+="H"+i.toString(32)),n+=""}else i=mT++,n=""+n+"r"+i.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Bc,useFormState:Qm,useActionState:Qm,useOptimistic:function(e){var n=Ft();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Hc.bind(null,xe,!0,i),i.dispatch=n,[e,n]},useMemoCache:Dc,useCacheRefresh:function(){return Ft().memoizedState=bT.bind(null,xe)}},bg={readContext:Dt,use:Do,useCallback:lg,useContext:Dt,useEffect:ag,useImperativeHandle:og,useInsertionEffect:rg,useLayoutEffect:ig,useMemo:ug,useReducer:Uo,useRef:tg,useState:function(){return Uo(ia)},useDebugValue:jc,useDeferredValue:function(e,n){var i=mt();return cg(i,Ge.memoizedState,e,n)},useTransition:function(){var e=Uo(ia)[0],n=mt().memoizedState;return[typeof e=="boolean"?e:Yi(e),n]},useSyncExternalStore:qm,useId:pg,useHostTransitionStatus:Bc,useFormState:Jm,useActionState:Jm,useOptimistic:function(e,n){var i=mt();return Zm(i,Ge,e,n)},useMemoCache:Dc,useCacheRefresh:mg},ET={readContext:Dt,use:Do,useCallback:lg,useContext:Dt,useEffect:ag,useImperativeHandle:og,useInsertionEffect:rg,useLayoutEffect:ig,useMemo:ug,useReducer:Lc,useRef:tg,useState:function(){return Lc(ia)},useDebugValue:jc,useDeferredValue:function(e,n){var i=mt();return Ge===null?qc(i,e,n):cg(i,Ge.memoizedState,e,n)},useTransition:function(){var e=Lc(ia)[0],n=mt().memoizedState;return[typeof e=="boolean"?e:Yi(e),n]},useSyncExternalStore:qm,useId:pg,useHostTransitionStatus:Bc,useFormState:eg,useActionState:eg,useOptimistic:function(e,n){var i=mt();return Ge!==null?Zm(i,Ge,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Dc,useCacheRefresh:mg},Vr=null,Ji=0;function qo(e){var n=Ji;return Ji+=1,Vr===null&&(Vr=[]),Mm(Vr,e,n)}function Wi(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zo(e,n){throw n.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Sg(e){var n=e._init;return n(e._payload)}function Eg(e){function n(R,T){if(e){var O=R.deletions;O===null?(R.deletions=[T],R.flags|=16):O.push(T)}}function i(R,T){if(!e)return null;for(;T!==null;)n(R,T),T=T.sibling;return null}function o(R){for(var T=new Map;R!==null;)R.key!==null?T.set(R.key,R):T.set(R.index,R),R=R.sibling;return T}function u(R,T){return R=ea(R,T),R.index=0,R.sibling=null,R}function f(R,T,O){return R.index=O,e?(O=R.alternate,O!==null?(O=O.index,O<T?(R.flags|=67108866,T):O):(R.flags|=67108866,T)):(R.flags|=1048576,T)}function p(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function v(R,T,O,I){return T===null||T.tag!==6?(T=uc(O,R.mode,I),T.return=R,T):(T=u(T,O),T.return=R,T)}function E(R,T,O,I){var ne=O.type;return ne===z?L(R,T,O.props.children,I,O.key):T!==null&&(T.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===oe&&Sg(ne)===T.type)?(T=u(T,O.props),Wi(T,O),T.return=R,T):(T=Eo(O.type,O.key,O.props,null,R.mode,I),Wi(T,O),T.return=R,T)}function C(R,T,O,I){return T===null||T.tag!==4||T.stateNode.containerInfo!==O.containerInfo||T.stateNode.implementation!==O.implementation?(T=cc(O,R.mode,I),T.return=R,T):(T=u(T,O.children||[]),T.return=R,T)}function L(R,T,O,I,ne){return T===null||T.tag!==7?(T=nr(O,R.mode,I,ne),T.return=R,T):(T=u(T,O),T.return=R,T)}function $(R,T,O){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=uc(""+T,R.mode,O),T.return=R,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case A:return O=Eo(T.type,T.key,T.props,null,R.mode,O),Wi(O,T),O.return=R,O;case w:return T=cc(T,R.mode,O),T.return=R,T;case oe:var I=T._init;return T=I(T._payload),$(R,T,O)}if(F(T)||st(T))return T=nr(T,R.mode,O,null),T.return=R,T;if(typeof T.then=="function")return $(R,qo(T),O);if(T.$$typeof===se)return $(R,Ro(R,T),O);zo(R,T)}return null}function N(R,T,O,I){var ne=T!==null?T.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return ne!==null?null:v(R,T,""+O,I);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return O.key===ne?E(R,T,O,I):null;case w:return O.key===ne?C(R,T,O,I):null;case oe:return ne=O._init,O=ne(O._payload),N(R,T,O,I)}if(F(O)||st(O))return ne!==null?null:L(R,T,O,I,null);if(typeof O.then=="function")return N(R,T,qo(O),I);if(O.$$typeof===se)return N(R,T,Ro(R,O),I);zo(R,O)}return null}function M(R,T,O,I,ne){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return R=R.get(O)||null,v(T,R,""+I,ne);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case A:return R=R.get(I.key===null?O:I.key)||null,E(T,R,I,ne);case w:return R=R.get(I.key===null?O:I.key)||null,C(T,R,I,ne);case oe:var Ce=I._init;return I=Ce(I._payload),M(R,T,O,I,ne)}if(F(I)||st(I))return R=R.get(O)||null,L(T,R,I,ne,null);if(typeof I.then=="function")return M(R,T,O,qo(I),ne);if(I.$$typeof===se)return M(R,T,O,Ro(T,I),ne);zo(T,I)}return null}function _e(R,T,O,I){for(var ne=null,Ce=null,ue=T,ve=T=0,Rt=null;ue!==null&&ve<O.length;ve++){ue.index>ve?(Rt=ue,ue=null):Rt=ue.sibling;var je=N(R,ue,O[ve],I);if(je===null){ue===null&&(ue=Rt);break}e&&ue&&je.alternate===null&&n(R,ue),T=f(je,T,ve),Ce===null?ne=je:Ce.sibling=je,Ce=je,ue=Rt}if(ve===O.length)return i(R,ue),Be&&rr(R,ve),ne;if(ue===null){for(;ve<O.length;ve++)ue=$(R,O[ve],I),ue!==null&&(T=f(ue,T,ve),Ce===null?ne=ue:Ce.sibling=ue,Ce=ue);return Be&&rr(R,ve),ne}for(ue=o(ue);ve<O.length;ve++)Rt=M(ue,R,ve,O[ve],I),Rt!==null&&(e&&Rt.alternate!==null&&ue.delete(Rt.key===null?ve:Rt.key),T=f(Rt,T,ve),Ce===null?ne=Rt:Ce.sibling=Rt,Ce=Rt);return e&&ue.forEach(function(Ga){return n(R,Ga)}),Be&&rr(R,ve),ne}function ge(R,T,O,I){if(O==null)throw Error(s(151));for(var ne=null,Ce=null,ue=T,ve=T=0,Rt=null,je=O.next();ue!==null&&!je.done;ve++,je=O.next()){ue.index>ve?(Rt=ue,ue=null):Rt=ue.sibling;var Ga=N(R,ue,je.value,I);if(Ga===null){ue===null&&(ue=Rt);break}e&&ue&&Ga.alternate===null&&n(R,ue),T=f(Ga,T,ve),Ce===null?ne=Ga:Ce.sibling=Ga,Ce=Ga,ue=Rt}if(je.done)return i(R,ue),Be&&rr(R,ve),ne;if(ue===null){for(;!je.done;ve++,je=O.next())je=$(R,je.value,I),je!==null&&(T=f(je,T,ve),Ce===null?ne=je:Ce.sibling=je,Ce=je);return Be&&rr(R,ve),ne}for(ue=o(ue);!je.done;ve++,je=O.next())je=M(ue,R,ve,je.value,I),je!==null&&(e&&je.alternate!==null&&ue.delete(je.key===null?ve:je.key),T=f(je,T,ve),Ce===null?ne=je:Ce.sibling=je,Ce=je);return e&&ue.forEach(function(Tw){return n(R,Tw)}),Be&&rr(R,ve),ne}function Xe(R,T,O,I){if(typeof O=="object"&&O!==null&&O.type===z&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case A:e:{for(var ne=O.key;T!==null;){if(T.key===ne){if(ne=O.type,ne===z){if(T.tag===7){i(R,T.sibling),I=u(T,O.props.children),I.return=R,R=I;break e}}else if(T.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===oe&&Sg(ne)===T.type){i(R,T.sibling),I=u(T,O.props),Wi(I,O),I.return=R,R=I;break e}i(R,T);break}else n(R,T);T=T.sibling}O.type===z?(I=nr(O.props.children,R.mode,I,O.key),I.return=R,R=I):(I=Eo(O.type,O.key,O.props,null,R.mode,I),Wi(I,O),I.return=R,R=I)}return p(R);case w:e:{for(ne=O.key;T!==null;){if(T.key===ne)if(T.tag===4&&T.stateNode.containerInfo===O.containerInfo&&T.stateNode.implementation===O.implementation){i(R,T.sibling),I=u(T,O.children||[]),I.return=R,R=I;break e}else{i(R,T);break}else n(R,T);T=T.sibling}I=cc(O,R.mode,I),I.return=R,R=I}return p(R);case oe:return ne=O._init,O=ne(O._payload),Xe(R,T,O,I)}if(F(O))return _e(R,T,O,I);if(st(O)){if(ne=st(O),typeof ne!="function")throw Error(s(150));return O=ne.call(O),ge(R,T,O,I)}if(typeof O.then=="function")return Xe(R,T,qo(O),I);if(O.$$typeof===se)return Xe(R,T,Ro(R,O),I);zo(R,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,T!==null&&T.tag===6?(i(R,T.sibling),I=u(T,O),I.return=R,R=I):(i(R,T),I=uc(O,R.mode,I),I.return=R,R=I),p(R)):i(R,T)}return function(R,T,O,I){try{Ji=0;var ne=Xe(R,T,O,I);return Vr=null,ne}catch(ue){if(ue===Pi||ue===Oo)throw ue;var Ce=nn(29,ue,null,R.mode);return Ce.lanes=I,Ce.return=R,Ce}finally{}}}var Xr=Eg(!0),Tg=Eg(!1),Sn=k(null),Hn=null;function Ma(e){var n=e.alternate;P(bt,bt.current&1),P(Sn,e),Hn===null&&(n===null||Pr.current!==null||n.memoizedState!==null)&&(Hn=e)}function wg(e){if(e.tag===22){if(P(bt,bt.current),P(Sn,e),Hn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Hn=e)}}else ka()}function ka(){P(bt,bt.current),P(Sn,Sn.current)}function sa(e){j(Sn),Hn===e&&(Hn=null),j(bt)}var bt=k(0);function Bo(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Df(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Pc(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:y({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Fc={enqueueSetState:function(e,n,i){e=e._reactInternals;var o=on(),u=Oa(o);u.payload=n,i!=null&&(u.callback=i),n=Ca(e,u,o),n!==null&&(ln(n,e,o),Zi(n,e,o))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=on(),u=Oa(o);u.tag=1,u.payload=n,i!=null&&(u.callback=i),n=Ca(e,u,o),n!==null&&(ln(n,e,o),Zi(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=on(),o=Oa(i);o.tag=2,n!=null&&(o.callback=n),n=Ca(e,o,i),n!==null&&(ln(n,e,i),Zi(n,e,i))}};function Ag(e,n,i,o,u,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Li(i,o)||!Li(u,f):!0}function Rg(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&Fc.enqueueReplaceState(n,n.state,null)}function fr(e,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(e=e.defaultProps){i===n&&(i=y({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}var Ho=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function xg(e){Ho(e)}function Og(e){console.error(e)}function Cg(e){Ho(e)}function Po(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Ng(e,n,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Zc(e,n,i){return i=Oa(i),i.tag=3,i.payload={element:null},i.callback=function(){Po(e,n)},i}function Mg(e){return e=Oa(e),e.tag=3,e}function kg(e,n,i,o){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var f=o.value;e.payload=function(){return u(f)},e.callback=function(){Ng(n,i,o)}}var p=i.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Ng(n,i,o),typeof u!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function TT(e,n,i,o,u){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&zi(n,i,u,!0),i=Sn.current,i!==null){switch(i.tag){case 13:return Hn===null?gf():i.alternate===null&&ut===0&&(ut=3),i.flags&=-257,i.flags|=65536,i.lanes=u,o===bc?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),vf(e,o,u)),!1;case 22:return i.flags|=65536,o===bc?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),vf(e,o,u)),!1}throw Error(s(435,i.tag))}return vf(e,o,u),gf(),!1}if(Be)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,o!==hc&&(e=Error(s(422),{cause:o}),qi(yn(e,i)))):(o!==hc&&(n=Error(s(423),{cause:o}),qi(yn(n,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,o=yn(o,i),u=Zc(e.stateNode,o,u),Tc(e,u),ut!==4&&(ut=2)),!1;var f=Error(s(520),{cause:o});if(f=yn(f,i),ss===null?ss=[f]:ss.push(f),ut!==4&&(ut=2),n===null)return!0;o=yn(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=Zc(i.stateNode,o,e),Tc(i,e),!1;case 1:if(n=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ja===null||!ja.has(f))))return i.flags|=65536,u&=-u,i.lanes|=u,u=Mg(u),kg(u,e,i,o),Tc(i,u),!1}i=i.return}while(i!==null);return!1}var Dg=Error(s(461)),wt=!1;function xt(e,n,i,o){n.child=e===null?Tg(n,null,i,o):Xr(n,e.child,i,o)}function Ug(e,n,i,o,u){i=i.render;var f=n.ref;if("ref"in o){var p={};for(var v in o)v!=="ref"&&(p[v]=o[v])}else p=o;return lr(n),o=Oc(e,n,i,p,f,u),v=Cc(),e!==null&&!wt?(Nc(e,n,u),oa(e,n,u)):(Be&&v&&fc(n),n.flags|=1,xt(e,n,o,u),n.child)}function Lg(e,n,i,o,u){if(e===null){var f=i.type;return typeof f=="function"&&!lc(f)&&f.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=f,Ig(e,n,f,o,u)):(e=Eo(i.type,null,o,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Wc(e,u)){var p=f.memoizedProps;if(i=i.compare,i=i!==null?i:Li,i(p,o)&&e.ref===n.ref)return oa(e,n,u)}return n.flags|=1,e=ea(f,o),e.ref=n.ref,e.return=n,n.child=e}function Ig(e,n,i,o,u){if(e!==null){var f=e.memoizedProps;if(Li(f,o)&&e.ref===n.ref)if(wt=!1,n.pendingProps=o=f,Wc(e,u))(e.flags&131072)!==0&&(wt=!0);else return n.lanes=e.lanes,oa(e,n,u)}return Gc(e,n,i,o,u)}function $g(e,n,i){var o=n.pendingProps,u=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|i:i,e!==null){for(u=n.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return jg(e,n,o,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&xo(n,f!==null?f.cachePool:null),f!==null?Im(n,f):Ac(),wg(n);else return n.lanes=n.childLanes=536870912,jg(e,n,f!==null?f.baseLanes|i:i,i)}else f!==null?(xo(n,f.cachePool),Im(n,f),ka(),n.memoizedState=null):(e!==null&&xo(n,null),Ac(),ka());return xt(e,n,u,i),n.child}function jg(e,n,i,o){var u=_c();return u=u===null?null:{parent:_t._currentValue,pool:u},n.memoizedState={baseLanes:i,cachePool:u},e!==null&&xo(n,null),Ac(),wg(n),e!==null&&zi(e,n,o,!0),null}function Fo(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function Gc(e,n,i,o,u){return lr(n),i=Oc(e,n,i,o,void 0,u),o=Cc(),e!==null&&!wt?(Nc(e,n,u),oa(e,n,u)):(Be&&o&&fc(n),n.flags|=1,xt(e,n,i,u),n.child)}function qg(e,n,i,o,u,f){return lr(n),n.updateQueue=null,i=jm(n,o,i,u),$m(e),o=Cc(),e!==null&&!wt?(Nc(e,n,f),oa(e,n,f)):(Be&&o&&fc(n),n.flags|=1,xt(e,n,i,f),n.child)}function zg(e,n,i,o,u){if(lr(n),n.stateNode===null){var f=jr,p=i.contextType;typeof p=="object"&&p!==null&&(f=Dt(p)),f=new i(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Fc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Sc(n),p=i.contextType,f.context=typeof p=="object"&&p!==null?Dt(p):jr,f.state=n.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(Pc(n,i,p,o),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Fc.enqueueReplaceState(f,f.state,null),Vi(n,o,f,u),Gi(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var v=n.memoizedProps,E=fr(i,v);f.props=E;var C=f.context,L=i.contextType;p=jr,typeof L=="object"&&L!==null&&(p=Dt(L));var $=i.getDerivedStateFromProps;L=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,L||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||C!==p)&&Rg(n,f,o,p),xa=!1;var N=n.memoizedState;f.state=N,Vi(n,o,f,u),Gi(),C=n.memoizedState,v||N!==C||xa?(typeof $=="function"&&(Pc(n,i,$,o),C=n.memoizedState),(E=xa||Ag(n,i,E,o,N,C,p))?(L||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=C),f.props=o,f.state=C,f.context=p,o=E):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Ec(e,n),p=n.memoizedProps,L=fr(i,p),f.props=L,$=n.pendingProps,N=f.context,C=i.contextType,E=jr,typeof C=="object"&&C!==null&&(E=Dt(C)),v=i.getDerivedStateFromProps,(C=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||N!==E)&&Rg(n,f,o,E),xa=!1,N=n.memoizedState,f.state=N,Vi(n,o,f,u),Gi();var M=n.memoizedState;p!==$||N!==M||xa||e!==null&&e.dependencies!==null&&Ao(e.dependencies)?(typeof v=="function"&&(Pc(n,i,v,o),M=n.memoizedState),(L=xa||Ag(n,i,L,o,N,M,E)||e!==null&&e.dependencies!==null&&Ao(e.dependencies))?(C||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,M,E),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,M,E)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=M),f.props=o,f.state=M,f.context=E,o=L):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Fo(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Xr(n,e.child,null,u),n.child=Xr(n,null,i,u)):xt(e,n,i,u),n.memoizedState=f.state,e=n.child):e=oa(e,n,u),e}function Bg(e,n,i,o){return ji(),n.flags|=256,xt(e,n,i,o),n.child}var Vc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xc(e){return{baseLanes:e,cachePool:Om()}}function Yc(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=En),e}function Hg(e,n,i){var o=n.pendingProps,u=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(bt.current&2)!==0),p&&(u=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Be){if(u?Ma(n):ka(),Be){var v=lt,E;if(E=v){e:{for(E=v,v=Bn;E.nodeType!==8;){if(!v){v=null;break e}if(E=Nn(E.nextSibling),E===null){v=null;break e}}v=E}v!==null?(n.memoizedState={dehydrated:v,treeContext:ar!==null?{id:ta,overflow:na}:null,retryLane:536870912,hydrationErrors:null},E=nn(18,null,null,0),E.stateNode=v,E.return=n,n.child=E,$t=n,lt=null,E=!0):E=!1}E||sr(n)}if(v=n.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Df(v)?n.lanes=32:n.lanes=536870912,null;sa(n)}return v=o.children,o=o.fallback,u?(ka(),u=n.mode,v=Zo({mode:"hidden",children:v},u),o=nr(o,u,i,null),v.return=n,o.return=n,v.sibling=o,n.child=v,u=n.child,u.memoizedState=Xc(i),u.childLanes=Yc(e,p,i),n.memoizedState=Vc,o):(Ma(n),Kc(n,v))}if(E=e.memoizedState,E!==null&&(v=E.dehydrated,v!==null)){if(f)n.flags&256?(Ma(n),n.flags&=-257,n=Qc(e,n,i)):n.memoizedState!==null?(ka(),n.child=e.child,n.flags|=128,n=null):(ka(),u=o.fallback,v=n.mode,o=Zo({mode:"visible",children:o.children},v),u=nr(u,v,i,null),u.flags|=2,o.return=n,u.return=n,o.sibling=u,n.child=o,Xr(n,e.child,null,i),o=n.child,o.memoizedState=Xc(i),o.childLanes=Yc(e,p,i),n.memoizedState=Vc,n=u);else if(Ma(n),Df(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var C=p.dgst;p=C,o=Error(s(419)),o.stack="",o.digest=p,qi({value:o,source:null,stack:null}),n=Qc(e,n,i)}else if(wt||zi(e,n,i,!1),p=(i&e.childLanes)!==0,wt||p){if(p=We,p!==null&&(o=i&-i,o=(o&42)!==0?1:Du(o),o=(o&(p.suspendedLanes|i))!==0?0:o,o!==0&&o!==E.retryLane))throw E.retryLane=o,$r(e,o),ln(p,e,o),Dg;v.data==="$?"||gf(),n=Qc(e,n,i)}else v.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=E.treeContext,lt=Nn(v.nextSibling),$t=n,Be=!0,ir=null,Bn=!1,e!==null&&(_n[bn++]=ta,_n[bn++]=na,_n[bn++]=ar,ta=e.id,na=e.overflow,ar=n),n=Kc(n,o.children),n.flags|=4096);return n}return u?(ka(),u=o.fallback,v=n.mode,E=e.child,C=E.sibling,o=ea(E,{mode:"hidden",children:o.children}),o.subtreeFlags=E.subtreeFlags&65011712,C!==null?u=ea(C,u):(u=nr(u,v,i,null),u.flags|=2),u.return=n,o.return=n,o.sibling=u,n.child=o,o=u,u=n.child,v=e.child.memoizedState,v===null?v=Xc(i):(E=v.cachePool,E!==null?(C=_t._currentValue,E=E.parent!==C?{parent:C,pool:C}:E):E=Om(),v={baseLanes:v.baseLanes|i,cachePool:E}),u.memoizedState=v,u.childLanes=Yc(e,p,i),n.memoizedState=Vc,o):(Ma(n),i=e.child,e=i.sibling,i=ea(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=i,n.memoizedState=null,i)}function Kc(e,n){return n=Zo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zo(e,n){return e=nn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Qc(e,n,i){return Xr(n,e.child,null,i),e=Kc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Pg(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),mc(e.return,n,i)}function Jc(e,n,i,o,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:u}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=i,f.tailMode=u)}function Fg(e,n,i){var o=n.pendingProps,u=o.revealOrder,f=o.tail;if(xt(e,n,o.children,i),o=bt.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pg(e,i,n);else if(e.tag===19)Pg(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(P(bt,o),u){case"forwards":for(i=n.child,u=null;i!==null;)e=i.alternate,e!==null&&Bo(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=n.child,n.child=null):(u=i.sibling,i.sibling=null),Jc(n,!1,u,i,f);break;case"backwards":for(i=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Bo(e)===null){n.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}Jc(n,!0,i,null,f);break;case"together":Jc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function oa(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),$a|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(zi(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,i=ea(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=ea(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Wc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ao(e)))}function wT(e,n,i){switch(n.tag){case 3:nt(n,n.stateNode.containerInfo),Ra(n,_t,e.memoizedState.cache),ji();break;case 27:case 5:Ou(n);break;case 4:nt(n,n.stateNode.containerInfo);break;case 10:Ra(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ma(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Hg(e,n,i):(Ma(n),e=oa(e,n,i),e!==null?e.sibling:null);Ma(n);break;case 19:var u=(e.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||(zi(e,n,i,!1),o=(i&n.childLanes)!==0),u){if(o)return Fg(e,n,i);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),P(bt,bt.current),o)break;return null;case 22:case 23:return n.lanes=0,$g(e,n,i);case 24:Ra(n,_t,e.memoizedState.cache)}return oa(e,n,i)}function Zg(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)wt=!0;else{if(!Wc(e,i)&&(n.flags&128)===0)return wt=!1,wT(e,n,i);wt=(e.flags&131072)!==0}else wt=!1,Be&&(n.flags&1048576)!==0&&Sm(n,wo,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,u=o._init;if(o=u(o._payload),n.type=o,typeof o=="function")lc(o)?(e=fr(o,e),n.tag=1,n=zg(null,n,o,e,i)):(n.tag=0,n=Gc(null,n,o,e,i));else{if(o!=null){if(u=o.$$typeof,u===Te){n.tag=11,n=Ug(null,n,o,e,i);break e}else if(u===Se){n.tag=14,n=Lg(null,n,o,e,i);break e}}throw n=Q(o)||o,Error(s(306,n,""))}}return n;case 0:return Gc(e,n,n.type,n.pendingProps,i);case 1:return o=n.type,u=fr(o,n.pendingProps),zg(e,n,o,u,i);case 3:e:{if(nt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;u=f.element,Ec(e,n),Vi(n,o,null,i);var p=n.memoizedState;if(o=p.cache,Ra(n,_t,o),o!==f.cache&&gc(n,[_t],i,!0),Gi(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Bg(e,n,o,i);break e}else if(o!==u){u=yn(Error(s(424)),n),qi(u),n=Bg(e,n,o,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(lt=Nn(e.firstChild),$t=n,Be=!0,ir=null,Bn=!0,i=Tg(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(ji(),o===u){n=oa(e,n,i);break e}xt(e,n,o,i)}n=n.child}return n;case 26:return Fo(e,n),e===null?(i=Yy(n.type,null,n.pendingProps,null))?n.memoizedState=i:Be||(i=n.type,e=n.pendingProps,o=il(ye.current).createElement(i),o[kt]=n,o[Ht]=e,Ct(o,i,e),Tt(o),n.stateNode=o):n.memoizedState=Yy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ou(n),e===null&&Be&&(o=n.stateNode=Gy(n.type,n.pendingProps,ye.current),$t=n,Bn=!0,u=lt,Ba(n.type)?(Uf=u,lt=Nn(o.firstChild)):lt=u),xt(e,n,n.pendingProps.children,i),Fo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Be&&((u=o=lt)&&(o=JT(o,n.type,n.pendingProps,Bn),o!==null?(n.stateNode=o,$t=n,lt=Nn(o.firstChild),Bn=!1,u=!0):u=!1),u||sr(n)),Ou(n),u=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,Nf(u,f)?o=null:p!==null&&Nf(u,p)&&(n.flags|=32),n.memoizedState!==null&&(u=Oc(e,n,gT,null,null,i),ms._currentValue=u),Fo(e,n),xt(e,n,o,i),n.child;case 6:return e===null&&Be&&((e=i=lt)&&(i=WT(i,n.pendingProps,Bn),i!==null?(n.stateNode=i,$t=n,lt=null,e=!0):e=!1),e||sr(n)),null;case 13:return Hg(e,n,i);case 4:return nt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Xr(n,null,o,i):xt(e,n,o,i),n.child;case 11:return Ug(e,n,n.type,n.pendingProps,i);case 7:return xt(e,n,n.pendingProps,i),n.child;case 8:return xt(e,n,n.pendingProps.children,i),n.child;case 12:return xt(e,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,Ra(n,n.type,o.value),xt(e,n,o.children,i),n.child;case 9:return u=n.type._context,o=n.pendingProps.children,lr(n),u=Dt(u),o=o(u),n.flags|=1,xt(e,n,o,i),n.child;case 14:return Lg(e,n,n.type,n.pendingProps,i);case 15:return Ig(e,n,n.type,n.pendingProps,i);case 19:return Fg(e,n,i);case 31:return o=n.pendingProps,i=n.mode,o={mode:o.mode,children:o.children},e===null?(i=Zo(o,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=ea(e.child,o),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return $g(e,n,i);case 24:return lr(n),o=Dt(_t),e===null?(u=_c(),u===null&&(u=We,f=yc(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=i),u=f),n.memoizedState={parent:o,cache:u},Sc(n),Ra(n,_t,u)):((e.lanes&i)!==0&&(Ec(e,n),Vi(n,null,null,i),Gi()),u=e.memoizedState,f=n.memoizedState,u.parent!==o?(u={parent:o,cache:o},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),Ra(n,_t,o)):(o=f.cache,Ra(n,_t,o),o!==u.cache&&gc(n,[_t],i,!0))),xt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function la(e){e.flags|=4}function Gg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ev(n)){if(n=Sn.current,n!==null&&((Le&4194048)===Le?Hn!==null:(Le&62914560)!==Le&&(Le&536870912)===0||n!==Hn))throw Fi=bc,Cm;e.flags|=8192}}function Go(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?wp():536870912,e.lanes|=n,Jr|=n)}function es(e,n){if(!Be)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ot(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function AT(e,n,i){var o=n.pendingProps;switch(dc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(n),null;case 1:return ot(n),null;case 3:return i=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ra(_t),Ea(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&($i(n)?la(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,wm())),ot(n),null;case 26:return i=n.memoizedState,e===null?(la(n),i!==null?(ot(n),Gg(n,i)):(ot(n),n.flags&=-16777217)):i?i!==e.memoizedState?(la(n),ot(n),Gg(n,i)):(ot(n),n.flags&=-16777217):(e.memoizedProps!==o&&la(n),ot(n),n.flags&=-16777217),null;case 27:no(n),i=ye.current;var u=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&la(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ot(n),null}e=ee.current,$i(n)?Em(n):(e=Gy(u,o,i),n.stateNode=e,la(n))}return ot(n),null;case 5:if(no(n),i=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&la(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ot(n),null}if(e=ee.current,$i(n))Em(n);else{switch(u=il(ye.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?u.createElement("select",{is:o.is}):u.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?u.createElement(i,{is:o.is}):u.createElement(i)}}e[kt]=n,e[Ht]=o;e:for(u=n.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}n.stateNode=e;e:switch(Ct(e,i,o),i){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&la(n)}}return ot(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&la(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=ye.current,$i(n)){if(e=n.stateNode,i=n.memoizedProps,o=null,u=$t,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}e[kt]=n,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||qy(e.nodeValue,i)),e||sr(n)}else e=il(e).createTextNode(o),e[kt]=n,n.stateNode=e}return ot(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=$i(n),o!==null&&o.dehydrated!==null){if(e===null){if(!u)throw Error(s(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(s(317));u[kt]=n}else ji(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ot(n),u=!1}else u=wm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(sa(n),n):(sa(n),null)}if(sa(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=o!==null,e=e!==null&&e.memoizedState!==null,i){o=n.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048)}return i!==e&&i&&(n.child.flags|=8192),Go(n,n.updateQueue),ot(n),null;case 4:return Ea(),e===null&&Af(n.stateNode.containerInfo),ot(n),null;case 10:return ra(n.type),ot(n),null;case 19:if(j(bt),u=n.memoizedState,u===null)return ot(n),null;if(o=(n.flags&128)!==0,f=u.rendering,f===null)if(o)es(u,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Bo(e),f!==null){for(n.flags|=128,es(u,!1),e=f.updateQueue,n.updateQueue=e,Go(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)bm(i,e),i=i.sibling;return P(bt,bt.current&1|2),n.child}e=e.sibling}u.tail!==null&&zn()>Yo&&(n.flags|=128,o=!0,es(u,!1),n.lanes=4194304)}else{if(!o)if(e=Bo(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Go(n,e),es(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Be)return ot(n),null}else 2*zn()-u.renderingStartTime>Yo&&i!==536870912&&(n.flags|=128,o=!0,es(u,!1),n.lanes=4194304);u.isBackwards?(f.sibling=n.child,n.child=f):(e=u.last,e!==null?e.sibling=f:n.child=f,u.last=f)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=zn(),n.sibling=null,e=bt.current,P(bt,o?e&1|2:e&1),n):(ot(n),null);case 22:case 23:return sa(n),Rc(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(i&536870912)!==0&&(n.flags&128)===0&&(ot(n),n.subtreeFlags&6&&(n.flags|=8192)):ot(n),i=n.updateQueue,i!==null&&Go(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),e!==null&&j(ur),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),ra(_t),ot(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function RT(e,n){switch(dc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ra(_t),Ea(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return no(n),null;case 13:if(sa(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ji()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return j(bt),null;case 4:return Ea(),null;case 10:return ra(n.type),null;case 22:case 23:return sa(n),Rc(),e!==null&&j(ur),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ra(_t),null;case 25:return null;default:return null}}function Vg(e,n){switch(dc(n),n.tag){case 3:ra(_t),Ea();break;case 26:case 27:case 5:no(n);break;case 4:Ea();break;case 13:sa(n);break;case 19:j(bt);break;case 10:ra(n.type);break;case 22:case 23:sa(n),Rc(),e!==null&&j(ur);break;case 24:ra(_t)}}function ts(e,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var u=o.next;i=u;do{if((i.tag&e)===e){o=void 0;var f=i.create,p=i.inst;o=f(),p.destroy=o}i=i.next}while(i!==u)}}catch(v){Ke(n,n.return,v)}}function Da(e,n,i){try{var o=n.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&e)===e){var p=o.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,u=n;var E=i,C=v;try{C()}catch(L){Ke(u,E,L)}}}o=o.next}while(o!==f)}}catch(L){Ke(n,n.return,L)}}function Xg(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{Lm(n,i)}catch(o){Ke(e,e.return,o)}}}function Yg(e,n,i){i.props=fr(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){Ke(e,n,o)}}function ns(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(u){Ke(e,n,u)}}function Pn(e,n){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(u){Ke(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){Ke(e,n,u)}else i.current=null}function Kg(e){var n=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(u){Ke(e,e.return,u)}}function ef(e,n,i){try{var o=e.stateNode;VT(o,e.type,i,n),o[Ht]=n}catch(u){Ke(e,e.return,u)}}function Qg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ba(e.type)||e.tag===4}function tf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ba(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nf(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=rl));else if(o!==4&&(o===27&&Ba(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(nf(e,n,i),e=e.sibling;e!==null;)nf(e,n,i),e=e.sibling}function Vo(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&(o===27&&Ba(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Vo(e,n,i),e=e.sibling;e!==null;)Vo(e,n,i),e=e.sibling}function Jg(e){var n=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);Ct(n,o,i),n[kt]=e,n[Ht]=i}catch(f){Ke(e,e.return,f)}}var ua=!1,dt=!1,af=!1,Wg=typeof WeakSet=="function"?WeakSet:Set,At=null;function xT(e,n){if(e=e.containerInfo,Of=fl,e=cm(e),tc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var u=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var p=0,v=-1,E=-1,C=0,L=0,$=e,N=null;t:for(;;){for(var M;$!==i||u!==0&&$.nodeType!==3||(v=p+u),$!==f||o!==0&&$.nodeType!==3||(E=p+o),$.nodeType===3&&(p+=$.nodeValue.length),(M=$.firstChild)!==null;)N=$,$=M;for(;;){if($===e)break t;if(N===i&&++C===u&&(v=p),N===f&&++L===o&&(E=p),(M=$.nextSibling)!==null)break;$=N,N=$.parentNode}$=M}i=v===-1||E===-1?null:{start:v,end:E}}else i=null}i=i||{start:0,end:0}}else i=null;for(Cf={focusedElem:e,selectionRange:i},fl=!1,At=n;At!==null;)if(n=At,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,At=e;else for(;At!==null;){switch(n=At,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,i=n,u=f.memoizedProps,f=f.memoizedState,o=i.stateNode;try{var _e=fr(i.type,u,i.elementType===i.type);e=o.getSnapshotBeforeUpdate(_e,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ge){Ke(i,i.return,ge)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)kf(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,At=e;break}At=n.return}}function ey(e,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Ua(e,i),o&4&&ts(5,i);break;case 1:if(Ua(e,i),o&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(p){Ke(i,i.return,p)}else{var u=fr(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ke(i,i.return,p)}}o&64&&Xg(i),o&512&&ns(i,i.return);break;case 3:if(Ua(e,i),o&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Lm(e,n)}catch(p){Ke(i,i.return,p)}}break;case 27:n===null&&o&4&&Jg(i);case 26:case 5:Ua(e,i),n===null&&o&4&&Kg(i),o&512&&ns(i,i.return);break;case 12:Ua(e,i);break;case 13:Ua(e,i),o&4&&ay(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=IT.bind(null,i),ew(e,i))));break;case 22:if(o=i.memoizedState!==null||ua,!o){n=n!==null&&n.memoizedState!==null||dt,u=ua;var f=dt;ua=o,(dt=n)&&!f?La(e,i,(i.subtreeFlags&8772)!==0):Ua(e,i),ua=u,dt=f}break;case 30:break;default:Ua(e,i)}}function ty(e){var n=e.alternate;n!==null&&(e.alternate=null,ty(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Iu(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var at=null,Zt=!1;function ca(e,n,i){for(i=i.child;i!==null;)ny(e,n,i),i=i.sibling}function ny(e,n,i){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Ti,i)}catch{}switch(i.tag){case 26:dt||Pn(i,n),ca(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:dt||Pn(i,n);var o=at,u=Zt;Ba(i.type)&&(at=i.stateNode,Zt=!1),ca(e,n,i),fs(i.stateNode),at=o,Zt=u;break;case 5:dt||Pn(i,n);case 6:if(o=at,u=Zt,at=null,ca(e,n,i),at=o,Zt=u,at!==null)if(Zt)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(i.stateNode)}catch(f){Ke(i,n,f)}else try{at.removeChild(i.stateNode)}catch(f){Ke(i,n,f)}break;case 18:at!==null&&(Zt?(e=at,Fy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),_s(e)):Fy(at,i.stateNode));break;case 4:o=at,u=Zt,at=i.stateNode.containerInfo,Zt=!0,ca(e,n,i),at=o,Zt=u;break;case 0:case 11:case 14:case 15:dt||Da(2,i,n),dt||Da(4,i,n),ca(e,n,i);break;case 1:dt||(Pn(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&Yg(i,n,o)),ca(e,n,i);break;case 21:ca(e,n,i);break;case 22:dt=(o=dt)||i.memoizedState!==null,ca(e,n,i),dt=o;break;default:ca(e,n,i)}}function ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_s(e)}catch(i){Ke(n,n.return,i)}}function OT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Wg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Wg),n;default:throw Error(s(435,e.tag))}}function rf(e,n){var i=OT(e);n.forEach(function(o){var u=$T.bind(null,e,o);i.has(o)||(i.add(o),o.then(u,u))})}function an(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var u=i[o],f=e,p=n,v=p;e:for(;v!==null;){switch(v.tag){case 27:if(Ba(v.type)){at=v.stateNode,Zt=!1;break e}break;case 5:at=v.stateNode,Zt=!1;break e;case 3:case 4:at=v.stateNode.containerInfo,Zt=!0;break e}v=v.return}if(at===null)throw Error(s(160));ny(f,p,u),at=null,Zt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ry(n,e),n=n.sibling}var Cn=null;function ry(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),rn(e),o&4&&(Da(3,e,e.return),ts(3,e),Da(5,e,e.return));break;case 1:an(n,e),rn(e),o&512&&(dt||i===null||Pn(i,i.return)),o&64&&ua&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var u=Cn;if(an(n,e),rn(e),o&512&&(dt||i===null||Pn(i,i.return)),o&4){var f=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(o){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Ri]||f[kt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(o),u.head.insertBefore(f,u.querySelector("head > title"))),Ct(f,o,i),f[kt]=e,Tt(f),o=f;break e;case"link":var p=Jy("link","href",u).get(o+(i.href||""));if(p){for(var v=0;v<p.length;v++)if(f=p[v],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){p.splice(v,1);break t}}f=u.createElement(o),Ct(f,o,i),u.head.appendChild(f);break;case"meta":if(p=Jy("meta","content",u).get(o+(i.content||""))){for(v=0;v<p.length;v++)if(f=p[v],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){p.splice(v,1);break t}}f=u.createElement(o),Ct(f,o,i),u.head.appendChild(f);break;default:throw Error(s(468,o))}f[kt]=e,Tt(f),o=f}e.stateNode=o}else Wy(u,e.type,e.stateNode);else e.stateNode=Qy(u,o,e.memoizedProps);else f!==o?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,o===null?Wy(u,e.type,e.stateNode):Qy(u,o,e.memoizedProps)):o===null&&e.stateNode!==null&&ef(e,e.memoizedProps,i.memoizedProps)}break;case 27:an(n,e),rn(e),o&512&&(dt||i===null||Pn(i,i.return)),i!==null&&o&4&&ef(e,e.memoizedProps,i.memoizedProps);break;case 5:if(an(n,e),rn(e),o&512&&(dt||i===null||Pn(i,i.return)),e.flags&32){u=e.stateNode;try{Nr(u,"")}catch(M){Ke(e,e.return,M)}}o&4&&e.stateNode!=null&&(u=e.memoizedProps,ef(e,u,i!==null?i.memoizedProps:u)),o&1024&&(af=!0);break;case 6:if(an(n,e),rn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(M){Ke(e,e.return,M)}}break;case 3:if(ll=null,u=Cn,Cn=sl(n.containerInfo),an(n,e),Cn=u,rn(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{_s(n.containerInfo)}catch(M){Ke(e,e.return,M)}af&&(af=!1,iy(e));break;case 4:o=Cn,Cn=sl(e.stateNode.containerInfo),an(n,e),rn(e),Cn=o;break;case 12:an(n,e),rn(e);break;case 13:an(n,e),rn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ff=zn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rf(e,o)));break;case 22:u=e.memoizedState!==null;var E=i!==null&&i.memoizedState!==null,C=ua,L=dt;if(ua=C||u,dt=L||E,an(n,e),dt=L,ua=C,rn(e),o&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(i===null||E||ua||dt||dr(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){E=i=n;try{if(f=E.stateNode,u)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=E.stateNode;var $=E.memoizedProps.style,N=$!=null&&$.hasOwnProperty("display")?$.display:null;v.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(M){Ke(E,E.return,M)}}}else if(n.tag===6){if(i===null){E=n;try{E.stateNode.nodeValue=u?"":E.memoizedProps}catch(M){Ke(E,E.return,M)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,rf(e,i))));break;case 19:an(n,e),rn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rf(e,o)));break;case 30:break;case 21:break;default:an(n,e),rn(e)}}function rn(e){var n=e.flags;if(n&2){try{for(var i,o=e.return;o!==null;){if(Qg(o)){i=o;break}o=o.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var u=i.stateNode,f=tf(e);Vo(e,f,u);break;case 5:var p=i.stateNode;i.flags&32&&(Nr(p,""),i.flags&=-33);var v=tf(e);Vo(e,v,p);break;case 3:case 4:var E=i.stateNode.containerInfo,C=tf(e);nf(e,C,E);break;default:throw Error(s(161))}}catch(L){Ke(e,e.return,L)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function iy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;iy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ua(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ey(e,n.alternate,n),n=n.sibling}function dr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Da(4,n,n.return),dr(n);break;case 1:Pn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Yg(n,n.return,i),dr(n);break;case 27:fs(n.stateNode);case 26:case 5:Pn(n,n.return),dr(n);break;case 22:n.memoizedState===null&&dr(n);break;case 30:dr(n);break;default:dr(n)}e=e.sibling}}function La(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,u=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:La(u,f,i),ts(4,f);break;case 1:if(La(u,f,i),o=f,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(C){Ke(o,o.return,C)}if(o=f,u=o.updateQueue,u!==null){var v=o.stateNode;try{var E=u.shared.hiddenCallbacks;if(E!==null)for(u.shared.hiddenCallbacks=null,u=0;u<E.length;u++)Um(E[u],v)}catch(C){Ke(o,o.return,C)}}i&&p&64&&Xg(f),ns(f,f.return);break;case 27:Jg(f);case 26:case 5:La(u,f,i),i&&o===null&&p&4&&Kg(f),ns(f,f.return);break;case 12:La(u,f,i);break;case 13:La(u,f,i),i&&p&4&&ay(u,f);break;case 22:f.memoizedState===null&&La(u,f,i),ns(f,f.return);break;case 30:break;default:La(u,f,i)}n=n.sibling}}function sf(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Bi(i))}function of(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bi(e))}function Fn(e,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sy(e,n,i,o),n=n.sibling}function sy(e,n,i,o){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(e,n,i,o),u&2048&&ts(9,n);break;case 1:Fn(e,n,i,o);break;case 3:Fn(e,n,i,o),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bi(e)));break;case 12:if(u&2048){Fn(e,n,i,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,v=f.onPostCommit;typeof v=="function"&&v(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Ke(n,n.return,E)}}else Fn(e,n,i,o);break;case 13:Fn(e,n,i,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Fn(e,n,i,o):as(e,n):f._visibility&2?Fn(e,n,i,o):(f._visibility|=2,Yr(e,n,i,o,(n.subtreeFlags&10256)!==0)),u&2048&&sf(p,n);break;case 24:Fn(e,n,i,o),u&2048&&of(n.alternate,n);break;default:Fn(e,n,i,o)}}function Yr(e,n,i,o,u){for(u=u&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,p=n,v=i,E=o,C=p.flags;switch(p.tag){case 0:case 11:case 15:Yr(f,p,v,E,u),ts(8,p);break;case 23:break;case 22:var L=p.stateNode;p.memoizedState!==null?L._visibility&2?Yr(f,p,v,E,u):as(f,p):(L._visibility|=2,Yr(f,p,v,E,u)),u&&C&2048&&sf(p.alternate,p);break;case 24:Yr(f,p,v,E,u),u&&C&2048&&of(p.alternate,p);break;default:Yr(f,p,v,E,u)}n=n.sibling}}function as(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,o=n,u=o.flags;switch(o.tag){case 22:as(i,o),u&2048&&sf(o.alternate,o);break;case 24:as(i,o),u&2048&&of(o.alternate,o);break;default:as(i,o)}n=n.sibling}}var rs=8192;function Kr(e){if(e.subtreeFlags&rs)for(e=e.child;e!==null;)oy(e),e=e.sibling}function oy(e){switch(e.tag){case 26:Kr(e),e.flags&rs&&e.memoizedState!==null&&hw(Cn,e.memoizedState,e.memoizedProps);break;case 5:Kr(e);break;case 3:case 4:var n=Cn;Cn=sl(e.stateNode.containerInfo),Kr(e),Cn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=rs,rs=16777216,Kr(e),rs=n):Kr(e));break;default:Kr(e)}}function ly(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function is(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];At=o,cy(o,e)}ly(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)uy(e),e=e.sibling}function uy(e){switch(e.tag){case 0:case 11:case 15:is(e),e.flags&2048&&Da(9,e,e.return);break;case 3:is(e);break;case 12:is(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Xo(e)):is(e);break;default:is(e)}}function Xo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];At=o,cy(o,e)}ly(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Da(8,n,n.return),Xo(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Xo(n));break;default:Xo(n)}e=e.sibling}}function cy(e,n){for(;At!==null;){var i=At;switch(i.tag){case 0:case 11:case 15:Da(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Bi(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,At=o;else e:for(i=e;At!==null;){o=At;var u=o.sibling,f=o.return;if(ty(o),o===i){At=null;break e}if(u!==null){u.return=f,At=u;break e}At=f}}}var CT={getCacheForType:function(e){var n=Dt(_t),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i}},NT=typeof WeakMap=="function"?WeakMap:Map,Pe=0,We=null,Ne=null,Le=0,Fe=0,sn=null,Ia=!1,Qr=!1,lf=!1,fa=0,ut=0,$a=0,hr=0,uf=0,En=0,Jr=0,ss=null,Gt=null,cf=!1,ff=0,Yo=1/0,Ko=null,ja=null,Ot=0,qa=null,Wr=null,ei=0,df=0,hf=null,fy=null,os=0,pf=null;function on(){if((Pe&2)!==0&&Le!==0)return Le&-Le;if(x.T!==null){var e=Br;return e!==0?e:Sf()}return xp()}function dy(){En===0&&(En=(Le&536870912)===0||Be?Tp():536870912);var e=Sn.current;return e!==null&&(e.flags|=32),En}function ln(e,n,i){(e===We&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)&&(ti(e,0),za(e,Le,En,!1)),Ai(e,i),((Pe&2)===0||e!==We)&&(e===We&&((Pe&2)===0&&(hr|=i),ut===4&&za(e,Le,En,!1)),Zn(e))}function hy(e,n,i){if((Pe&6)!==0)throw Error(s(327));var o=!i&&(n&124)===0&&(n&e.expiredLanes)===0||wi(e,n),u=o?DT(e,n):yf(e,n,!0),f=o;do{if(u===0){Qr&&!o&&za(e,n,0,!1);break}else{if(i=e.current.alternate,f&&!MT(i)){u=yf(e,n,!1),f=!1;continue}if(u===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var v=e;u=ss;var E=v.current.memoizedState.isDehydrated;if(E&&(ti(v,p).flags|=256),p=yf(v,p,!1),p!==2){if(lf&&!E){v.errorRecoveryDisabledLanes|=f,hr|=f,u=4;break e}f=Gt,Gt=u,f!==null&&(Gt===null?Gt=f:Gt.push.apply(Gt,f))}u=p}if(f=!1,u!==2)continue}}if(u===1){ti(e,0),za(e,n,0,!0);break}e:{switch(o=e,f=u,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:za(o,n,En,!Ia);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(u=ff+300-zn(),10<u)){if(za(o,n,En,!Ia),so(o,0,!0)!==0)break e;o.timeoutHandle=Hy(py.bind(null,o,i,Gt,Ko,cf,n,En,hr,Jr,Ia,f,2,-0,0),u);break e}py(o,i,Gt,Ko,cf,n,En,hr,Jr,Ia,f,0,-0,0)}}break}while(!0);Zn(e)}function py(e,n,i,o,u,f,p,v,E,C,L,$,N,M){if(e.timeoutHandle=-1,$=n.subtreeFlags,($&8192||($&16785408)===16785408)&&(ps={stylesheets:null,count:0,unsuspend:dw},oy(n),$=pw(),$!==null)){e.cancelPendingCommit=$(Sy.bind(null,e,n,f,i,o,u,p,v,E,L,1,N,M)),za(e,f,p,!C);return}Sy(e,n,f,i,o,u,p,v,E)}function MT(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var u=i[o],f=u.getSnapshot;u=u.value;try{if(!tn(f(),u))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function za(e,n,i,o){n&=~uf,n&=~hr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var u=n;0<u;){var f=31-en(u),p=1<<f;o[f]=-1,u&=~p}i!==0&&Ap(e,i,n)}function Qo(){return(Pe&6)===0?(ls(0),!1):!0}function mf(){if(Ne!==null){if(Fe===0)var e=Ne.return;else e=Ne,aa=or=null,Mc(e),Vr=null,Ji=0,e=Ne;for(;e!==null;)Vg(e.alternate,e),e=e.return;Ne=null}}function ti(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,YT(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),mf(),We=e,Ne=i=ea(e.current,null),Le=n,Fe=0,sn=null,Ia=!1,Qr=wi(e,n),lf=!1,Jr=En=uf=hr=$a=ut=0,Gt=ss=null,cf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var u=31-en(o),f=1<<u;n|=e[u],o&=~f}return fa=n,_o(),i}function my(e,n){xe=null,x.H=jo,n===Pi||n===Oo?(n=km(),Fe=3):n===Cm?(n=km(),Fe=4):Fe=n===Dg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,sn=n,Ne===null&&(ut=1,Po(e,yn(n,e.current)))}function gy(){var e=x.H;return x.H=jo,e===null?jo:e}function yy(){var e=x.A;return x.A=CT,e}function gf(){ut=4,Ia||(Le&4194048)!==Le&&Sn.current!==null||(Qr=!0),($a&134217727)===0&&(hr&134217727)===0||We===null||za(We,Le,En,!1)}function yf(e,n,i){var o=Pe;Pe|=2;var u=gy(),f=yy();(We!==e||Le!==n)&&(Ko=null,ti(e,n)),n=!1;var p=ut;e:do try{if(Fe!==0&&Ne!==null){var v=Ne,E=sn;switch(Fe){case 8:mf(),p=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var C=Fe;if(Fe=0,sn=null,ni(e,v,E,C),i&&Qr){p=0;break e}break;default:C=Fe,Fe=0,sn=null,ni(e,v,E,C)}}kT(),p=ut;break}catch(L){my(e,L)}while(!0);return n&&e.shellSuspendCounter++,aa=or=null,Pe=o,x.H=u,x.A=f,Ne===null&&(We=null,Le=0,_o()),p}function kT(){for(;Ne!==null;)vy(Ne)}function DT(e,n){var i=Pe;Pe|=2;var o=gy(),u=yy();We!==e||Le!==n?(Ko=null,Yo=zn()+500,ti(e,n)):Qr=wi(e,n);e:do try{if(Fe!==0&&Ne!==null){n=Ne;var f=sn;t:switch(Fe){case 1:Fe=0,sn=null,ni(e,n,f,1);break;case 2:case 9:if(Nm(f)){Fe=0,sn=null,_y(n);break}n=function(){Fe!==2&&Fe!==9||We!==e||(Fe=7),Zn(e)},f.then(n,n);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Nm(f)?(Fe=0,sn=null,_y(n)):(Fe=0,sn=null,ni(e,n,f,7));break;case 5:var p=null;switch(Ne.tag){case 26:p=Ne.memoizedState;case 5:case 27:var v=Ne;if(!p||ev(p)){Fe=0,sn=null;var E=v.sibling;if(E!==null)Ne=E;else{var C=v.return;C!==null?(Ne=C,Jo(C)):Ne=null}break t}}Fe=0,sn=null,ni(e,n,f,5);break;case 6:Fe=0,sn=null,ni(e,n,f,6);break;case 8:mf(),ut=6;break e;default:throw Error(s(462))}}UT();break}catch(L){my(e,L)}while(!0);return aa=or=null,x.H=o,x.A=u,Pe=i,Ne!==null?0:(We=null,Le=0,_o(),ut)}function UT(){for(;Ne!==null&&!nE();)vy(Ne)}function vy(e){var n=Zg(e.alternate,e,fa);e.memoizedProps=e.pendingProps,n===null?Jo(e):Ne=n}function _y(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=qg(i,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=qg(i,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:Mc(n);default:Vg(i,n),n=Ne=bm(n,fa),n=Zg(i,n,fa)}e.memoizedProps=e.pendingProps,n===null?Jo(e):Ne=n}function ni(e,n,i,o){aa=or=null,Mc(n),Vr=null,Ji=0;var u=n.return;try{if(TT(e,u,n,i,Le)){ut=1,Po(e,yn(i,e.current)),Ne=null;return}}catch(f){if(u!==null)throw Ne=u,f;ut=1,Po(e,yn(i,e.current)),Ne=null;return}n.flags&32768?(Be||o===1?e=!0:Qr||(Le&536870912)!==0?e=!1:(Ia=e=!0,(o===2||o===9||o===3||o===6)&&(o=Sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),by(n,e)):Jo(n)}function Jo(e){var n=e;do{if((n.flags&32768)!==0){by(n,Ia);return}e=n.return;var i=AT(n.alternate,n,fa);if(i!==null){Ne=i;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=e}while(n!==null);ut===0&&(ut=5)}function by(e,n){do{var i=RT(e.alternate,e);if(i!==null){i.flags&=32767,Ne=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=i}while(e!==null);ut=6,Ne=null}function Sy(e,n,i,o,u,f,p,v,E){e.cancelPendingCommit=null;do Wo();while(Ot!==0);if((Pe&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=sc,dE(e,i,f,p,v,E),e===We&&(Ne=We=null,Le=0),Wr=n,qa=e,ei=i,df=f,hf=u,fy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jT(ao,function(){return Ry(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=x.T,x.T=null,u=U.p,U.p=2,p=Pe,Pe|=4;try{xT(e,n,i)}finally{Pe=p,U.p=u,x.T=o}}Ot=1,Ey(),Ty(),wy()}}function Ey(){if(Ot===1){Ot=0;var e=qa,n=Wr,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=x.T,x.T=null;var o=U.p;U.p=2;var u=Pe;Pe|=4;try{ry(n,e);var f=Cf,p=cm(e.containerInfo),v=f.focusedElem,E=f.selectionRange;if(p!==v&&v&&v.ownerDocument&&um(v.ownerDocument.documentElement,v)){if(E!==null&&tc(v)){var C=E.start,L=E.end;if(L===void 0&&(L=C),"selectionStart"in v)v.selectionStart=C,v.selectionEnd=Math.min(L,v.value.length);else{var $=v.ownerDocument||document,N=$&&$.defaultView||window;if(N.getSelection){var M=N.getSelection(),_e=v.textContent.length,ge=Math.min(E.start,_e),Xe=E.end===void 0?ge:Math.min(E.end,_e);!M.extend&&ge>Xe&&(p=Xe,Xe=ge,ge=p);var R=lm(v,ge),T=lm(v,Xe);if(R&&T&&(M.rangeCount!==1||M.anchorNode!==R.node||M.anchorOffset!==R.offset||M.focusNode!==T.node||M.focusOffset!==T.offset)){var O=$.createRange();O.setStart(R.node,R.offset),M.removeAllRanges(),ge>Xe?(M.addRange(O),M.extend(T.node,T.offset)):(O.setEnd(T.node,T.offset),M.addRange(O))}}}}for($=[],M=v;M=M.parentNode;)M.nodeType===1&&$.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<$.length;v++){var I=$[v];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}fl=!!Of,Cf=Of=null}finally{Pe=u,U.p=o,x.T=i}}e.current=n,Ot=2}}function Ty(){if(Ot===2){Ot=0;var e=qa,n=Wr,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=x.T,x.T=null;var o=U.p;U.p=2;var u=Pe;Pe|=4;try{ey(e,n.alternate,n)}finally{Pe=u,U.p=o,x.T=i}}Ot=3}}function wy(){if(Ot===4||Ot===3){Ot=0,aE();var e=qa,n=Wr,i=ei,o=fy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ot=5:(Ot=0,Wr=qa=null,Ay(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ja=null),Uu(i),n=n.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Ti,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=x.T,u=U.p,U.p=2,x.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var v=o[p];f(v.value,{componentStack:v.stack})}}finally{x.T=n,U.p=u}}(ei&3)!==0&&Wo(),Zn(e),u=e.pendingLanes,(i&4194090)!==0&&(u&42)!==0?e===pf?os++:(os=0,pf=e):os=0,ls(0)}}function Ay(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Bi(n)))}function Wo(e){return Ey(),Ty(),wy(),Ry()}function Ry(){if(Ot!==5)return!1;var e=qa,n=df;df=0;var i=Uu(ei),o=x.T,u=U.p;try{U.p=32>i?32:i,x.T=null,i=hf,hf=null;var f=qa,p=ei;if(Ot=0,Wr=qa=null,ei=0,(Pe&6)!==0)throw Error(s(331));var v=Pe;if(Pe|=4,uy(f.current),sy(f,f.current,p,i),Pe=v,ls(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Ti,f)}catch{}return!0}finally{U.p=u,x.T=o,Ay(e,n)}}function xy(e,n,i){n=yn(i,n),n=Zc(e.stateNode,n,2),e=Ca(e,n,2),e!==null&&(Ai(e,2),Zn(e))}function Ke(e,n,i){if(e.tag===3)xy(e,e,i);else for(;n!==null;){if(n.tag===3){xy(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ja===null||!ja.has(o))){e=yn(i,e),i=Mg(2),o=Ca(n,i,2),o!==null&&(kg(i,o,n,e),Ai(o,2),Zn(o));break}}n=n.return}}function vf(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new NT;var u=new Set;o.set(n,u)}else u=o.get(n),u===void 0&&(u=new Set,o.set(n,u));u.has(i)||(lf=!0,u.add(i),e=LT.bind(null,e,n,i),n.then(e,e))}function LT(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,We===e&&(Le&i)===i&&(ut===4||ut===3&&(Le&62914560)===Le&&300>zn()-ff?(Pe&2)===0&&ti(e,0):uf|=i,Jr===Le&&(Jr=0)),Zn(e)}function Oy(e,n){n===0&&(n=wp()),e=$r(e,n),e!==null&&(Ai(e,n),Zn(e))}function IT(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Oy(e,i)}function $T(e,n){var i=0;switch(e.tag){case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Oy(e,i)}function jT(e,n){return Nu(e,n)}var el=null,ai=null,_f=!1,tl=!1,bf=!1,pr=0;function Zn(e){e!==ai&&e.next===null&&(ai===null?el=ai=e:ai=ai.next=e),tl=!0,_f||(_f=!0,zT())}function ls(e,n){if(!bf&&tl){bf=!0;do for(var i=!1,o=el;o!==null;){if(e!==0){var u=o.pendingLanes;if(u===0)var f=0;else{var p=o.suspendedLanes,v=o.pingedLanes;f=(1<<31-en(42|e)+1)-1,f&=u&~(p&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,ky(o,f))}else f=Le,f=so(o,o===We?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||wi(o,f)||(i=!0,ky(o,f));o=o.next}while(i);bf=!1}}function qT(){Cy()}function Cy(){tl=_f=!1;var e=0;pr!==0&&(XT()&&(e=pr),pr=0);for(var n=zn(),i=null,o=el;o!==null;){var u=o.next,f=Ny(o,n);f===0?(o.next=null,i===null?el=u:i.next=u,u===null&&(ai=i)):(i=o,(e!==0||(f&3)!==0)&&(tl=!0)),o=u}ls(e)}function Ny(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-en(f),v=1<<p,E=u[p];E===-1?((v&i)===0||(v&o)!==0)&&(u[p]=fE(v,n)):E<=n&&(e.expiredLanes|=v),f&=~v}if(n=We,i=Le,i=so(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===n&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Mu(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||wi(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(o!==null&&Mu(o),Uu(i)){case 2:case 8:i=Sp;break;case 32:i=ao;break;case 268435456:i=Ep;break;default:i=ao}return o=My.bind(null,e),i=Nu(i,o),e.callbackPriority=n,e.callbackNode=i,n}return o!==null&&o!==null&&Mu(o),e.callbackPriority=2,e.callbackNode=null,2}function My(e,n){if(Ot!==0&&Ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Wo()&&e.callbackNode!==i)return null;var o=Le;return o=so(e,e===We?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(hy(e,o,n),Ny(e,zn()),e.callbackNode!=null&&e.callbackNode===i?My.bind(null,e):null)}function ky(e,n){if(Wo())return null;hy(e,n,!0)}function zT(){KT(function(){(Pe&6)!==0?Nu(bp,qT):Cy()})}function Sf(){return pr===0&&(pr=Tp()),pr}function Dy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fo(""+e)}function Uy(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function BT(e,n,i,o,u){if(n==="submit"&&i&&i.stateNode===u){var f=Dy((u[Ht]||null).action),p=o.submitter;p&&(n=(n=p[Ht]||null)?Dy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var v=new go("action","action",null,o,u);e.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(pr!==0){var E=p?Uy(u,p):new FormData(u);zc(i,{pending:!0,data:E,method:u.method,action:f},null,E)}}else typeof f=="function"&&(v.preventDefault(),E=p?Uy(u,p):new FormData(u),zc(i,{pending:!0,data:E,method:u.method,action:f},f,E))},currentTarget:u}]})}}for(var Ef=0;Ef<ic.length;Ef++){var Tf=ic[Ef],HT=Tf.toLowerCase(),PT=Tf[0].toUpperCase()+Tf.slice(1);On(HT,"on"+PT)}On(hm,"onAnimationEnd"),On(pm,"onAnimationIteration"),On(mm,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(sT,"onTransitionRun"),On(oT,"onTransitionStart"),On(lT,"onTransitionCancel"),On(gm,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),Ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ja("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(us));function Ly(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],u=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var v=o[p],E=v.instance,C=v.currentTarget;if(v=v.listener,E!==f&&u.isPropagationStopped())break e;f=v,u.currentTarget=C;try{f(u)}catch(L){Ho(L)}u.currentTarget=null,f=E}else for(p=0;p<o.length;p++){if(v=o[p],E=v.instance,C=v.currentTarget,v=v.listener,E!==f&&u.isPropagationStopped())break e;f=v,u.currentTarget=C;try{f(u)}catch(L){Ho(L)}u.currentTarget=null,f=E}}}}function Me(e,n){var i=n[Lu];i===void 0&&(i=n[Lu]=new Set);var o=e+"__bubble";i.has(o)||(Iy(n,e,2,!1),i.add(o))}function wf(e,n,i){var o=0;n&&(o|=4),Iy(i,e,o,n)}var nl="_reactListening"+Math.random().toString(36).slice(2);function Af(e){if(!e[nl]){e[nl]=!0,Cp.forEach(function(i){i!=="selectionchange"&&(FT.has(i)||wf(i,!1,e),wf(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[nl]||(n[nl]=!0,wf("selectionchange",!1,n))}}function Iy(e,n,i,o){switch(sv(n)){case 2:var u=yw;break;case 8:u=vw;break;default:u=qf}i=u.bind(null,n,i,e),u=void 0,!Gu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(n,i,{capture:!0,passive:u}):e.addEventListener(n,i,!0):u!==void 0?e.addEventListener(n,i,{passive:u}):e.addEventListener(n,i,!1)}function Rf(e,n,i,o,u){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var v=o.stateNode.containerInfo;if(v===u)break;if(p===4)for(p=o.return;p!==null;){var E=p.tag;if((E===3||E===4)&&p.stateNode.containerInfo===u)return;p=p.return}for(;v!==null;){if(p=wr(v),p===null)return;if(E=p.tag,E===5||E===6||E===26||E===27){o=f=p;continue e}v=v.parentNode}}o=o.return}Pp(function(){var C=f,L=Fu(i),$=[];e:{var N=ym.get(e);if(N!==void 0){var M=go,_e=e;switch(e){case"keypress":if(po(i)===0)break e;case"keydown":case"keyup":M=jE;break;case"focusin":_e="focus",M=Ku;break;case"focusout":_e="blur",M=Ku;break;case"beforeblur":case"afterblur":M=Ku;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Gp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=RE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=BE;break;case hm:case pm:case mm:M=CE;break;case gm:M=PE;break;case"scroll":case"scrollend":M=wE;break;case"wheel":M=ZE;break;case"copy":case"cut":case"paste":M=ME;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Xp;break;case"toggle":case"beforetoggle":M=VE}var ge=(n&4)!==0,Xe=!ge&&(e==="scroll"||e==="scrollend"),R=ge?N!==null?N+"Capture":null:N;ge=[];for(var T=C,O;T!==null;){var I=T;if(O=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||O===null||R===null||(I=Oi(T,R),I!=null&&ge.push(cs(T,I,O))),Xe)break;T=T.return}0<ge.length&&(N=new M(N,_e,null,i,L),$.push({event:N,listeners:ge}))}}if((n&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",N&&i!==Pu&&(_e=i.relatedTarget||i.fromElement)&&(wr(_e)||_e[Tr]))break e;if((M||N)&&(N=L.window===L?L:(N=L.ownerDocument)?N.defaultView||N.parentWindow:window,M?(_e=i.relatedTarget||i.toElement,M=C,_e=_e?wr(_e):null,_e!==null&&(Xe=c(_e),ge=_e.tag,_e!==Xe||ge!==5&&ge!==27&&ge!==6)&&(_e=null)):(M=null,_e=C),M!==_e)){if(ge=Gp,I="onMouseLeave",R="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(ge=Xp,I="onPointerLeave",R="onPointerEnter",T="pointer"),Xe=M==null?N:xi(M),O=_e==null?N:xi(_e),N=new ge(I,T+"leave",M,i,L),N.target=Xe,N.relatedTarget=O,I=null,wr(L)===C&&(ge=new ge(R,T+"enter",_e,i,L),ge.target=O,ge.relatedTarget=Xe,I=ge),Xe=I,M&&_e)t:{for(ge=M,R=_e,T=0,O=ge;O;O=ri(O))T++;for(O=0,I=R;I;I=ri(I))O++;for(;0<T-O;)ge=ri(ge),T--;for(;0<O-T;)R=ri(R),O--;for(;T--;){if(ge===R||R!==null&&ge===R.alternate)break t;ge=ri(ge),R=ri(R)}ge=null}else ge=null;M!==null&&$y($,N,M,ge,!1),_e!==null&&Xe!==null&&$y($,Xe,_e,ge,!0)}}e:{if(N=C?xi(C):window,M=N.nodeName&&N.nodeName.toLowerCase(),M==="select"||M==="input"&&N.type==="file")var ne=nm;else if(em(N))if(am)ne=aT;else{ne=tT;var Ce=eT}else M=N.nodeName,!M||M.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?C&&Hu(C.elementType)&&(ne=nm):ne=nT;if(ne&&(ne=ne(e,C))){tm($,ne,i,L);break e}Ce&&Ce(e,N,C),e==="focusout"&&C&&N.type==="number"&&C.memoizedProps.value!=null&&Bu(N,"number",N.value)}switch(Ce=C?xi(C):window,e){case"focusin":(em(Ce)||Ce.contentEditable==="true")&&(Ur=Ce,nc=C,Ii=null);break;case"focusout":Ii=nc=Ur=null;break;case"mousedown":ac=!0;break;case"contextmenu":case"mouseup":case"dragend":ac=!1,fm($,i,L);break;case"selectionchange":if(iT)break;case"keydown":case"keyup":fm($,i,L)}var ue;if(Ju)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Dr?Jp(e,i)&&(ve="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ve="onCompositionStart");ve&&(Yp&&i.locale!=="ko"&&(Dr||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Dr&&(ue=Fp()):(Aa=L,Vu="value"in Aa?Aa.value:Aa.textContent,Dr=!0)),Ce=al(C,ve),0<Ce.length&&(ve=new Vp(ve,e,null,i,L),$.push({event:ve,listeners:Ce}),ue?ve.data=ue:(ue=Wp(i),ue!==null&&(ve.data=ue)))),(ue=YE?KE(e,i):QE(e,i))&&(ve=al(C,"onBeforeInput"),0<ve.length&&(Ce=new Vp("onBeforeInput","beforeinput",null,i,L),$.push({event:Ce,listeners:ve}),Ce.data=ue)),BT($,e,C,i,L)}Ly($,n)})}function cs(e,n,i){return{instance:e,listener:n,currentTarget:i}}function al(e,n){for(var i=n+"Capture",o=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Oi(e,i),u!=null&&o.unshift(cs(e,u,f)),u=Oi(e,n),u!=null&&o.push(cs(e,u,f))),e.tag===3)return o;e=e.return}return[]}function ri(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $y(e,n,i,o,u){for(var f=n._reactName,p=[];i!==null&&i!==o;){var v=i,E=v.alternate,C=v.stateNode;if(v=v.tag,E!==null&&E===o)break;v!==5&&v!==26&&v!==27||C===null||(E=C,u?(C=Oi(i,f),C!=null&&p.unshift(cs(i,C,E))):u||(C=Oi(i,f),C!=null&&p.push(cs(i,C,E)))),i=i.return}p.length!==0&&e.push({event:n,listeners:p})}var ZT=/\r\n?/g,GT=/\u0000|\uFFFD/g;function jy(e){return(typeof e=="string"?e:""+e).replace(ZT,`
`).replace(GT,"")}function qy(e,n){return n=jy(n),jy(e)===n}function rl(){}function Ve(e,n,i,o,u,f){switch(i){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Nr(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Nr(e,""+o);break;case"className":lo(e,"class",o);break;case"tabIndex":lo(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":lo(e,i,o);break;case"style":Bp(e,o,f);break;case"data":if(n!=="object"){lo(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=fo(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(n!=="input"&&Ve(e,n,"name",u.name,u,null),Ve(e,n,"formEncType",u.formEncType,u,null),Ve(e,n,"formMethod",u.formMethod,u,null),Ve(e,n,"formTarget",u.formTarget,u,null)):(Ve(e,n,"encType",u.encType,u,null),Ve(e,n,"method",u.method,u,null),Ve(e,n,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=fo(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=rl);break;case"onScroll":o!=null&&Me("scroll",e);break;case"onScrollEnd":o!=null&&Me("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=fo(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":Me("beforetoggle",e),Me("toggle",e),oo(e,"popover",o);break;case"xlinkActuate":Jn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Jn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Jn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Jn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Jn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Jn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Jn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":oo(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=EE.get(i)||i,oo(e,i,o))}}function xf(e,n,i,o,u,f){switch(i){case"style":Bp(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof o=="string"?Nr(e,o):(typeof o=="number"||typeof o=="bigint")&&Nr(e,""+o);break;case"onScroll":o!=null&&Me("scroll",e);break;case"onScrollEnd":o!=null&&Me("scrollend",e);break;case"onClick":o!=null&&(e.onclick=rl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Np.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),n=i.slice(2,u?i.length-7:void 0),f=e[Ht]||null,f=f!=null?f[i]:null,typeof f=="function"&&e.removeEventListener(n,f,u),typeof o=="function")){typeof f!="function"&&f!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,o,u);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):oo(e,i,o)}}}function Ct(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",e),Me("load",e);var o=!1,u=!1,f;for(f in i)if(i.hasOwnProperty(f)){var p=i[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ve(e,n,f,p,i,null)}}u&&Ve(e,n,"srcSet",i.srcSet,i,null),o&&Ve(e,n,"src",i.src,i,null);return;case"input":Me("invalid",e);var v=f=p=u=null,E=null,C=null;for(o in i)if(i.hasOwnProperty(o)){var L=i[o];if(L!=null)switch(o){case"name":u=L;break;case"type":p=L;break;case"checked":E=L;break;case"defaultChecked":C=L;break;case"value":f=L;break;case"defaultValue":v=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,n));break;default:Ve(e,n,o,L,i,null)}}$p(e,f,v,E,C,p,u,!1),uo(e);return;case"select":Me("invalid",e),o=p=f=null;for(u in i)if(i.hasOwnProperty(u)&&(v=i[u],v!=null))switch(u){case"value":f=v;break;case"defaultValue":p=v;break;case"multiple":o=v;default:Ve(e,n,u,v,i,null)}n=f,i=p,e.multiple=!!o,n!=null?Cr(e,!!o,n,!1):i!=null&&Cr(e,!!o,i,!0);return;case"textarea":Me("invalid",e),f=u=o=null;for(p in i)if(i.hasOwnProperty(p)&&(v=i[p],v!=null))switch(p){case"value":o=v;break;case"defaultValue":u=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:Ve(e,n,p,v,i,null)}qp(e,o,u,f),uo(e);return;case"option":for(E in i)if(i.hasOwnProperty(E)&&(o=i[E],o!=null))switch(E){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ve(e,n,E,o,i,null)}return;case"dialog":Me("beforetoggle",e),Me("toggle",e),Me("cancel",e),Me("close",e);break;case"iframe":case"object":Me("load",e);break;case"video":case"audio":for(o=0;o<us.length;o++)Me(us[o],e);break;case"image":Me("error",e),Me("load",e);break;case"details":Me("toggle",e);break;case"embed":case"source":case"link":Me("error",e),Me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in i)if(i.hasOwnProperty(C)&&(o=i[C],o!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ve(e,n,C,o,i,null)}return;default:if(Hu(n)){for(L in i)i.hasOwnProperty(L)&&(o=i[L],o!==void 0&&xf(e,n,L,o,i,void 0));return}}for(v in i)i.hasOwnProperty(v)&&(o=i[v],o!=null&&Ve(e,n,v,o,i,null))}function VT(e,n,i,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,p=null,v=null,E=null,C=null,L=null;for(M in i){var $=i[M];if(i.hasOwnProperty(M)&&$!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":E=$;default:o.hasOwnProperty(M)||Ve(e,n,M,null,o,$)}}for(var N in o){var M=o[N];if($=i[N],o.hasOwnProperty(N)&&(M!=null||$!=null))switch(N){case"type":f=M;break;case"name":u=M;break;case"checked":C=M;break;case"defaultChecked":L=M;break;case"value":p=M;break;case"defaultValue":v=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(137,n));break;default:M!==$&&Ve(e,n,N,M,o,$)}}zu(e,p,v,E,C,L,f,u);return;case"select":M=p=v=N=null;for(f in i)if(E=i[f],i.hasOwnProperty(f)&&E!=null)switch(f){case"value":break;case"multiple":M=E;default:o.hasOwnProperty(f)||Ve(e,n,f,null,o,E)}for(u in o)if(f=o[u],E=i[u],o.hasOwnProperty(u)&&(f!=null||E!=null))switch(u){case"value":N=f;break;case"defaultValue":v=f;break;case"multiple":p=f;default:f!==E&&Ve(e,n,u,f,o,E)}n=v,i=p,o=M,N!=null?Cr(e,!!i,N,!1):!!o!=!!i&&(n!=null?Cr(e,!!i,n,!0):Cr(e,!!i,i?[]:"",!1));return;case"textarea":M=N=null;for(v in i)if(u=i[v],i.hasOwnProperty(v)&&u!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ve(e,n,v,null,o,u)}for(p in o)if(u=o[p],f=i[p],o.hasOwnProperty(p)&&(u!=null||f!=null))switch(p){case"value":N=u;break;case"defaultValue":M=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(s(91));break;default:u!==f&&Ve(e,n,p,u,o,f)}jp(e,N,M);return;case"option":for(var _e in i)if(N=i[_e],i.hasOwnProperty(_e)&&N!=null&&!o.hasOwnProperty(_e))switch(_e){case"selected":e.selected=!1;break;default:Ve(e,n,_e,null,o,N)}for(E in o)if(N=o[E],M=i[E],o.hasOwnProperty(E)&&N!==M&&(N!=null||M!=null))switch(E){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Ve(e,n,E,N,o,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in i)N=i[ge],i.hasOwnProperty(ge)&&N!=null&&!o.hasOwnProperty(ge)&&Ve(e,n,ge,null,o,N);for(C in o)if(N=o[C],M=i[C],o.hasOwnProperty(C)&&N!==M&&(N!=null||M!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(137,n));break;default:Ve(e,n,C,N,o,M)}return;default:if(Hu(n)){for(var Xe in i)N=i[Xe],i.hasOwnProperty(Xe)&&N!==void 0&&!o.hasOwnProperty(Xe)&&xf(e,n,Xe,void 0,o,N);for(L in o)N=o[L],M=i[L],!o.hasOwnProperty(L)||N===M||N===void 0&&M===void 0||xf(e,n,L,N,o,M);return}}for(var R in i)N=i[R],i.hasOwnProperty(R)&&N!=null&&!o.hasOwnProperty(R)&&Ve(e,n,R,null,o,N);for($ in o)N=o[$],M=i[$],!o.hasOwnProperty($)||N===M||N==null&&M==null||Ve(e,n,$,N,o,M)}var Of=null,Cf=null;function il(e){return e.nodeType===9?e:e.ownerDocument}function zy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function By(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Nf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Mf=null;function XT(){var e=window.event;return e&&e.type==="popstate"?e===Mf?!1:(Mf=e,!0):(Mf=null,!1)}var Hy=typeof setTimeout=="function"?setTimeout:void 0,YT=typeof clearTimeout=="function"?clearTimeout:void 0,Py=typeof Promise=="function"?Promise:void 0,KT=typeof queueMicrotask=="function"?queueMicrotask:typeof Py<"u"?function(e){return Py.resolve(null).then(e).catch(QT)}:Hy;function QT(e){setTimeout(function(){throw e})}function Ba(e){return e==="head"}function Fy(e,n){var i=n,o=0,u=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(0<o&&8>o){i=o;var p=e.ownerDocument;if(i&1&&fs(p.documentElement),i&2&&fs(p.body),i&4)for(i=p.head,fs(i),p=i.firstChild;p;){var v=p.nextSibling,E=p.nodeName;p[Ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=v}}if(u===0){e.removeChild(f),_s(n);return}u--}else i==="$"||i==="$?"||i==="$!"?u++:o=i.charCodeAt(0)-48;else o=0;i=f}while(i);_s(n)}function kf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":kf(i),Iu(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function JT(e,n,i,o){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function WT(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Nn(e.nextSibling),e===null))return null;return e}function Df(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function ew(e,n){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")n();else{var o=function(){n(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Nn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Uf=null;function Zy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}function Gy(e,n,i){switch(n=il(i),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function fs(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Iu(e)}var Tn=new Map,Vy=new Set;function sl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var da=U.d;U.d={f:tw,r:nw,D:aw,C:rw,L:iw,m:sw,X:lw,S:ow,M:uw};function tw(){var e=da.f(),n=Qo();return e||n}function nw(e){var n=Ar(e);n!==null&&n.tag===5&&n.type==="form"?hg(n):da.r(e)}var ii=typeof document>"u"?null:document;function Xy(e,n,i){var o=ii;if(o&&typeof n=="string"&&n){var u=gn(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),Vy.has(u)||(Vy.add(u),e={rel:e,crossOrigin:i,href:n},o.querySelector(u)===null&&(n=o.createElement("link"),Ct(n,"link",e),Tt(n),o.head.appendChild(n)))}}function aw(e){da.D(e),Xy("dns-prefetch",e,null)}function rw(e,n){da.C(e,n),Xy("preconnect",e,n)}function iw(e,n,i){da.L(e,n,i);var o=ii;if(o&&e&&n){var u='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+gn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+gn(i.imageSizes)+'"]')):u+='[href="'+gn(e)+'"]';var f=u;switch(n){case"style":f=si(e);break;case"script":f=oi(e)}Tn.has(f)||(e=y({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Tn.set(f,e),o.querySelector(u)!==null||n==="style"&&o.querySelector(ds(f))||n==="script"&&o.querySelector(hs(f))||(n=o.createElement("link"),Ct(n,"link",e),Tt(n),o.head.appendChild(n)))}}function sw(e,n){da.m(e,n);var i=ii;if(i&&e){var o=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+gn(o)+'"][href="'+gn(e)+'"]',f=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=oi(e)}if(!Tn.has(f)&&(e=y({rel:"modulepreload",href:e},n),Tn.set(f,e),i.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(hs(f)))return}o=i.createElement("link"),Ct(o,"link",e),Tt(o),i.head.appendChild(o)}}}function ow(e,n,i){da.S(e,n,i);var o=ii;if(o&&e){var u=Rr(o).hoistableStyles,f=si(e);n=n||"default";var p=u.get(f);if(!p){var v={loading:0,preload:null};if(p=o.querySelector(ds(f)))v.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Tn.get(f))&&Lf(e,i);var E=p=o.createElement("link");Tt(E),Ct(E,"link",e),E._p=new Promise(function(C,L){E.onload=C,E.onerror=L}),E.addEventListener("load",function(){v.loading|=1}),E.addEventListener("error",function(){v.loading|=2}),v.loading|=4,ol(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:v},u.set(f,p)}}}function lw(e,n){da.X(e,n);var i=ii;if(i&&e){var o=Rr(i).hoistableScripts,u=oi(e),f=o.get(u);f||(f=i.querySelector(hs(u)),f||(e=y({src:e,async:!0},n),(n=Tn.get(u))&&If(e,n),f=i.createElement("script"),Tt(f),Ct(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function uw(e,n){da.M(e,n);var i=ii;if(i&&e){var o=Rr(i).hoistableScripts,u=oi(e),f=o.get(u);f||(f=i.querySelector(hs(u)),f||(e=y({src:e,async:!0,type:"module"},n),(n=Tn.get(u))&&If(e,n),f=i.createElement("script"),Tt(f),Ct(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function Yy(e,n,i,o){var u=(u=ye.current)?sl(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=si(i.href),i=Rr(u).hoistableStyles,o=i.get(n),o||(o={type:"style",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=si(i.href);var f=Rr(u).hoistableStyles,p=f.get(e);if(p||(u=u.ownerDocument||u,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=u.querySelector(ds(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Tn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Tn.set(e,i),f||cw(u,e,i,p.state))),n&&o===null)throw Error(s(528,""));return p}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=oi(i),i=Rr(u).hoistableScripts,o=i.get(n),o||(o={type:"script",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function si(e){return'href="'+gn(e)+'"'}function ds(e){return'link[rel="stylesheet"]['+e+"]"}function Ky(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function cw(e,n,i,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ct(n,"link",i),Tt(n),e.head.appendChild(n))}function oi(e){return'[src="'+gn(e)+'"]'}function hs(e){return"script[async]"+e}function Qy(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+gn(i.href)+'"]');if(o)return n.instance=o,Tt(o),o;var u=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Tt(o),Ct(o,"style",u),ol(o,i.precedence,e),n.instance=o;case"stylesheet":u=si(i.href);var f=e.querySelector(ds(u));if(f)return n.state.loading|=4,n.instance=f,Tt(f),f;o=Ky(i),(u=Tn.get(u))&&Lf(o,u),f=(e.ownerDocument||e).createElement("link"),Tt(f);var p=f;return p._p=new Promise(function(v,E){p.onload=v,p.onerror=E}),Ct(f,"link",o),n.state.loading|=4,ol(f,i.precedence,e),n.instance=f;case"script":return f=oi(i.src),(u=e.querySelector(hs(f)))?(n.instance=u,Tt(u),u):(o=i,(u=Tn.get(f))&&(o=y({},i),If(o,u)),e=e.ownerDocument||e,u=e.createElement("script"),Tt(u),Ct(u,"link",o),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ol(o,i.precedence,e));return n.instance}function ol(e,n,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,f=u,p=0;p<o.length;p++){var v=o[p];if(v.dataset.precedence===n)f=v;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Lf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function If(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ll=null;function Jy(e,n,i){if(ll===null){var o=new Map,u=ll=new Map;u.set(i,o)}else u=ll,o=u.get(i),o||(o=new Map,u.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var f=i[u];if(!(f[Ri]||f[kt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var v=o.get(p);v?v.push(f):o.set(p,[f])}}return o}function Wy(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function fw(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ev(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ps=null;function dw(){}function hw(e,n,i){if(ps===null)throw Error(s(475));var o=ps;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=si(i.href),f=e.querySelector(ds(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=ul.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,Tt(f);return}f=e.ownerDocument||e,i=Ky(i),(u=Tn.get(u))&&Lf(i,u),f=f.createElement("link"),Tt(f);var p=f;p._p=new Promise(function(v,E){p.onload=v,p.onerror=E}),Ct(f,"link",i),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=ul.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function pw(){if(ps===null)throw Error(s(475));var e=ps;return e.stylesheets&&e.count===0&&$f(e,e.stylesheets),0<e.count?function(n){var i=setTimeout(function(){if(e.stylesheets&&$f(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i)}}:null}function ul(){if(this.count--,this.count===0){if(this.stylesheets)$f(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cl=null;function $f(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cl=new Map,n.forEach(mw,e),cl=null,ul.call(e))}function mw(e,n){if(!(n.state.loading&4)){var i=cl.get(e);if(i)var o=i.get(null);else{i=new Map,cl.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var p=u[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(i.set(p.dataset.precedence,p),o=p)}o&&i.set(null,o)}u=n.instance,p=u.getAttribute("data-precedence"),f=i.get(p)||o,f===o&&i.set(null,u),i.set(p,u),this.count++,o=ul.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var ms={$$typeof:se,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function gw(e,n,i,o,u,f,p,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ku(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ku(0),this.hiddenUpdates=ku(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function tv(e,n,i,o,u,f,p,v,E,C,L,$){return e=new gw(e,n,i,p,v,E,C,$),n=1,f===!0&&(n|=24),f=nn(3,null,null,n),e.current=f,f.stateNode=e,n=yc(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:i,cache:n},Sc(f),e}function nv(e){return e?(e=jr,e):jr}function av(e,n,i,o,u,f){u=nv(u),o.context===null?o.context=u:o.pendingContext=u,o=Oa(n),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Ca(e,o,n),i!==null&&(ln(i,e,n),Zi(i,e,n))}function rv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function jf(e,n){rv(e,n),(e=e.alternate)&&rv(e,n)}function iv(e){if(e.tag===13){var n=$r(e,67108864);n!==null&&ln(n,e,67108864),jf(e,67108864)}}var fl=!0;function yw(e,n,i,o){var u=x.T;x.T=null;var f=U.p;try{U.p=2,qf(e,n,i,o)}finally{U.p=f,x.T=u}}function vw(e,n,i,o){var u=x.T;x.T=null;var f=U.p;try{U.p=8,qf(e,n,i,o)}finally{U.p=f,x.T=u}}function qf(e,n,i,o){if(fl){var u=zf(o);if(u===null)Rf(e,n,o,dl,i),ov(e,o);else if(bw(u,e,n,i,o))o.stopPropagation();else if(ov(e,o),n&4&&-1<_w.indexOf(e)){for(;u!==null;){var f=Ar(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Qa(f.pendingLanes);if(p!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var E=1<<31-en(p);v.entanglements[1]|=E,p&=~E}Zn(f),(Pe&6)===0&&(Yo=zn()+500,ls(0))}}break;case 13:v=$r(f,2),v!==null&&ln(v,f,2),Qo(),jf(f,2)}if(f=zf(o),f===null&&Rf(e,n,o,dl,i),f===u)break;u=f}u!==null&&o.stopPropagation()}else Rf(e,n,o,null,i)}}function zf(e){return e=Fu(e),Bf(e)}var dl=null;function Bf(e){if(dl=null,e=wr(e),e!==null){var n=c(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=d(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return dl=e,null}function sv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rE()){case bp:return 2;case Sp:return 8;case ao:case iE:return 32;case Ep:return 268435456;default:return 32}default:return 32}}var Hf=!1,Ha=null,Pa=null,Fa=null,gs=new Map,ys=new Map,Za=[],_w="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ov(e,n){switch(e){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":gs.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ys.delete(n.pointerId)}}function vs(e,n,i,o,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:f,targetContainers:[u]},n!==null&&(n=Ar(n),n!==null&&iv(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function bw(e,n,i,o,u){switch(n){case"focusin":return Ha=vs(Ha,e,n,i,o,u),!0;case"dragenter":return Pa=vs(Pa,e,n,i,o,u),!0;case"mouseover":return Fa=vs(Fa,e,n,i,o,u),!0;case"pointerover":var f=u.pointerId;return gs.set(f,vs(gs.get(f)||null,e,n,i,o,u)),!0;case"gotpointercapture":return f=u.pointerId,ys.set(f,vs(ys.get(f)||null,e,n,i,o,u)),!0}return!1}function lv(e){var n=wr(e.target);if(n!==null){var i=c(n);if(i!==null){if(n=i.tag,n===13){if(n=d(i),n!==null){e.blockedOn=n,hE(e.priority,function(){if(i.tag===13){var o=on();o=Du(o);var u=$r(i,o);u!==null&&ln(u,i,o),jf(i,o)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=zf(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);Pu=o,i.target.dispatchEvent(o),Pu=null}else return n=Ar(i),n!==null&&iv(n),e.blockedOn=i,!1;n.shift()}return!0}function uv(e,n,i){hl(e)&&i.delete(n)}function Sw(){Hf=!1,Ha!==null&&hl(Ha)&&(Ha=null),Pa!==null&&hl(Pa)&&(Pa=null),Fa!==null&&hl(Fa)&&(Fa=null),gs.forEach(uv),ys.forEach(uv)}function pl(e,n){e.blockedOn===n&&(e.blockedOn=null,Hf||(Hf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Sw)))}var ml=null;function cv(e){ml!==e&&(ml=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ml===e&&(ml=null);for(var n=0;n<e.length;n+=3){var i=e[n],o=e[n+1],u=e[n+2];if(typeof o!="function"){if(Bf(o||i)===null)continue;break}var f=Ar(i);f!==null&&(e.splice(n,3),n-=3,zc(f,{pending:!0,data:u,method:i.method,action:o},o,u))}}))}function _s(e){function n(E){return pl(E,e)}Ha!==null&&pl(Ha,e),Pa!==null&&pl(Pa,e),Fa!==null&&pl(Fa,e),gs.forEach(n),ys.forEach(n);for(var i=0;i<Za.length;i++){var o=Za[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Za.length&&(i=Za[0],i.blockedOn===null);)lv(i),i.blockedOn===null&&Za.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var u=i[o],f=i[o+1],p=u[Ht]||null;if(typeof f=="function")p||cv(i);else if(p){var v=null;if(f&&f.hasAttribute("formAction")){if(u=f,p=f[Ht]||null)v=p.formAction;else if(Bf(u)!==null)continue}else v=p.action;typeof v=="function"?i[o+1]=v:(i.splice(o,3),o-=3),cv(i)}}}function Pf(e){this._internalRoot=e}gl.prototype.render=Pf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var i=n.current,o=on();av(i,o,e,n,null,null)},gl.prototype.unmount=Pf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;av(e.current,2,null,e,null,null),Qo(),n[Tr]=null}};function gl(e){this._internalRoot=e}gl.prototype.unstable_scheduleHydration=function(e){if(e){var n=xp();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Za.length&&n!==0&&n<Za[i].priority;i++);Za.splice(i,0,e),i===0&&lv(e)}};var fv=t.version;if(fv!=="19.1.0")throw Error(s(527,fv,"19.1.0"));U.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(n),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Ew={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{Ti=yl.inject(Ew),Wt=yl}catch{}}return Ss.createRoot=function(e,n){if(!l(e))throw Error(s(299));var i=!1,o="",u=xg,f=Og,p=Cg,v=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(v=n.unstable_transitionCallbacks)),n=tv(e,1,!1,null,null,i,o,u,f,p,v,null),e[Tr]=n.current,Af(e),new Pf(n)},Ss.hydrateRoot=function(e,n,i){if(!l(e))throw Error(s(299));var o=!1,u="",f=xg,p=Og,v=Cg,E=null,C=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks),i.formState!==void 0&&(C=i.formState)),n=tv(e,1,!0,n,i??null,o,u,f,p,v,E,C),n.context=nv(null),i=n.current,o=on(),o=Du(o),u=Oa(o),u.callback=null,Ca(i,u,o),i=o,n.current.lanes=i,Ai(n,i),Zn(n),e[Tr]=n.current,Af(e),new gl(n)},Ss.version="19.1.0",Ss}var Sv;function kw(){if(Sv)return Gf.exports;Sv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Gf.exports=Mw(),Gf.exports}var Dw=kw(),Kf={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Ev;function Uw(){return Ev||(Ev=1,function(a){(function(){var t={}.hasOwnProperty;function r(){for(var c="",d=0;d<arguments.length;d++){var h=arguments[d];h&&(c=l(c,s(h)))}return c}function s(c){if(typeof c=="string"||typeof c=="number")return c;if(typeof c!="object")return"";if(Array.isArray(c))return r.apply(null,c);if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]"))return c.toString();var d="";for(var h in c)t.call(c,h)&&c[h]&&(d=l(d,h));return d}function l(c,d){return d?c?c+" "+d:c+d:c}a.exports?(r.default=r,a.exports=r):window.classNames=r})()}(Kf)),Kf.exports}var Lw=Uw();const Ye=Vh(Lw),Iw=["xxl","xl","lg","md","sm","xs"],$w="xs",fu=de.createContext({prefixes:{},breakpoints:Iw,minBreakpoint:$w}),{Consumer:eN,Provider:tN}=fu;function tt(a,t){const{prefixes:r}=de.useContext(fu);return a||r[t]||t}function O0(){const{breakpoints:a}=de.useContext(fu);return a}function C0(){const{minBreakpoint:a}=de.useContext(fu);return a}var Qf={exports:{}},Jf,Tv;function jw(){if(Tv)return Jf;Tv=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jf=a,Jf}var Wf,wv;function qw(){if(wv)return Wf;wv=1;var a=jw();function t(){}function r(){}return r.resetWarningCache=t,Wf=function(){function s(d,h,g,m,y,S){if(S!==a){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}s.isRequired=s;function l(){return s}var c={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:l,element:s,elementType:s,instanceOf:l,node:s,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:r,resetWarningCache:t};return c.PropTypes=c,c},Wf}var Av;function zw(){return Av||(Av=1,Qf.exports=qw()()),Qf.exports}var Bw=zw();const mi=Vh(Bw),N0=a=>de.forwardRef((t,r)=>le.jsx("div",{...t,ref:r,className:Ye(t.className,a)})),Hw=["as","disabled"];function Pw(a,t){if(a==null)return{};var r={};for(var s in a)if({}.hasOwnProperty.call(a,s)){if(t.indexOf(s)>=0)continue;r[s]=a[s]}return r}function Fw(a){return!a||a.trim()==="#"}function M0({tagName:a,disabled:t,href:r,target:s,rel:l,role:c,onClick:d,tabIndex:h=0,type:g}){a||(r!=null||s!=null||l!=null?a="a":a="button");const m={tagName:a};if(a==="button")return[{type:g||"button",disabled:t},m];const y=A=>{if((t||a==="a"&&Fw(r))&&A.preventDefault(),t){A.stopPropagation();return}d?.(A)},S=A=>{A.key===" "&&(A.preventDefault(),y(A))};return a==="a"&&(r||(r="#"),t&&(r=void 0)),[{role:c??"button",disabled:void 0,tabIndex:t?void 0:h,href:r,target:a==="a"?s:void 0,"aria-disabled":t||void 0,rel:a==="a"?l:void 0,onClick:y,onKeyDown:S},m]}const Zw=de.forwardRef((a,t)=>{let{as:r,disabled:s}=a,l=Pw(a,Hw);const[c,{tagName:d}]=M0(Object.assign({tagName:r,disabled:s},l));return le.jsx(d,Object.assign({},l,c,{ref:t}))});Zw.displayName="Button";const k0=de.forwardRef(({as:a,bsPrefix:t,variant:r="primary",size:s,active:l=!1,disabled:c=!1,className:d,...h},g)=>{const m=tt(t,"btn"),[y,{tagName:S}]=M0({tagName:a,disabled:c,...h}),A=S;return le.jsx(A,{...y,...h,ref:g,disabled:c,className:Ye(d,m,l&&"active",r&&`${m}-${r}`,s&&`${m}-${s}`,h.href&&c&&"disabled")})});k0.displayName="Button";const Yh=de.forwardRef(({className:a,bsPrefix:t,as:r="div",...s},l)=>(t=tt(t,"card-body"),le.jsx(r,{ref:l,className:Ye(a,t),...s})));Yh.displayName="CardBody";const D0=de.forwardRef(({className:a,bsPrefix:t,as:r="div",...s},l)=>(t=tt(t,"card-footer"),le.jsx(r,{ref:l,className:Ye(a,t),...s})));D0.displayName="CardFooter";const U0=de.createContext(null);U0.displayName="CardHeaderContext";const L0=de.forwardRef(({bsPrefix:a,className:t,as:r="div",...s},l)=>{const c=tt(a,"card-header"),d=de.useMemo(()=>({cardHeaderBsPrefix:c}),[c]);return le.jsx(U0.Provider,{value:d,children:le.jsx(r,{ref:l,...s,className:Ye(t,c)})})});L0.displayName="CardHeader";const I0=de.forwardRef(({bsPrefix:a,className:t,variant:r,as:s="img",...l},c)=>{const d=tt(a,"card-img");return le.jsx(s,{ref:c,className:Ye(r?`${d}-${r}`:d,t),...l})});I0.displayName="CardImg";const $0=de.forwardRef(({className:a,bsPrefix:t,as:r="div",...s},l)=>(t=tt(t,"card-img-overlay"),le.jsx(r,{ref:l,className:Ye(a,t),...s})));$0.displayName="CardImgOverlay";const j0=de.forwardRef(({className:a,bsPrefix:t,as:r="a",...s},l)=>(t=tt(t,"card-link"),le.jsx(r,{ref:l,className:Ye(a,t),...s})));j0.displayName="CardLink";const Gw=N0("h6"),q0=de.forwardRef(({className:a,bsPrefix:t,as:r=Gw,...s},l)=>(t=tt(t,"card-subtitle"),le.jsx(r,{ref:l,className:Ye(a,t),...s})));q0.displayName="CardSubtitle";const z0=de.forwardRef(({className:a,bsPrefix:t,as:r="p",...s},l)=>(t=tt(t,"card-text"),le.jsx(r,{ref:l,className:Ye(a,t),...s})));z0.displayName="CardText";const Vw=N0("h5"),B0=de.forwardRef(({className:a,bsPrefix:t,as:r=Vw,...s},l)=>(t=tt(t,"card-title"),le.jsx(r,{ref:l,className:Ye(a,t),...s})));B0.displayName="CardTitle";const H0=de.forwardRef(({bsPrefix:a,className:t,bg:r,text:s,border:l,body:c=!1,children:d,as:h="div",...g},m)=>{const y=tt(a,"card");return le.jsx(h,{ref:m,...g,className:Ye(t,y,r&&`bg-${r}`,s&&`text-${s}`,l&&`border-${l}`),children:c?le.jsx(Yh,{children:d}):d})});H0.displayName="Card";const Rv=Object.assign(H0,{Img:I0,Title:B0,Subtitle:q0,Body:Yh,Link:j0,Text:z0,Header:L0,Footer:D0,ImgOverlay:$0});function Xw(a,t){return de.Children.toArray(a).some(r=>de.isValidElement(r)&&r.type===t)}function Yw({as:a,bsPrefix:t,className:r,...s}){t=tt(t,"col");const l=O0(),c=C0(),d=[],h=[];return l.forEach(g=>{const m=s[g];delete s[g];let y,S,A;typeof m=="object"&&m!=null?{span:y,offset:S,order:A}=m:y=m;const w=g!==c?`-${g}`:"";y&&d.push(y===!0?`${t}${w}`:`${t}${w}-${y}`),A!=null&&h.push(`order${w}-${A}`),S!=null&&h.push(`offset${w}-${S}`)}),[{...s,className:Ye(r,...d,...h)},{as:a,bsPrefix:t,spans:d}]}const Kh=de.forwardRef((a,t)=>{const[{className:r,...s},{as:l="div",bsPrefix:c,spans:d}]=Yw(a);return le.jsx(l,{...s,ref:t,className:Ye(r,!d.length&&c)})});Kh.displayName="Col";const P0=de.forwardRef(({bsPrefix:a,fluid:t=!1,as:r="div",className:s,...l},c)=>{const d=tt(a,"container"),h=typeof t=="string"?`-${t}`:"-fluid";return le.jsx(r,{ref:c,...l,className:Ye(s,t?`${d}${h}`:d)})});P0.displayName="Container";const Kw={type:mi.string,tooltip:mi.bool,as:mi.elementType},du=de.forwardRef(({as:a="div",className:t,type:r="valid",tooltip:s=!1,...l},c)=>le.jsx(a,{...l,ref:c,className:Ye(t,`${r}-${s?"tooltip":"feedback"}`)}));du.displayName="Feedback";du.propTypes=Kw;const ba=de.createContext({}),Qh=de.forwardRef(({id:a,bsPrefix:t,className:r,type:s="checkbox",isValid:l=!1,isInvalid:c=!1,as:d="input",...h},g)=>{const{controlId:m}=de.useContext(ba);return t=tt(t,"form-check-input"),le.jsx(d,{...h,ref:g,type:s,id:a||m,className:Ye(r,t,l&&"is-valid",c&&"is-invalid")})});Qh.displayName="FormCheckInput";const Fl=de.forwardRef(({bsPrefix:a,className:t,htmlFor:r,...s},l)=>{const{controlId:c}=de.useContext(ba);return a=tt(a,"form-check-label"),le.jsx("label",{...s,ref:l,htmlFor:r||c,className:Ye(t,a)})});Fl.displayName="FormCheckLabel";const F0=de.forwardRef(({id:a,bsPrefix:t,bsSwitchPrefix:r,inline:s=!1,reverse:l=!1,disabled:c=!1,isValid:d=!1,isInvalid:h=!1,feedbackTooltip:g=!1,feedback:m,feedbackType:y,className:S,style:A,title:w="",type:z="checkbox",label:D,children:K,as:ae="input",...J},se)=>{t=tt(t,"form-check"),r=tt(r,"form-switch");const{controlId:Te}=de.useContext(ba),fe=de.useMemo(()=>({controlId:a||Te}),[Te,a]),me=!K&&D!=null&&D!==!1||Xw(K,Fl),Se=le.jsx(Qh,{...J,type:z==="switch"?"checkbox":z,ref:se,isValid:d,isInvalid:h,disabled:c,as:ae});return le.jsx(ba.Provider,{value:fe,children:le.jsx("div",{style:A,className:Ye(S,me&&t,s&&`${t}-inline`,l&&`${t}-reverse`,z==="switch"&&r),children:K||le.jsxs(le.Fragment,{children:[Se,me&&le.jsx(Fl,{title:w,children:D}),m&&le.jsx(du,{type:y,tooltip:g,children:m})]})})})});F0.displayName="FormCheck";const Zl=Object.assign(F0,{Input:Qh,Label:Fl}),Z0=de.forwardRef(({bsPrefix:a,type:t,size:r,htmlSize:s,id:l,className:c,isValid:d=!1,isInvalid:h=!1,plaintext:g,readOnly:m,as:y="input",...S},A)=>{const{controlId:w}=de.useContext(ba);return a=tt(a,"form-control"),le.jsx(y,{...S,type:t,size:s,ref:A,readOnly:m,id:l||w,className:Ye(c,g?`${a}-plaintext`:a,r&&`${a}-${r}`,t==="color"&&`${a}-color`,d&&"is-valid",h&&"is-invalid")})});Z0.displayName="FormControl";const Qw=Object.assign(Z0,{Feedback:du}),G0=de.forwardRef(({className:a,bsPrefix:t,as:r="div",...s},l)=>(t=tt(t,"form-floating"),le.jsx(r,{ref:l,className:Ye(a,t),...s})));G0.displayName="FormFloating";const Jh=de.forwardRef(({controlId:a,as:t="div",...r},s)=>{const l=de.useMemo(()=>({controlId:a}),[a]);return le.jsx(ba.Provider,{value:l,children:le.jsx(t,{...r,ref:s})})});Jh.displayName="FormGroup";const V0=de.forwardRef(({as:a="label",bsPrefix:t,column:r=!1,visuallyHidden:s=!1,className:l,htmlFor:c,...d},h)=>{const{controlId:g}=de.useContext(ba);t=tt(t,"form-label");let m="col-form-label";typeof r=="string"&&(m=`${m} ${m}-${r}`);const y=Ye(l,t,s&&"visually-hidden",r&&m);return c=c||g,r?le.jsx(Kh,{ref:h,as:"label",className:y,htmlFor:c,...d}):le.jsx(a,{ref:h,className:y,htmlFor:c,...d})});V0.displayName="FormLabel";const X0=de.forwardRef(({bsPrefix:a,className:t,id:r,...s},l)=>{const{controlId:c}=de.useContext(ba);return a=tt(a,"form-range"),le.jsx("input",{...s,type:"range",ref:l,className:Ye(t,a),id:r||c})});X0.displayName="FormRange";const Y0=de.forwardRef(({bsPrefix:a,size:t,htmlSize:r,className:s,isValid:l=!1,isInvalid:c=!1,id:d,...h},g)=>{const{controlId:m}=de.useContext(ba);return a=tt(a,"form-select"),le.jsx("select",{...h,size:r,ref:g,className:Ye(s,a,t&&`${a}-${t}`,l&&"is-valid",c&&"is-invalid"),id:d||m})});Y0.displayName="FormSelect";const K0=de.forwardRef(({bsPrefix:a,className:t,as:r="small",muted:s,...l},c)=>(a=tt(a,"form-text"),le.jsx(r,{...l,ref:c,className:Ye(t,a,s&&"text-muted")})));K0.displayName="FormText";const Q0=de.forwardRef((a,t)=>le.jsx(Zl,{...a,ref:t,type:"switch"}));Q0.displayName="Switch";const Jw=Object.assign(Q0,{Input:Zl.Input,Label:Zl.Label}),J0=de.forwardRef(({bsPrefix:a,className:t,children:r,controlId:s,label:l,...c},d)=>(a=tt(a,"form-floating"),le.jsxs(Jh,{ref:d,className:Ye(t,a),controlId:s,...c,children:[r,le.jsx("label",{htmlFor:s,children:l})]})));J0.displayName="FloatingLabel";const Ww={_ref:mi.any,validated:mi.bool,as:mi.elementType},Wh=de.forwardRef(({className:a,validated:t,as:r="form",...s},l)=>le.jsx(r,{...s,ref:l,className:Ye(a,t&&"was-validated")}));Wh.displayName="Form";Wh.propTypes=Ww;const xv=Object.assign(Wh,{Group:Jh,Control:Qw,Floating:G0,Check:Zl,Switch:Jw,Label:V0,Text:K0,Range:X0,Select:Y0,FloatingLabel:J0}),W0=de.forwardRef(({bsPrefix:a,className:t,as:r="div",...s},l)=>{const c=tt(a,"row"),d=O0(),h=C0(),g=`${c}-cols`,m=[];return d.forEach(y=>{const S=s[y];delete s[y];let A;S!=null&&typeof S=="object"?{cols:A}=S:A=S;const w=y!==h?`-${y}`:"";A!=null&&m.push(`${g}${w}-${A}`)}),le.jsx(r,{ref:l,...s,className:Ye(t,c,...m)})});W0.displayName="Row";const e1="modulepreload",t1=function(a){return"/"+a},Ov={},n1=function(t,r,s){let l=Promise.resolve();if(r&&r.length>0){let g=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");l=g(r.map(m=>{if(m=t1(m),m in Ov)return;Ov[m]=!0;const y=m.endsWith(".css"),S=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${S}`))return;const A=document.createElement("link");if(A.rel=y?"stylesheet":e1,y||(A.as="script"),A.crossOrigin="",A.href=m,h&&A.setAttribute("nonce",h),document.head.appendChild(A),y)return new Promise((w,z)=>{A.addEventListener("load",w),A.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${m}`)))})}))}function c(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return l.then(d=>{for(const h of d||[])h.status==="rejected"&&c(h.reason);return t().catch(c)})};function eb(a,t,r,s,l){if(typeof t=="function"?a!==t||!0:!t.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(a,r),r}function Gl(a,t,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?a!==t||!s:!t.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(a):s?s.value:t.get(a)}let tb=function(){const{crypto:a}=globalThis;if(a?.randomUUID)return tb=a.randomUUID.bind(a),a.randomUUID();const t=new Uint8Array(1),r=a?()=>a.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^r()&15>>+s/4).toString(16))};function a1(a){return typeof a=="object"&&a!==null&&("name"in a&&a.name==="AbortError"||"message"in a&&String(a.message).includes("FetchRequestCanceledException"))}const bh=a=>{if(a instanceof Error)return a;if(typeof a=="object"&&a!==null){try{if(Object.prototype.toString.call(a)==="[object Error]"){const t=new Error(a.message,a.cause?{cause:a.cause}:{});return a.stack&&(t.stack=a.stack),a.cause&&!t.cause&&(t.cause=a.cause),a.name&&(t.name=a.name),t}}catch{}try{return new Error(JSON.stringify(a))}catch{}}return new Error(a)};let In=class extends Error{},Yt=class Sh extends In{constructor(t,r,s,l){super(`${Sh.makeMessage(t,r,s)}`),this.status=t,this.headers=l,this.error=r}static makeMessage(t,r,s){const l=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):s;return t&&l?`${t} ${l}`:t?`${t} status code (no body)`:l||"(no status code or body)"}static generate(t,r,s,l){if(!t||!l)return new hu({message:s,cause:bh(r)});const c=r;return t===400?new ep(t,c,s,l):t===401?new ab(t,c,s,l):t===403?new rb(t,c,s,l):t===404?new ib(t,c,s,l):t===409?new sb(t,c,s,l):t===422?new ob(t,c,s,l):t===429?new lb(t,c,s,l):t>=500?new ub(t,c,s,l):new Sh(t,c,s,l)}},Eh=class extends Yt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}},hu=class extends Yt{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}},nb=class extends hu{constructor({message:t}={}){super({message:t??"Request timed out."})}},ep=class extends Yt{},ab=class extends Yt{},rb=class extends Yt{},ib=class extends Yt{},sb=class extends Yt{},ob=class extends Yt{},lb=class extends Yt{},ub=class extends Yt{};const r1=/^[a-z][a-z0-9+.-]*:/i,i1=a=>r1.test(a);let Xt=a=>(Xt=Array.isArray,Xt(a)),Cv=Xt;function s1(a){if(!a)return!0;for(const t in a)return!1;return!0}function o1(a,t){return Object.prototype.hasOwnProperty.call(a,t)}const l1=(a,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new In(`${a} must be an integer`);if(t<0)throw new In(`${a} must be a positive integer`);return t},u1=a=>{try{return JSON.parse(a)}catch{return}},c1=a=>new Promise(t=>setTimeout(t,a)),fi="0.1.0-alpha.25";function f1(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const d1=()=>{const a=f1();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fi,"X-Stainless-OS":Mv(Deno.build.os),"X-Stainless-Arch":Nv(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fi,"X-Stainless-OS":Mv(globalThis.process.platform??"unknown"),"X-Stainless-Arch":Nv(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=h1();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":fi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function h1(){if(typeof navigator>"u"||!navigator)return null;const a=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of a){const s=r.exec(navigator.userAgent);if(s){const l=s[1]||0,c=s[2]||0,d=s[3]||0;return{browser:t,version:`${l}.${c}.${d}`}}}return null}const Nv=a=>a==="x32"?"x32":a==="x86_64"||a==="x64"?"x64":a==="arm"?"arm":a==="aarch64"||a==="arm64"?"arm64":a?`other:${a}`:"unknown",Mv=a=>(a=a.toLowerCase(),a.includes("ios")?"iOS":a==="android"?"Android":a==="darwin"?"MacOS":a==="win32"?"Windows":a==="freebsd"?"FreeBSD":a==="openbsd"?"OpenBSD":a==="linux"?"Linux":a?`Other:${a}`:"Unknown");let kv;const p1=()=>kv??(kv=d1());function m1(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Composio({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function g1(...a){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...a)}function y1(a){let t=Symbol.asyncIterator in a?a[Symbol.asyncIterator]():a[Symbol.iterator]();return g1({start(){},async pull(r){const{done:s,value:l}=await t.next();s?r.close():r.enqueue(l)},async cancel(){await t.return?.()}})}async function v1(a){if(a===null||typeof a!="object")return;if(a[Symbol.asyncIterator]){await a[Symbol.asyncIterator]().return?.();return}const t=a.getReader(),r=t.cancel();t.releaseLock(),await r}const _1=({headers:a,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),cb="RFC3986",fb=a=>String(a),Dv={RFC1738:a=>String(a).replace(/%20/g,"+"),RFC3986:fb},b1="RFC1738";let Th=(a,t)=>(Th=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Th(a,t));const Gn=(()=>{const a=[];for(let t=0;t<256;++t)a.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return a})(),ed=1024,S1=(a,t,r,s,l)=>{if(a.length===0)return a;let c=a;if(typeof a=="symbol"?c=Symbol.prototype.toString.call(a):typeof a!="string"&&(c=String(a)),r==="iso-8859-1")return escape(c).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});let d="";for(let h=0;h<c.length;h+=ed){const g=c.length>=ed?c.slice(h,h+ed):c,m=[];for(let y=0;y<g.length;++y){let S=g.charCodeAt(y);if(S===45||S===46||S===95||S===126||S>=48&&S<=57||S>=65&&S<=90||S>=97&&S<=122||l===b1&&(S===40||S===41)){m[m.length]=g.charAt(y);continue}if(S<128){m[m.length]=Gn[S];continue}if(S<2048){m[m.length]=Gn[192|S>>6]+Gn[128|S&63];continue}if(S<55296||S>=57344){m[m.length]=Gn[224|S>>12]+Gn[128|S>>6&63]+Gn[128|S&63];continue}y+=1,S=65536+((S&1023)<<10|g.charCodeAt(y)&1023),m[m.length]=Gn[240|S>>18]+Gn[128|S>>12&63]+Gn[128|S>>6&63]+Gn[128|S&63]}d+=m.join("")}return d};function E1(a){return!a||typeof a!="object"?!1:!!(a.constructor&&a.constructor.isBuffer&&a.constructor.isBuffer(a))}function Uv(a,t){if(Xt(a)){const r=[];for(let s=0;s<a.length;s+=1)r.push(t(a[s]));return r}return t(a)}const db={brackets(a){return String(a)+"[]"},comma:"comma",indices(a,t){return String(a)+"["+t+"]"},repeat(a){return String(a)}},hb=function(a,t){Array.prototype.push.apply(a,Xt(t)?t:[t])};let Lv;const St={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:S1,encodeValuesOnly:!1,format:cb,formatter:fb,indices:!1,serializeDate(a){return(Lv??(Lv=Function.prototype.call.bind(Date.prototype.toISOString)))(a)},skipNulls:!1,strictNullHandling:!1};function T1(a){return typeof a=="string"||typeof a=="number"||typeof a=="boolean"||typeof a=="symbol"||typeof a=="bigint"}const td={};function pb(a,t,r,s,l,c,d,h,g,m,y,S,A,w,z,D,K,ae){let J=a,se=ae,Te=0,fe=!1;for(;(se=se.get(td))!==void 0&&!fe;){const Je=se.get(a);if(Te+=1,typeof Je<"u"){if(Je===Te)throw new RangeError("Cyclic object value");fe=!0}typeof se.get(td)>"u"&&(Te=0)}if(typeof m=="function"?J=m(t,J):J instanceof Date?J=A?.(J):r==="comma"&&Xt(J)&&(J=Uv(J,function(Je){return Je instanceof Date?A?.(Je):Je})),J===null){if(c)return g&&!D?g(t,St.encoder,K,"key",w):t;J=""}if(T1(J)||E1(J)){if(g){const Je=D?t:g(t,St.encoder,K,"key",w);return[z?.(Je)+"="+z?.(g(J,St.encoder,K,"value",w))]}return[z?.(t)+"="+z?.(String(J))]}const me=[];if(typeof J>"u")return me;let Se;if(r==="comma"&&Xt(J))D&&g&&(J=Uv(J,g)),Se=[{value:J.length>0?J.join(",")||null:void 0}];else if(Xt(m))Se=m;else{const Je=Object.keys(J);Se=y?Je.sort(y):Je}const oe=h?String(t).replace(/\./g,"%2E"):String(t),ct=s&&Xt(J)&&J.length===1?oe+"[]":oe;if(l&&Xt(J)&&J.length===0)return ct+"[]";for(let Je=0;Je<Se.length;++Je){const ht=Se[Je],st=typeof ht=="object"&&typeof ht.value<"u"?ht.value:J[ht];if(d&&st===null)continue;const It=S&&h?ht.replace(/\./g,"%2E"):ht,Q=Xt(J)?typeof r=="function"?r(ct,It):ct:ct+(S?"."+It:"["+It+"]");ae.set(a,Te);const F=new WeakMap;F.set(td,ae),hb(me,pb(st,Q,r,s,l,c,d,h,r==="comma"&&D&&Xt(J)?null:g,m,y,S,A,w,z,D,K,F))}return me}function w1(a=St){if(typeof a.allowEmptyArrays<"u"&&typeof a.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof a.encodeDotInKeys<"u"&&typeof a.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(a.encoder!==null&&typeof a.encoder<"u"&&typeof a.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=a.charset||St.charset;if(typeof a.charset<"u"&&a.charset!=="utf-8"&&a.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=cb;if(typeof a.format<"u"){if(!Th(Dv,a.format))throw new TypeError("Unknown format option provided.");r=a.format}const s=Dv[r];let l=St.filter;(typeof a.filter=="function"||Xt(a.filter))&&(l=a.filter);let c;if(a.arrayFormat&&a.arrayFormat in db?c=a.arrayFormat:"indices"in a?c=a.indices?"indices":"repeat":c=St.arrayFormat,"commaRoundTrip"in a&&typeof a.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const d=typeof a.allowDots>"u"?a.encodeDotInKeys?!0:St.allowDots:!!a.allowDots;return{addQueryPrefix:typeof a.addQueryPrefix=="boolean"?a.addQueryPrefix:St.addQueryPrefix,allowDots:d,allowEmptyArrays:typeof a.allowEmptyArrays=="boolean"?!!a.allowEmptyArrays:St.allowEmptyArrays,arrayFormat:c,charset:t,charsetSentinel:typeof a.charsetSentinel=="boolean"?a.charsetSentinel:St.charsetSentinel,commaRoundTrip:!!a.commaRoundTrip,delimiter:typeof a.delimiter>"u"?St.delimiter:a.delimiter,encode:typeof a.encode=="boolean"?a.encode:St.encode,encodeDotInKeys:typeof a.encodeDotInKeys=="boolean"?a.encodeDotInKeys:St.encodeDotInKeys,encoder:typeof a.encoder=="function"?a.encoder:St.encoder,encodeValuesOnly:typeof a.encodeValuesOnly=="boolean"?a.encodeValuesOnly:St.encodeValuesOnly,filter:l,format:r,formatter:s,serializeDate:typeof a.serializeDate=="function"?a.serializeDate:St.serializeDate,skipNulls:typeof a.skipNulls=="boolean"?a.skipNulls:St.skipNulls,sort:typeof a.sort=="function"?a.sort:null,strictNullHandling:typeof a.strictNullHandling=="boolean"?a.strictNullHandling:St.strictNullHandling}}function A1(a,t={}){let r=a;const s=w1(t);let l,c;typeof s.filter=="function"?(c=s.filter,r=c("",r)):Xt(s.filter)&&(c=s.filter,l=c);const d=[];if(typeof r!="object"||r===null)return"";const h=db[s.arrayFormat],g=h==="comma"&&s.commaRoundTrip;l||(l=Object.keys(r)),s.sort&&l.sort(s.sort);const m=new WeakMap;for(let A=0;A<l.length;++A){const w=l[A];s.skipNulls&&r[w]===null||hb(d,pb(r[w],w,h,g,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,m))}const y=d.join(s.delimiter);let S=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?S+="utf8=%26%2310003%3B&":S+="utf8=%E2%9C%93&"),y.length>0?S+y:""}const mb=()=>{if(typeof File>"u"){const{process:a}=globalThis,t=typeof a?.versions?.node=="string"&&parseInt(a.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function nd(a,t,r){return mb(),new File(a,t??"unknown_file",r)}function R1(a){return(typeof a=="object"&&a!==null&&("name"in a&&a.name&&String(a.name)||"url"in a&&a.url&&String(a.url)||"filename"in a&&a.filename&&String(a.filename)||"path"in a&&a.path&&String(a.path))||"").split(/[\\/]/).pop()||void 0}const x1=a=>a!=null&&typeof a=="object"&&typeof a[Symbol.asyncIterator]=="function",gb=a=>a!=null&&typeof a=="object"&&typeof a.size=="number"&&typeof a.type=="string"&&typeof a.text=="function"&&typeof a.slice=="function"&&typeof a.arrayBuffer=="function",O1=a=>a!=null&&typeof a=="object"&&typeof a.name=="string"&&typeof a.lastModified=="number"&&gb(a),C1=a=>a!=null&&typeof a=="object"&&typeof a.url=="string"&&typeof a.blob=="function";async function N1(a,t,r){if(mb(),a=await a,O1(a))return a instanceof File?a:nd([await a.arrayBuffer()],a.name);if(C1(a)){const l=await a.blob();return t||(t=new URL(a.url).pathname.split(/[\\/]/).pop()),nd(await wh(l),t,r)}const s=await wh(a);if(t||(t=R1(a)),!r?.type){const l=s.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof l=="string"&&(r={...r,type:l})}return nd(s,t,r)}async function wh(a){let t=[];if(typeof a=="string"||ArrayBuffer.isView(a)||a instanceof ArrayBuffer)t.push(a);else if(gb(a))t.push(a instanceof Blob?a:await a.arrayBuffer());else if(x1(a))for await(const r of a)t.push(...await wh(r));else{const r=a?.constructor?.name;throw new Error(`Unexpected data type: ${typeof a}${r?`; constructor: ${r}`:""}${M1(a)}`)}return t}function M1(a){return typeof a!="object"||a===null?"":`; props: [${Object.getOwnPropertyNames(a).map(r=>`"${r}"`).join(", ")}]`}let Qe=class{constructor(t){this._client=t}};function yb(a){return a.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const k1=(a=yb)=>function(r,...s){if(r.length===1)return r[0];let l=!1;const c=r.reduce((y,S,A)=>(/[?#]/.test(S)&&(l=!0),y+S+(A===s.length?"":(l?encodeURIComponent:a)(String(s[A])))),""),d=c.split(/[?#]/,1)[0],h=[],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=g.exec(d))!==null;)h.push({start:m.index,length:m[0].length});if(h.length>0){let y=0;const S=h.reduce((A,w)=>{const z=" ".repeat(w.start-y),D="^".repeat(w.length);return y=w.start+w.length,A+z+D},"");throw new In(`Path parameters result in path with invalid segments:
${c}
${S}`)}return c},qe=k1(yb);let vb=class extends Qe{create(t,r){return this._client.post("/api/v3/auth_configs",{body:t,...r})}retrieve(t,r){return this._client.get(qe`/api/v3/auth_configs/${t}`,r)}update(t,r,s){return this._client.patch(qe`/api/v3/auth_configs/${t}`,{body:r,...s})}list(t={},r){return this._client.get("/api/v3/auth_configs",{query:t,...r})}delete(t,r){return this._client.delete(qe`/api/v3/auth_configs/${t}`,r)}updateStatus(t,r,s){const{nanoid:l}=r;return this._client.patch(qe`/api/v3/auth_configs/${l}/${t}`,s)}},_b=class extends Qe{create(t,r){return this._client.post("/api/v3/connected_accounts",{body:t,...r})}retrieve(t,r){return this._client.get(qe`/api/v3/connected_accounts/${t}`,r)}list(t={},r){return this._client.get("/api/v3/connected_accounts",{query:t,...r})}delete(t,r){return this._client.delete(qe`/api/v3/connected_accounts/${t}`,r)}refresh(t,r){return this._client.post(qe`/api/v3/connected_accounts/${t}/refresh`,r)}updateStatus(t,r,s){return this._client.patch(qe`/api/v3/connected_accounts/${t}/status`,{body:r,...s})}},bb=class extends Qe{list(t={},r){return this._client.get("/api/v3/files/list",{query:t,...r})}createPresignedURL(t,r){return this._client.post("/api/v3/files/upload/request",{body:t,...r})}};class Sb extends Qe{create(t,r){return this._client.post("/api/v3/mcp/servers/custom",{body:t,...r})}}class Eb extends Qe{url(t,r){return this._client.post("/api/v3/mcp/servers/generate",{body:t,...r})}}const Tb=Symbol("brand.privateNullableHeaders");function*D1(a){if(!a)return;if(Tb in a){const{values:s,nulls:l}=a;yield*s.entries();for(const c of l)yield[c,null];return}let t=!1,r;a instanceof Headers?r=a.entries():Cv(a)?r=a:(t=!0,r=Object.entries(a??{}));for(let s of r){const l=s[0];if(typeof l!="string")throw new TypeError("expected header name to be a string");const c=Cv(s[1])?s[1]:[s[1]];let d=!1;for(const h of c)h!==void 0&&(t&&!d&&(d=!0,yield[l,null]),yield[l,h])}}const jl=a=>{const t=new Headers,r=new Set;for(const s of a){const l=new Set;for(const[c,d]of D1(s)){const h=c.toLowerCase();l.has(h)||(t.delete(c),l.add(h)),d===null?(t.delete(c),r.add(h)):(t.append(c,d),r.delete(h))}}return{[Tb]:!0,values:t,nulls:r}};class pu extends Qe{constructor(){super(...arguments),this.custom=new Sb(this._client),this.generate=new Eb(this._client)}create(t,r){return this._client.post("/api/v3/mcp/servers",{body:t,...r})}retrieve(t,r){return this._client.get(qe`/api/v3/mcp/${t}`,r)}update(t,r={},s){return this._client.patch(qe`/api/v3/mcp/${t}`,{body:r,...s})}list(t={},r){return this._client.get("/api/v3/mcp/servers",{query:t,...r})}delete(t,r){return this._client.delete(qe`/api/v3/mcp/${t}`,r)}retrieveApp(t,r={},s){return this._client.get(qe`/api/v3/mcp/app/${t}`,{query:r,...s})}validate(t,r,s){const{"x-composio-admin-token":l}=r;return this._client.get(qe`/api/v3/mcp/validate/${t}`,{...s,headers:jl([{"x-composio-admin-token":l},s?.headers])})}}pu.Custom=Sb;pu.Generate=Eb;class wb extends Qe{retrieveNanoid(t,r){return this._client.get("/api/v3/migration/get-nanoid",{query:t,...r})}}class Ab extends Qe{retrieve(t){return this._client.get("/api/v3/org/api_key",t)}regenerate(t){return this._client.post("/api/v3/org/api_key/regenerate",t)}}class Rb extends Qe{create(t,r,s){return this._client.post(qe`/api/v3/org/project/${t}/api_keys/create`,{body:r,...s})}list(t,r){return this._client.get(qe`/api/v3/org/project/${t}/api_keys/list`,r)}delete(t,r,s){const{projectId:l}=r;return this._client.delete(qe`/api/v3/org/project/${l}/api_keys/remove/${t}`,s)}createAPIKey(t,r){return this._client.post(qe`/api/v3/org/project/${t}/api_keys/create-api-key`,r)}}let xb=class extends Qe{update(t={},r){const{enabled:s}=t??{};return this._client.patch("/api/v3/org/project/trigger",{query:{enabled:s},...r})}list(t){return this._client.get("/api/v3/org/project/trigger",t)}};class Ob extends Qe{retrieve(t,r){return this._client.get("/api/v3/org/project/webhook",{query:t,...r})}update(t,r){return this._client.post("/api/v3/org/project/webhook/update",{body:t,...r})}delete(t,r){return this._client.delete("/api/v3/org/project/webhook",{body:t,...r})}refresh(t){return this._client.post("/api/v3/org/project/webhook/refresh",t)}}class Vs extends Qe{constructor(){super(...arguments),this.apiKeys=new Rb(this._client),this.webhook=new Ob(this._client),this.trigger=new xb(this._client)}create(t,r){return this._client.post("/api/v3/org/project/new",{body:t,...r})}retrieve(t,r){return this._client.get(qe`/api/v3/org/project/${t}`,r)}list(t){return this._client.get("/api/v3/org/project/list",t)}delete(t,r){return this._client.delete(qe`/api/v3/org/project/delete/${t}`,r)}}Vs.APIKeys=Rb;Vs.Webhook=Ob;Vs.Trigger=xb;class mu extends Qe{constructor(){super(...arguments),this.apiKey=new Ab(this._client),this.project=new Vs(this._client)}}mu.APIKey=Ab;mu.Project=Vs;class Cb extends Qe{update(t,r,s){return this._client.put(qe`/api/v3/team-members/update/${t}`,{body:r,...s})}list(t){return this._client.get("/api/v3/team-members/list",t)}invite(t,r){return this._client.post("/api/v3/team-members/invite",{body:t,...r})}remove(t,r){return this._client.delete(qe`/api/v3/team-members/remove/${t}`,r)}}let Nb=class extends Qe{retrieve(t,r){return this._client.get(qe`/api/v3/toolkits/${t}`,r)}list(t={},r){return this._client.get("/api/v3/toolkits",{query:t,...r})}retrieveCategories(t={},r){return this._client.get("/api/v3/toolkits/categories",{query:t,...r})}},Mb=class extends Qe{retrieve(t,r){return this._client.get(qe`/api/v3/tools/${t}`,r)}list(t={},r){return this._client.get("/api/v3/tools",{query:t,...r})}execute(t,r={},s){return this._client.post(qe`/api/v3/tools/execute/${t}`,{body:r,...s})}getInput(t,r,s){return this._client.post(qe`/api/v3/tools/execute/${t}/input`,{body:r,...s})}proxy(t,r){return this._client.post("/api/v3/tools/execute/proxy",{body:t,...r})}retrieveEnum(t){return this._client.get("/api/v3/tools/enum",t)}};class kb extends Qe{retrieve(t,r,s){const{slug:l}=r;return this._client.get(qe`/api/v3/trigger_instances/${l}/${t}/handle`,s)}execute(t,r,s){const{slug:l}=r;return this._client.post(qe`/api/v3/trigger_instances/${l}/${t}/handle`,s)}}class Db extends Qe{update(t,r,s){return this._client.patch(qe`/api/v3/trigger_instances/manage/${t}`,{body:r,...s})}delete(t,r){return this._client.delete(qe`/api/v3/trigger_instances/manage/${t}`,r)}}class gu extends Qe{constructor(){super(...arguments),this.handle=new kb(this._client),this.manage=new Db(this._client)}listActive(t={},r){return this._client.get("/api/v3/trigger_instances/active",{query:t,...r})}upsert(t,r={},s){return this._client.post(qe`/api/v3/trigger_instances/${t}/upsert`,{body:r,...s})}}gu.Handle=kb;gu.Manage=Db;class Ub extends Qe{retrieve(t,r){return this._client.get(qe`/api/v3/triggers_types/${t}`,r)}list(t={},r){return this._client.get("/api/v3/triggers_types",{query:t,...r})}retrieveEnum(t){return this._client.get("/api/v3/triggers_types/list/enum",t)}}class Lb extends Qe{createSession(t){return this._client.post("/api/v3/cli/create-session",t)}linkSession(t,r){return this._client.put("/api/v3/cli/link-session",{body:t,...r})}retrieveSession(t,r){return this._client.get("/api/v3/cli/get-session",{query:t,...r})}}class Ib extends Qe{retrieveInfo(t){return this._client.get("/api/v3/auth/session/info",t)}}class tp extends Qe{constructor(){super(...arguments),this.session=new Ib(this._client)}}tp.Session=Ib;class $b extends Qe{retrieveLog(t,r){return this._client.get(qe`/api/v3/internal/action_execution/log/${t}`,r)}searchLogs(t,r){return this._client.post("/api/v3/internal/action_execution/logs",{body:t,...r})}}class jb extends Qe{searchLogs(t,r){return this._client.post("/api/v3/internal/trigger/logs",{body:t,...r})}}class yu extends Qe{constructor(){super(...arguments),this.trigger=new jb(this._client),this.actionExecution=new $b(this._client)}}yu.Trigger=jb;yu.ActionExecution=$b;class Xs extends Qe{constructor(){super(...arguments),this.auth=new tp(this._client),this.cli=new Lb(this._client),this.internal=new yu(this._client)}}Xs.Auth=tp;Xs.Cli=Lb;Xs.Internal=yu;const Vl={off:0,error:200,warn:300,info:400,debug:500},Iv=(a,t,r)=>{if(a){if(o1(Vl,a))return a;dn(r).warn(`${t} was set to ${JSON.stringify(a)}, expected one of ${JSON.stringify(Object.keys(Vl))}`)}};function Ls(){}function vl(a,t,r){return!t||Vl[a]>Vl[r]?Ls:t[a].bind(t)}const U1={error:Ls,warn:Ls,info:Ls,debug:Ls};let $v=new WeakMap;function dn(a){const t=a.logger,r=a.logLevel??"off";if(!t)return U1;const s=$v.get(t);if(s&&s[0]===r)return s[1];const l={error:vl("error",t,r),warn:vl("warn",t,r),info:vl("info",t,r),debug:vl("debug",t,r)};return $v.set(t,[r,l]),l}const mr=a=>(a.options&&(a.options={...a.options},delete a.options.headers),a.headers&&(a.headers=Object.fromEntries((a.headers instanceof Headers?[...a.headers]:Object.entries(a.headers)).map(([t,r])=>[t,t.toLowerCase()==="x-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in a&&(a.retryOfRequestLogID&&(a.retryOf=a.retryOfRequestLogID),delete a.retryOfRequestLogID),a);async function L1(a,t){const{response:r,requestLogID:s,retryOfRequestLogID:l,startTime:c}=t,d=await(async()=>{if(r.status===204)return null;if(t.options.__binaryResponse)return r;const g=r.headers.get("content-type")?.split(";")[0]?.trim();return g?.includes("application/json")||g?.endsWith("+json")?await r.json():await r.text()})();return dn(a).debug(`[${s}] response parsed`,mr({retryOfRequestLogID:l,url:r.url,status:r.status,body:d,durationMs:Date.now()-c})),d}var Is;let I1=class qb extends Promise{constructor(t,r,s=L1){super(l=>{l(null)}),this.responsePromise=r,this.parseResponse=s,Is.set(this,void 0),eb(this,Is,t)}_thenUnwrap(t){return new qb(Gl(this,Is,"f"),this.responsePromise,async(r,s)=>t(await this.parseResponse(r,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(Gl(this,Is,"f"),t))),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}};Is=new WeakMap;var $1={};const ad=a=>{if(typeof globalThis.process<"u")return $1?.[a]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(a)?.trim()};var Ah,np,ql,zb;const Bb={production:"https://backend.composio.dev",staging:"https://staging-backend.composio.dev",local:"http://localhost:9900"};let ze=class{constructor({baseURL:t=ad("COMPOSIO_BASE_URL"),apiKey:r=ad("COMPOSIO_API_KEY")??null,...s}={}){Ah.add(this),ql.set(this,void 0),this.authConfigs=new vb(this),this.connectedAccounts=new _b(this),this.org=new mu(this),this.teamMembers=new Cb(this),this.toolkits=new Nb(this),this.tools=new Mb(this),this.triggerInstances=new gu(this),this.triggersTypes=new Ub(this),this.mcp=new pu(this),this.files=new bb(this),this.migration=new wb(this),this.v3=new Xs(this);const l={apiKey:r,...s,baseURL:t,environment:s.environment??"production"};if(t&&s.environment)throw new In("Ambiguous URL; The `baseURL` option (or COMPOSIO_BASE_URL env var) and the `environment` option are given. If you want to use the environment you must pass baseURL: null");this.baseURL=l.baseURL||Bb[l.environment||"production"],this.timeout=l.timeout??np.DEFAULT_TIMEOUT,this.logger=l.logger??console;const c="warn";this.logLevel=c,this.logLevel=Iv(l.logLevel,"ClientOptions.logLevel",this)??Iv(ad("COMPOSIO_LOG"),"process.env['COMPOSIO_LOG']",this)??c,this.fetchOptions=l.fetchOptions,this.maxRetries=l.maxRetries??2,this.fetch=l.fetch??m1(),eb(this,ql,_1),this._options=l,this.apiKey=r}withOptions(t){return new this.constructor({...this._options,environment:t.environment?t.environment:void 0,baseURL:t.environment?void 0:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:r}){if(!(this.apiKey&&t.get("x-api-key"))&&!r.has("x-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-api-key" headers to be explicitly omitted')}authHeaders(t){if(this.apiKey!=null)return jl([{"x-api-key":this.apiKey}])}stringifyQuery(t){return A1(t,{arrayFormat:"comma"})}getUserAgent(){return`${this.constructor.name}/JS ${fi}`}defaultIdempotencyKey(){return`stainless-node-retry-${tb()}`}makeStatusError(t,r,s,l){return Yt.generate(t,r,s,l)}buildURL(t,r,s){const l=!Gl(this,Ah,"m",zb).call(this)&&s||this.baseURL,c=i1(t)?new URL(t):new URL(l+(l.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),d=this.defaultQuery();return s1(d)||(r={...d,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(c.search=this.stringifyQuery(r)),c.toString()}async prepareOptions(t){}async prepareRequest(t,{url:r,options:s}){}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,s){return this.request(Promise.resolve(s).then(l=>({method:t,path:r,...l})))}request(t,r=null){return new I1(this,this.makeRequest(t,r,void 0))}async makeRequest(t,r,s){const l=await t,c=l.maxRetries??this.maxRetries;r==null&&(r=c),await this.prepareOptions(l);const{req:d,url:h,timeout:g}=this.buildRequest(l,{retryCount:c-r});await this.prepareRequest(d,{url:h,options:l});const m="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=s===void 0?"":`, retryOf: ${s}`,S=Date.now();if(dn(this).debug(`[${m}] sending request`,mr({retryOfRequestLogID:s,method:l.method,url:h,options:l,headers:d.headers})),l.signal?.aborted)throw new Eh;const A=new AbortController,w=await this.fetchWithTimeout(h,d,g,A).catch(bh),z=Date.now();if(w instanceof Error){const K=`retrying, ${r} attempts remaining`;if(l.signal?.aborted)throw new Eh;const ae=a1(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(r)return dn(this).info(`[${m}] connection ${ae?"timed out":"failed"} - ${K}`),dn(this).debug(`[${m}] connection ${ae?"timed out":"failed"} (${K})`,mr({retryOfRequestLogID:s,url:h,durationMs:z-S,message:w.message})),this.retryRequest(l,r,s??m);throw dn(this).info(`[${m}] connection ${ae?"timed out":"failed"} - error; no more retries left`),dn(this).debug(`[${m}] connection ${ae?"timed out":"failed"} (error; no more retries left)`,mr({retryOfRequestLogID:s,url:h,durationMs:z-S,message:w.message})),ae?new nb:new hu({cause:w})}const D=`[${m}${y}] ${d.method} ${h} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${z-S}ms`;if(!w.ok){const K=this.shouldRetry(w);if(r&&K){const me=`retrying, ${r} attempts remaining`;return await v1(w.body),dn(this).info(`${D} - ${me}`),dn(this).debug(`[${m}] response error (${me})`,mr({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,durationMs:z-S})),this.retryRequest(l,r,s??m,w.headers)}const ae=K?"error; no more retries left":"error; not retryable";dn(this).info(`${D} - ${ae}`);const J=await w.text().catch(me=>bh(me).message),se=u1(J),Te=se?void 0:J;throw dn(this).debug(`[${m}] response error (${ae})`,mr({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,message:Te,durationMs:Date.now()-S})),this.makeStatusError(w.status,se,Te,w.headers)}return dn(this).info(D),dn(this).debug(`[${m}] response start`,mr({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,durationMs:z-S})),{response:w,options:l,controller:A,requestLogID:m,retryOfRequestLogID:s,startTime:S}}async fetchWithTimeout(t,r,s,l){const{signal:c,method:d,...h}=r||{};c&&c.addEventListener("abort",()=>l.abort());const g=setTimeout(()=>l.abort(),s),m=globalThis.ReadableStream&&h.body instanceof globalThis.ReadableStream||typeof h.body=="object"&&h.body!==null&&Symbol.asyncIterator in h.body,y={signal:l.signal,...m?{duplex:"half"}:{},method:"GET",...h};d&&(y.method=d.toUpperCase());try{return await this.fetch.call(void 0,t,y)}finally{clearTimeout(g)}}shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,s,l){let c;const d=l?.get("retry-after-ms");if(d){const g=parseFloat(d);Number.isNaN(g)||(c=g)}const h=l?.get("retry-after");if(h&&!c){const g=parseFloat(h);Number.isNaN(g)?c=Date.parse(h)-Date.now():c=g*1e3}if(!(c&&0<=c&&c<60*1e3)){const g=t.maxRetries??this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(r,g)}return await c1(c),this.makeRequest(t,r-1,s)}calculateDefaultRetryTimeoutMillis(t,r){const c=r-t,d=Math.min(.5*Math.pow(2,c),8),h=1-Math.random()*.25;return d*h*1e3}buildRequest(t,{retryCount:r=0}={}){const s={...t},{method:l,path:c,query:d,defaultBaseURL:h}=s,g=this.buildURL(c,d,h);"timeout"in s&&l1("timeout",s.timeout),s.timeout=s.timeout??this.timeout;const{bodyHeaders:m,body:y}=this.buildBody({options:s}),S=this.buildHeaders({options:t,method:l,bodyHeaders:m,retryCount:r});return{req:{method:l,headers:S,...s.signal&&{signal:s.signal},...globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"},...y&&{body:y},...this.fetchOptions??{},...s.fetchOptions??{}},url:g,timeout:s.timeout}}buildHeaders({options:t,method:r,bodyHeaders:s,retryCount:l}){let c={};this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=t.idempotencyKey);const d=jl([c,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(l),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...p1()},this.authHeaders(t),this._options.defaultHeaders,s,t.headers]);return this.validateHeaders(d),d.values}buildBody({options:{body:t,headers:r}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=jl([r]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||t instanceof Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:y1(t)}:Gl(this,ql,"f").call(this,{body:t,headers:s})}};np=ze,ql=new WeakMap,Ah=new WeakSet,zb=function(){return this.baseURL!==Bb[this._options.environment||"production"]};ze.Composio=np;ze.DEFAULT_TIMEOUT=6e4;ze.ComposioError=In;ze.APIError=Yt;ze.APIConnectionError=hu;ze.APIConnectionTimeoutError=nb;ze.APIUserAbortError=Eh;ze.NotFoundError=ib;ze.ConflictError=sb;ze.RateLimitError=lb;ze.BadRequestError=ep;ze.AuthenticationError=ab;ze.InternalServerError=ub;ze.PermissionDeniedError=rb;ze.UnprocessableEntityError=ob;ze.toFile=N1;ze.AuthConfigs=vb;ze.ConnectedAccounts=_b;ze.Org=mu;ze.TeamMembers=Cb;ze.Toolkits=Nb;ze.Tools=Mb;ze.TriggerInstances=gu;ze.TriggersTypes=Ub;ze.Mcp=pu;ze.Files=bb;ze.Migration=wb;ze.V3=Xs;var $e;(function(a){a.assertEqual=l=>{};function t(l){}a.assertIs=t;function r(l){throw new Error}a.assertNever=r,a.arrayToEnum=l=>{const c={};for(const d of l)c[d]=d;return c},a.getValidEnumValues=l=>{const c=a.objectKeys(l).filter(h=>typeof l[l[h]]!="number"),d={};for(const h of c)d[h]=l[h];return a.objectValues(d)},a.objectValues=l=>a.objectKeys(l).map(function(c){return l[c]}),a.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const c=[];for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&c.push(d);return c},a.find=(l,c)=>{for(const d of l)if(c(d))return d},a.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function s(l,c=" | "){return l.map(d=>typeof d=="string"?`'${d}'`:d).join(c)}a.joinValues=s,a.jsonStringifyReplacer=(l,c)=>typeof c=="bigint"?c.toString():c})($e||($e={}));var jv;(function(a){a.mergeShapes=(t,r)=>({...t,...r})})(jv||(jv={}));const te=$e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ya=a=>{switch(typeof a){case"undefined":return te.undefined;case"string":return te.string;case"number":return Number.isNaN(a)?te.nan:te.number;case"boolean":return te.boolean;case"function":return te.function;case"bigint":return te.bigint;case"symbol":return te.symbol;case"object":return Array.isArray(a)?te.array:a===null?te.null:a.then&&typeof a.then=="function"&&a.catch&&typeof a.catch=="function"?te.promise:typeof Map<"u"&&a instanceof Map?te.map:typeof Set<"u"&&a instanceof Set?te.set:typeof Date<"u"&&a instanceof Date?te.date:te.object;default:return te.unknown}},Z=$e.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class hn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(c){return c.message},s={_errors:[]},l=c=>{for(const d of c.issues)if(d.code==="invalid_union")d.unionErrors.map(l);else if(d.code==="invalid_return_type")l(d.returnTypeError);else if(d.code==="invalid_arguments")l(d.argumentsError);else if(d.path.length===0)s._errors.push(r(d));else{let h=s,g=0;for(;g<d.path.length;){const m=d.path[g];g===d.path.length-1?(h[m]=h[m]||{_errors:[]},h[m]._errors.push(r(d))):h[m]=h[m]||{_errors:[]},h=h[m],g++}}};return l(this),s}static assert(t){if(!(t instanceof hn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,$e.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const l of this.issues)if(l.path.length>0){const c=l.path[0];r[c]=r[c]||[],r[c].push(t(l))}else s.push(t(l));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}hn.create=a=>new hn(a);const Rh=(a,t)=>{let r;switch(a.code){case Z.invalid_type:a.received===te.undefined?r="Required":r=`Expected ${a.expected}, received ${a.received}`;break;case Z.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(a.expected,$e.jsonStringifyReplacer)}`;break;case Z.unrecognized_keys:r=`Unrecognized key(s) in object: ${$e.joinValues(a.keys,", ")}`;break;case Z.invalid_union:r="Invalid input";break;case Z.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${$e.joinValues(a.options)}`;break;case Z.invalid_enum_value:r=`Invalid enum value. Expected ${$e.joinValues(a.options)}, received '${a.received}'`;break;case Z.invalid_arguments:r="Invalid function arguments";break;case Z.invalid_return_type:r="Invalid function return type";break;case Z.invalid_date:r="Invalid date";break;case Z.invalid_string:typeof a.validation=="object"?"includes"in a.validation?(r=`Invalid input: must include "${a.validation.includes}"`,typeof a.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?r=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?r=`Invalid input: must end with "${a.validation.endsWith}"`:$e.assertNever(a.validation):a.validation!=="regex"?r=`Invalid ${a.validation}`:r="Invalid";break;case Z.too_small:a.type==="array"?r=`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:a.type==="string"?r=`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:a.type==="number"?r=`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:a.type==="bigint"?r=`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:a.type==="date"?r=`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:r="Invalid input";break;case Z.too_big:a.type==="array"?r=`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:a.type==="string"?r=`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:a.type==="number"?r=`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="bigint"?r=`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:a.type==="date"?r=`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:r="Invalid input";break;case Z.custom:r="Invalid input";break;case Z.invalid_intersection_types:r="Intersection results could not be merged";break;case Z.not_multiple_of:r=`Number must be a multiple of ${a.multipleOf}`;break;case Z.not_finite:r="Number must be finite";break;default:r=t.defaultError,$e.assertNever(a)}return{message:r}};let j1=Rh;function q1(){return j1}const z1=a=>{const{data:t,path:r,errorMaps:s,issueData:l}=a,c=[...r,...l.path||[]],d={...l,path:c};if(l.message!==void 0)return{...l,path:c,message:l.message};let h="";const g=s.filter(m=>!!m).slice().reverse();for(const m of g)h=m(d,{data:t,defaultError:h}).message;return{...l,path:c,message:h}};function W(a,t){const r=q1(),s=z1({issueData:t,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,r,r===Rh?void 0:Rh].filter(l=>!!l)});a.common.issues.push(s)}class zt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const l of r){if(l.status==="aborted")return be;l.status==="dirty"&&t.dirty(),s.push(l.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const l of r){const c=await l.key,d=await l.value;s.push({key:c,value:d})}return zt.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const l of r){const{key:c,value:d}=l;if(c.status==="aborted"||d.status==="aborted")return be;c.status==="dirty"&&t.dirty(),d.status==="dirty"&&t.dirty(),c.value!=="__proto__"&&(typeof d.value<"u"||l.alwaysSet)&&(s[c.value]=d.value)}return{status:t.value,value:s}}}const be=Object.freeze({status:"aborted"}),$s=a=>({status:"dirty",value:a}),xn=a=>({status:"valid",value:a}),qv=a=>a.status==="aborted",zv=a=>a.status==="dirty",yi=a=>a.status==="valid",Xl=a=>typeof Promise<"u"&&a instanceof Promise;var ie;(function(a){a.errToObj=t=>typeof t=="string"?{message:t}:t||{},a.toString=t=>typeof t=="string"?t:t?.message})(ie||(ie={}));class Kn{constructor(t,r,s,l){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Bv=(a,t)=>{if(yi(t))return{success:!0,data:t.value};if(!a.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new hn(a.common.issues);return this._error=r,this._error}}};function Ae(a){if(!a)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:l}=a;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:l}:{errorMap:(d,h)=>{const{message:g}=a;return d.code==="invalid_enum_value"?{message:g??h.defaultError}:typeof h.data>"u"?{message:g??s??h.defaultError}:d.code!=="invalid_type"?{message:h.defaultError}:{message:g??r??h.defaultError}},description:l}}class De{get description(){return this._def.description}_getType(t){return Ya(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ya(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new zt,ctx:{common:t.parent.common,data:t.data,parsedType:Ya(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Xl(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){const s={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ya(t)},l=this._parseSync({data:t,path:s.path,parent:s});return Bv(s,l)}"~validate"(t){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ya(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return yi(s)?{value:s.value}:{issues:r.common.issues}}catch(s){s?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>yi(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ya(t)},l=this._parse({data:t,path:s.path,parent:s}),c=await(Xl(l)?l:Promise.resolve(l));return Bv(s,c)}refine(t,r){const s=l=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(l):r;return this._refinement((l,c)=>{const d=t(l),h=()=>c.addIssue({code:Z.custom,...s(l)});return typeof Promise<"u"&&d instanceof Promise?d.then(g=>g?!0:(h(),!1)):d?!0:(h(),!1)})}refinement(t,r){return this._refinement((s,l)=>t(s)?!0:(l.addIssue(typeof r=="function"?r(s,l):r),!1))}_refinement(t){return new br({schema:this,typeName:G.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ya.create(this,this._def)}nullable(){return Sr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Yn.create(this)}promise(){return tu.create(this,this._def)}or(t){return Kl.create([this,t],this._def)}and(t){return Ql.create(this,t,this._def)}transform(t){return new br({...Ae(this._def),schema:this,typeName:G.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new nu({...Ae(this._def),innerType:this,defaultValue:r,typeName:G.ZodDefault})}brand(){return new Zb({typeName:G.ZodBranded,type:this,...Ae(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new au({...Ae(this._def),innerType:this,catchValue:r,typeName:G.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return rp.create(this,t)}readonly(){return ru.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const B1=/^c[^\s-]{8,}$/i,H1=/^[0-9a-z]+$/,P1=/^[0-9A-HJKMNP-TV-Z]{26}$/i,F1=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Z1=/^[a-z0-9_-]{21}$/i,G1=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,V1=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,X1=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Y1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let rd;const K1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Q1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,J1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,W1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,eA=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,tA=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Hb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",nA=new RegExp(`^${Hb}$`);function Pb(a){let t="[0-5]\\d";a.precision?t=`${t}\\.\\d{${a.precision}}`:a.precision==null&&(t=`${t}(\\.\\d+)?`);const r=a.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function aA(a){return new RegExp(`^${Pb(a)}$`)}function rA(a){let t=`${Hb}T${Pb(a)}`;const r=[];return r.push(a.local?"Z?":"Z"),a.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function iA(a,t){return!!((t==="v4"||!t)&&K1.test(a)||(t==="v6"||!t)&&J1.test(a))}function sA(a,t){if(!G1.test(a))return!1;try{const[r]=a.split(".");if(!r)return!1;const s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),l=JSON.parse(atob(s));return!(typeof l!="object"||l===null||"typ"in l&&l?.typ!=="JWT"||!l.alg||t&&l.alg!==t)}catch{return!1}}function oA(a,t){return!!((t==="v4"||!t)&&Q1.test(a)||(t==="v6"||!t)&&W1.test(a))}class ga extends De{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==te.string){const c=this._getOrReturnCtx(t);return W(c,{code:Z.invalid_type,expected:te.string,received:c.parsedType}),be}const s=new zt;let l;for(const c of this._def.checks)if(c.kind==="min")t.data.length<c.value&&(l=this._getOrReturnCtx(t,l),W(l,{code:Z.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),s.dirty());else if(c.kind==="max")t.data.length>c.value&&(l=this._getOrReturnCtx(t,l),W(l,{code:Z.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),s.dirty());else if(c.kind==="length"){const d=t.data.length>c.value,h=t.data.length<c.value;(d||h)&&(l=this._getOrReturnCtx(t,l),d?W(l,{code:Z.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):h&&W(l,{code:Z.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),s.dirty())}else if(c.kind==="email")X1.test(t.data)||(l=this._getOrReturnCtx(t,l),W(l,{validation:"email",code:Z.invalid_string,message:c.message}),s.dirty());else if(c.kind==="emoji")rd||(rd=new RegExp(Y1,"u")),rd.test(t.data)||(l=this._getOrReturnCtx(t,l),W(l,{validation:"emoji",code:Z.invalid_string,message:c.message}),s.dirty());else if(c.kind==="uuid")F1.test(t.data)||(l=this._getOrReturnCtx(t,l),W(l,{validation:"uuid",code:Z.invalid_string,message:c.message}),s.dirty());else if(c.kind==="nanoid")Z1.test(t.data)||(l=this._getOrReturnCtx(t,l),W(l,{validation:"nanoid",code:Z.invalid_string,message:c.message}),s.dirty());else if(c.kind==="cuid")B1.test(t.data)||(l=this._getOrReturnCtx(t,l),W(l,{validation:"cuid",code:Z.invalid_string,message:c.message}),s.dirty());else if(c.kind==="cuid2")H1.test(t.data)||(l=this._getOrReturnCtx(t,l),W(l,{validation:"cuid2",code:Z.invalid_string,message:c.message}),s.dirty());else if(c.kind==="ulid")P1.test(t.data)||(l=this._getOrReturnCtx(t,l),W(l,{validation:"ulid",code:Z.invalid_string,message:c.message}),s.dirty());else if(c.kind==="url")try{new URL(t.data)}catch{l=this._getOrReturnCtx(t,l),W(l,{validation:"url",code:Z.invalid_string,message:c.message}),s.dirty()}else c.kind==="regex"?(c.regex.lastIndex=0,c.regex.test(t.data)||(l=this._getOrReturnCtx(t,l),W(l,{validation:"regex",code:Z.invalid_string,message:c.message}),s.dirty())):c.kind==="trim"?t.data=t.data.trim():c.kind==="includes"?t.data.includes(c.value,c.position)||(l=this._getOrReturnCtx(t,l),W(l,{code:Z.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),s.dirty()):c.kind==="toLowerCase"?t.data=t.data.toLowerCase():c.kind==="toUpperCase"?t.data=t.data.toUpperCase():c.kind==="startsWith"?t.data.startsWith(c.value)||(l=this._getOrReturnCtx(t,l),W(l,{code:Z.invalid_string,validation:{startsWith:c.value},message:c.message}),s.dirty()):c.kind==="endsWith"?t.data.endsWith(c.value)||(l=this._getOrReturnCtx(t,l),W(l,{code:Z.invalid_string,validation:{endsWith:c.value},message:c.message}),s.dirty()):c.kind==="datetime"?rA(c).test(t.data)||(l=this._getOrReturnCtx(t,l),W(l,{code:Z.invalid_string,validation:"datetime",message:c.message}),s.dirty()):c.kind==="date"?nA.test(t.data)||(l=this._getOrReturnCtx(t,l),W(l,{code:Z.invalid_string,validation:"date",message:c.message}),s.dirty()):c.kind==="time"?aA(c).test(t.data)||(l=this._getOrReturnCtx(t,l),W(l,{code:Z.invalid_string,validation:"time",message:c.message}),s.dirty()):c.kind==="duration"?V1.test(t.data)||(l=this._getOrReturnCtx(t,l),W(l,{validation:"duration",code:Z.invalid_string,message:c.message}),s.dirty()):c.kind==="ip"?iA(t.data,c.version)||(l=this._getOrReturnCtx(t,l),W(l,{validation:"ip",code:Z.invalid_string,message:c.message}),s.dirty()):c.kind==="jwt"?sA(t.data,c.alg)||(l=this._getOrReturnCtx(t,l),W(l,{validation:"jwt",code:Z.invalid_string,message:c.message}),s.dirty()):c.kind==="cidr"?oA(t.data,c.version)||(l=this._getOrReturnCtx(t,l),W(l,{validation:"cidr",code:Z.invalid_string,message:c.message}),s.dirty()):c.kind==="base64"?eA.test(t.data)||(l=this._getOrReturnCtx(t,l),W(l,{validation:"base64",code:Z.invalid_string,message:c.message}),s.dirty()):c.kind==="base64url"?tA.test(t.data)||(l=this._getOrReturnCtx(t,l),W(l,{validation:"base64url",code:Z.invalid_string,message:c.message}),s.dirty()):$e.assertNever(c);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(l=>t.test(l),{validation:r,code:Z.invalid_string,...ie.errToObj(s)})}_addCheck(t){return new ga({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ie.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ie.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ie.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ie.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ie.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ie.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ie.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ie.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ie.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ie.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ie.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ie.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ie.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...ie.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...ie.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...ie.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ie.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...ie.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ie.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ie.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ie.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ie.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ie.errToObj(r)})}nonempty(t){return this.min(1,ie.errToObj(t))}trim(){return new ga({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ga({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ga({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ga.create=a=>new ga({checks:[],typeName:G.ZodString,coerce:a?.coerce??!1,...Ae(a)});function lA(a,t){const r=(a.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,l=r>s?r:s,c=Number.parseInt(a.toFixed(l).replace(".","")),d=Number.parseInt(t.toFixed(l).replace(".",""));return c%d/10**l}class vi extends De{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==te.number){const c=this._getOrReturnCtx(t);return W(c,{code:Z.invalid_type,expected:te.number,received:c.parsedType}),be}let s;const l=new zt;for(const c of this._def.checks)c.kind==="int"?$e.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),W(s,{code:Z.invalid_type,expected:"integer",received:"float",message:c.message}),l.dirty()):c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(s=this._getOrReturnCtx(t,s),W(s,{code:Z.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),l.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(s=this._getOrReturnCtx(t,s),W(s,{code:Z.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),l.dirty()):c.kind==="multipleOf"?lA(t.data,c.value)!==0&&(s=this._getOrReturnCtx(t,s),W(s,{code:Z.not_multiple_of,multipleOf:c.value,message:c.message}),l.dirty()):c.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),W(s,{code:Z.not_finite,message:c.message}),l.dirty()):$e.assertNever(c);return{status:l.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ie.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ie.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ie.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ie.toString(r))}setLimit(t,r,s,l){return new vi({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:ie.toString(l)}]})}_addCheck(t){return new vi({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ie.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ie.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ie.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ie.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ie.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ie.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ie.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ie.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ie.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&$e.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}vi.create=a=>new vi({checks:[],typeName:G.ZodNumber,coerce:a?.coerce||!1,...Ae(a)});class Hs extends De{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==te.bigint)return this._getInvalidInput(t);let s;const l=new zt;for(const c of this._def.checks)c.kind==="min"?(c.inclusive?t.data<c.value:t.data<=c.value)&&(s=this._getOrReturnCtx(t,s),W(s,{code:Z.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),l.dirty()):c.kind==="max"?(c.inclusive?t.data>c.value:t.data>=c.value)&&(s=this._getOrReturnCtx(t,s),W(s,{code:Z.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),l.dirty()):c.kind==="multipleOf"?t.data%c.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),W(s,{code:Z.not_multiple_of,multipleOf:c.value,message:c.message}),l.dirty()):$e.assertNever(c);return{status:l.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return W(r,{code:Z.invalid_type,expected:te.bigint,received:r.parsedType}),be}gte(t,r){return this.setLimit("min",t,!0,ie.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ie.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ie.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ie.toString(r))}setLimit(t,r,s,l){return new Hs({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:ie.toString(l)}]})}_addCheck(t){return new Hs({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ie.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ie.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ie.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ie.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ie.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Hs.create=a=>new Hs({checks:[],typeName:G.ZodBigInt,coerce:a?.coerce??!1,...Ae(a)});class xh extends De{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==te.boolean){const s=this._getOrReturnCtx(t);return W(s,{code:Z.invalid_type,expected:te.boolean,received:s.parsedType}),be}return xn(t.data)}}xh.create=a=>new xh({typeName:G.ZodBoolean,coerce:a?.coerce||!1,...Ae(a)});class Yl extends De{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==te.date){const c=this._getOrReturnCtx(t);return W(c,{code:Z.invalid_type,expected:te.date,received:c.parsedType}),be}if(Number.isNaN(t.data.getTime())){const c=this._getOrReturnCtx(t);return W(c,{code:Z.invalid_date}),be}const s=new zt;let l;for(const c of this._def.checks)c.kind==="min"?t.data.getTime()<c.value&&(l=this._getOrReturnCtx(t,l),W(l,{code:Z.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),s.dirty()):c.kind==="max"?t.data.getTime()>c.value&&(l=this._getOrReturnCtx(t,l),W(l,{code:Z.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),s.dirty()):$e.assertNever(c);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Yl({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ie.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ie.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Yl.create=a=>new Yl({checks:[],coerce:a?.coerce||!1,typeName:G.ZodDate,...Ae(a)});class Hv extends De{_parse(t){if(this._getType(t)!==te.symbol){const s=this._getOrReturnCtx(t);return W(s,{code:Z.invalid_type,expected:te.symbol,received:s.parsedType}),be}return xn(t.data)}}Hv.create=a=>new Hv({typeName:G.ZodSymbol,...Ae(a)});class Oh extends De{_parse(t){if(this._getType(t)!==te.undefined){const s=this._getOrReturnCtx(t);return W(s,{code:Z.invalid_type,expected:te.undefined,received:s.parsedType}),be}return xn(t.data)}}Oh.create=a=>new Oh({typeName:G.ZodUndefined,...Ae(a)});class Ch extends De{_parse(t){if(this._getType(t)!==te.null){const s=this._getOrReturnCtx(t);return W(s,{code:Z.invalid_type,expected:te.null,received:s.parsedType}),be}return xn(t.data)}}Ch.create=a=>new Ch({typeName:G.ZodNull,...Ae(a)});class Nh extends De{constructor(){super(...arguments),this._any=!0}_parse(t){return xn(t.data)}}Nh.create=a=>new Nh({typeName:G.ZodAny,...Ae(a)});class Mh extends De{constructor(){super(...arguments),this._unknown=!0}_parse(t){return xn(t.data)}}Mh.create=a=>new Mh({typeName:G.ZodUnknown,...Ae(a)});class Ka extends De{_parse(t){const r=this._getOrReturnCtx(t);return W(r,{code:Z.invalid_type,expected:te.never,received:r.parsedType}),be}}Ka.create=a=>new Ka({typeName:G.ZodNever,...Ae(a)});class Pv extends De{_parse(t){if(this._getType(t)!==te.undefined){const s=this._getOrReturnCtx(t);return W(s,{code:Z.invalid_type,expected:te.void,received:s.parsedType}),be}return xn(t.data)}}Pv.create=a=>new Pv({typeName:G.ZodVoid,...Ae(a)});class Yn extends De{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),l=this._def;if(r.parsedType!==te.array)return W(r,{code:Z.invalid_type,expected:te.array,received:r.parsedType}),be;if(l.exactLength!==null){const d=r.data.length>l.exactLength.value,h=r.data.length<l.exactLength.value;(d||h)&&(W(r,{code:d?Z.too_big:Z.too_small,minimum:h?l.exactLength.value:void 0,maximum:d?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),s.dirty())}if(l.minLength!==null&&r.data.length<l.minLength.value&&(W(r,{code:Z.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),s.dirty()),l.maxLength!==null&&r.data.length>l.maxLength.value&&(W(r,{code:Z.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((d,h)=>l.type._parseAsync(new Kn(r,d,r.path,h)))).then(d=>zt.mergeArray(s,d));const c=[...r.data].map((d,h)=>l.type._parseSync(new Kn(r,d,r.path,h)));return zt.mergeArray(s,c)}get element(){return this._def.type}min(t,r){return new Yn({...this._def,minLength:{value:t,message:ie.toString(r)}})}max(t,r){return new Yn({...this._def,maxLength:{value:t,message:ie.toString(r)}})}length(t,r){return new Yn({...this._def,exactLength:{value:t,message:ie.toString(r)}})}nonempty(t){return this.min(1,t)}}Yn.create=(a,t)=>new Yn({type:a,minLength:null,maxLength:null,exactLength:null,typeName:G.ZodArray,...Ae(t)});function di(a){if(a instanceof gt){const t={};for(const r in a.shape){const s=a.shape[r];t[r]=ya.create(di(s))}return new gt({...a._def,shape:()=>t})}else return a instanceof Yn?new Yn({...a._def,type:di(a.element)}):a instanceof ya?ya.create(di(a.unwrap())):a instanceof Sr?Sr.create(di(a.unwrap())):a instanceof vr?vr.create(a.items.map(t=>di(t))):a}class gt extends De{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=$e.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==te.object){const m=this._getOrReturnCtx(t);return W(m,{code:Z.invalid_type,expected:te.object,received:m.parsedType}),be}const{status:s,ctx:l}=this._processInputParams(t),{shape:c,keys:d}=this._getCached(),h=[];if(!(this._def.catchall instanceof Ka&&this._def.unknownKeys==="strip"))for(const m in l.data)d.includes(m)||h.push(m);const g=[];for(const m of d){const y=c[m],S=l.data[m];g.push({key:{status:"valid",value:m},value:y._parse(new Kn(l,S,l.path,m)),alwaysSet:m in l.data})}if(this._def.catchall instanceof Ka){const m=this._def.unknownKeys;if(m==="passthrough")for(const y of h)g.push({key:{status:"valid",value:y},value:{status:"valid",value:l.data[y]}});else if(m==="strict")h.length>0&&(W(l,{code:Z.unrecognized_keys,keys:h}),s.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const y of h){const S=l.data[y];g.push({key:{status:"valid",value:y},value:m._parse(new Kn(l,S,l.path,y)),alwaysSet:y in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const m=[];for(const y of g){const S=await y.key,A=await y.value;m.push({key:S,value:A,alwaysSet:y.alwaysSet})}return m}).then(m=>zt.mergeObjectSync(s,m)):zt.mergeObjectSync(s,g)}get shape(){return this._def.shape()}strict(t){return ie.errToObj,new gt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{const l=this._def.errorMap?.(r,s).message??s.defaultError;return r.code==="unrecognized_keys"?{message:ie.errToObj(t).message??l}:{message:l}}}:{}})}strip(){return new gt({...this._def,unknownKeys:"strip"})}passthrough(){return new gt({...this._def,unknownKeys:"passthrough"})}extend(t){return new gt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new gt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:G.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new gt({...this._def,catchall:t})}pick(t){const r={};for(const s of $e.objectKeys(t))t[s]&&this.shape[s]&&(r[s]=this.shape[s]);return new gt({...this._def,shape:()=>r})}omit(t){const r={};for(const s of $e.objectKeys(this.shape))t[s]||(r[s]=this.shape[s]);return new gt({...this._def,shape:()=>r})}deepPartial(){return di(this)}partial(t){const r={};for(const s of $e.objectKeys(this.shape)){const l=this.shape[s];t&&!t[s]?r[s]=l:r[s]=l.optional()}return new gt({...this._def,shape:()=>r})}required(t){const r={};for(const s of $e.objectKeys(this.shape))if(t&&!t[s])r[s]=this.shape[s];else{let c=this.shape[s];for(;c instanceof ya;)c=c._def.innerType;r[s]=c}return new gt({...this._def,shape:()=>r})}keyof(){return Fb($e.objectKeys(this.shape))}}gt.create=(a,t)=>new gt({shape:()=>a,unknownKeys:"strip",catchall:Ka.create(),typeName:G.ZodObject,...Ae(t)});gt.strictCreate=(a,t)=>new gt({shape:()=>a,unknownKeys:"strict",catchall:Ka.create(),typeName:G.ZodObject,...Ae(t)});gt.lazycreate=(a,t)=>new gt({shape:a,unknownKeys:"strip",catchall:Ka.create(),typeName:G.ZodObject,...Ae(t)});class Kl extends De{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function l(c){for(const h of c)if(h.result.status==="valid")return h.result;for(const h of c)if(h.result.status==="dirty")return r.common.issues.push(...h.ctx.common.issues),h.result;const d=c.map(h=>new hn(h.ctx.common.issues));return W(r,{code:Z.invalid_union,unionErrors:d}),be}if(r.common.async)return Promise.all(s.map(async c=>{const d={...r,common:{...r.common,issues:[]},parent:null};return{result:await c._parseAsync({data:r.data,path:r.path,parent:d}),ctx:d}})).then(l);{let c;const d=[];for(const g of s){const m={...r,common:{...r.common,issues:[]},parent:null},y=g._parseSync({data:r.data,path:r.path,parent:m});if(y.status==="valid")return y;y.status==="dirty"&&!c&&(c={result:y,ctx:m}),m.common.issues.length&&d.push(m.common.issues)}if(c)return r.common.issues.push(...c.ctx.common.issues),c.result;const h=d.map(g=>new hn(g));return W(r,{code:Z.invalid_union,unionErrors:h}),be}}get options(){return this._def.options}}Kl.create=(a,t)=>new Kl({options:a,typeName:G.ZodUnion,...Ae(t)});const ma=a=>a instanceof Wl?ma(a.schema):a instanceof br?ma(a.innerType()):a instanceof eu?[a.value]:a instanceof _r?a.options:a instanceof Dh?$e.objectValues(a.enum):a instanceof nu?ma(a._def.innerType):a instanceof Oh?[void 0]:a instanceof Ch?[null]:a instanceof ya?[void 0,...ma(a.unwrap())]:a instanceof Sr?[null,...ma(a.unwrap())]:a instanceof Zb||a instanceof ru?ma(a.unwrap()):a instanceof au?ma(a._def.innerType):[];class ap extends De{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==te.object)return W(r,{code:Z.invalid_type,expected:te.object,received:r.parsedType}),be;const s=this.discriminator,l=r.data[s],c=this.optionsMap.get(l);return c?r.common.async?c._parseAsync({data:r.data,path:r.path,parent:r}):c._parseSync({data:r.data,path:r.path,parent:r}):(W(r,{code:Z.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),be)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,s){const l=new Map;for(const c of r){const d=ma(c.shape[t]);if(!d.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const h of d){if(l.has(h))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(h)}`);l.set(h,c)}}return new ap({typeName:G.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:l,...Ae(s)})}}function kh(a,t){const r=Ya(a),s=Ya(t);if(a===t)return{valid:!0,data:a};if(r===te.object&&s===te.object){const l=$e.objectKeys(t),c=$e.objectKeys(a).filter(h=>l.indexOf(h)!==-1),d={...a,...t};for(const h of c){const g=kh(a[h],t[h]);if(!g.valid)return{valid:!1};d[h]=g.data}return{valid:!0,data:d}}else if(r===te.array&&s===te.array){if(a.length!==t.length)return{valid:!1};const l=[];for(let c=0;c<a.length;c++){const d=a[c],h=t[c],g=kh(d,h);if(!g.valid)return{valid:!1};l.push(g.data)}return{valid:!0,data:l}}else return r===te.date&&s===te.date&&+a==+t?{valid:!0,data:a}:{valid:!1}}class Ql extends De{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),l=(c,d)=>{if(qv(c)||qv(d))return be;const h=kh(c.value,d.value);return h.valid?((zv(c)||zv(d))&&r.dirty(),{status:r.value,value:h.data}):(W(s,{code:Z.invalid_intersection_types}),be)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([c,d])=>l(c,d)):l(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Ql.create=(a,t,r)=>new Ql({left:a,right:t,typeName:G.ZodIntersection,...Ae(r)});class vr extends De{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==te.array)return W(s,{code:Z.invalid_type,expected:te.array,received:s.parsedType}),be;if(s.data.length<this._def.items.length)return W(s,{code:Z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),be;!this._def.rest&&s.data.length>this._def.items.length&&(W(s,{code:Z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const c=[...s.data].map((d,h)=>{const g=this._def.items[h]||this._def.rest;return g?g._parse(new Kn(s,d,s.path,h)):null}).filter(d=>!!d);return s.common.async?Promise.all(c).then(d=>zt.mergeArray(r,d)):zt.mergeArray(r,c)}get items(){return this._def.items}rest(t){return new vr({...this._def,rest:t})}}vr.create=(a,t)=>{if(!Array.isArray(a))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new vr({items:a,typeName:G.ZodTuple,rest:null,...Ae(t)})};class Jl extends De{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==te.object)return W(s,{code:Z.invalid_type,expected:te.object,received:s.parsedType}),be;const l=[],c=this._def.keyType,d=this._def.valueType;for(const h in s.data)l.push({key:c._parse(new Kn(s,h,s.path,h)),value:d._parse(new Kn(s,s.data[h],s.path,h)),alwaysSet:h in s.data});return s.common.async?zt.mergeObjectAsync(r,l):zt.mergeObjectSync(r,l)}get element(){return this._def.valueType}static create(t,r,s){return r instanceof De?new Jl({keyType:t,valueType:r,typeName:G.ZodRecord,...Ae(s)}):new Jl({keyType:ga.create(),valueType:t,typeName:G.ZodRecord,...Ae(r)})}}class Fv extends De{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==te.map)return W(s,{code:Z.invalid_type,expected:te.map,received:s.parsedType}),be;const l=this._def.keyType,c=this._def.valueType,d=[...s.data.entries()].map(([h,g],m)=>({key:l._parse(new Kn(s,h,s.path,[m,"key"])),value:c._parse(new Kn(s,g,s.path,[m,"value"]))}));if(s.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const g of d){const m=await g.key,y=await g.value;if(m.status==="aborted"||y.status==="aborted")return be;(m.status==="dirty"||y.status==="dirty")&&r.dirty(),h.set(m.value,y.value)}return{status:r.value,value:h}})}else{const h=new Map;for(const g of d){const m=g.key,y=g.value;if(m.status==="aborted"||y.status==="aborted")return be;(m.status==="dirty"||y.status==="dirty")&&r.dirty(),h.set(m.value,y.value)}return{status:r.value,value:h}}}}Fv.create=(a,t,r)=>new Fv({valueType:t,keyType:a,typeName:G.ZodMap,...Ae(r)});class Ps extends De{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==te.set)return W(s,{code:Z.invalid_type,expected:te.set,received:s.parsedType}),be;const l=this._def;l.minSize!==null&&s.data.size<l.minSize.value&&(W(s,{code:Z.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),r.dirty()),l.maxSize!==null&&s.data.size>l.maxSize.value&&(W(s,{code:Z.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),r.dirty());const c=this._def.valueType;function d(g){const m=new Set;for(const y of g){if(y.status==="aborted")return be;y.status==="dirty"&&r.dirty(),m.add(y.value)}return{status:r.value,value:m}}const h=[...s.data.values()].map((g,m)=>c._parse(new Kn(s,g,s.path,m)));return s.common.async?Promise.all(h).then(g=>d(g)):d(h)}min(t,r){return new Ps({...this._def,minSize:{value:t,message:ie.toString(r)}})}max(t,r){return new Ps({...this._def,maxSize:{value:t,message:ie.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Ps.create=(a,t)=>new Ps({valueType:a,minSize:null,maxSize:null,typeName:G.ZodSet,...Ae(t)});class Wl extends De{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Wl.create=(a,t)=>new Wl({getter:a,typeName:G.ZodLazy,...Ae(t)});class eu extends De{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return W(r,{received:r.data,code:Z.invalid_literal,expected:this._def.value}),be}return{status:"valid",value:t.data}}get value(){return this._def.value}}eu.create=(a,t)=>new eu({value:a,typeName:G.ZodLiteral,...Ae(t)});function Fb(a,t){return new _r({values:a,typeName:G.ZodEnum,...Ae(t)})}class _r extends De{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return W(r,{expected:$e.joinValues(s),received:r.parsedType,code:Z.invalid_type}),be}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return W(r,{received:r.data,code:Z.invalid_enum_value,options:s}),be}return xn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return _r.create(t,{...this._def,...r})}exclude(t,r=this._def){return _r.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}_r.create=Fb;class Dh extends De{_parse(t){const r=$e.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==te.string&&s.parsedType!==te.number){const l=$e.objectValues(r);return W(s,{expected:$e.joinValues(l),received:s.parsedType,code:Z.invalid_type}),be}if(this._cache||(this._cache=new Set($e.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const l=$e.objectValues(r);return W(s,{received:s.data,code:Z.invalid_enum_value,options:l}),be}return xn(t.data)}get enum(){return this._def.values}}Dh.create=(a,t)=>new Dh({values:a,typeName:G.ZodNativeEnum,...Ae(t)});class tu extends De{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==te.promise&&r.common.async===!1)return W(r,{code:Z.invalid_type,expected:te.promise,received:r.parsedType}),be;const s=r.parsedType===te.promise?r.data:Promise.resolve(r.data);return xn(s.then(l=>this._def.type.parseAsync(l,{path:r.path,errorMap:r.common.contextualErrorMap})))}}tu.create=(a,t)=>new tu({type:a,typeName:G.ZodPromise,...Ae(t)});class br extends De{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===G.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),l=this._def.effect||null,c={addIssue:d=>{W(s,d),d.fatal?r.abort():r.dirty()},get path(){return s.path}};if(c.addIssue=c.addIssue.bind(c),l.type==="preprocess"){const d=l.transform(s.data,c);if(s.common.async)return Promise.resolve(d).then(async h=>{if(r.value==="aborted")return be;const g=await this._def.schema._parseAsync({data:h,path:s.path,parent:s});return g.status==="aborted"?be:g.status==="dirty"||r.value==="dirty"?$s(g.value):g});{if(r.value==="aborted")return be;const h=this._def.schema._parseSync({data:d,path:s.path,parent:s});return h.status==="aborted"?be:h.status==="dirty"||r.value==="dirty"?$s(h.value):h}}if(l.type==="refinement"){const d=h=>{const g=l.refinement(h,c);if(s.common.async)return Promise.resolve(g);if(g instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(s.common.async===!1){const h=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return h.status==="aborted"?be:(h.status==="dirty"&&r.dirty(),d(h.value),{status:r.value,value:h.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(h=>h.status==="aborted"?be:(h.status==="dirty"&&r.dirty(),d(h.value).then(()=>({status:r.value,value:h.value}))))}if(l.type==="transform")if(s.common.async===!1){const d=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!yi(d))return be;const h=l.transform(d.value,c);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:h}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(d=>yi(d)?Promise.resolve(l.transform(d.value,c)).then(h=>({status:r.value,value:h})):be);$e.assertNever(l)}}br.create=(a,t,r)=>new br({schema:a,typeName:G.ZodEffects,effect:t,...Ae(r)});br.createWithPreprocess=(a,t,r)=>new br({schema:t,effect:{type:"preprocess",transform:a},typeName:G.ZodEffects,...Ae(r)});class ya extends De{_parse(t){return this._getType(t)===te.undefined?xn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ya.create=(a,t)=>new ya({innerType:a,typeName:G.ZodOptional,...Ae(t)});class Sr extends De{_parse(t){return this._getType(t)===te.null?xn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Sr.create=(a,t)=>new Sr({innerType:a,typeName:G.ZodNullable,...Ae(t)});class nu extends De{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===te.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}nu.create=(a,t)=>new nu({innerType:a,typeName:G.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ae(t)});class au extends De{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},l=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Xl(l)?l.then(c=>({status:"valid",value:c.status==="valid"?c.value:this._def.catchValue({get error(){return new hn(s.common.issues)},input:s.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new hn(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}au.create=(a,t)=>new au({innerType:a,typeName:G.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ae(t)});class Zv extends De{_parse(t){if(this._getType(t)!==te.nan){const s=this._getOrReturnCtx(t);return W(s,{code:Z.invalid_type,expected:te.nan,received:s.parsedType}),be}return{status:"valid",value:t.data}}}Zv.create=a=>new Zv({typeName:G.ZodNaN,...Ae(a)});class Zb extends De{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class rp extends De{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const c=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return c.status==="aborted"?be:c.status==="dirty"?(r.dirty(),$s(c.value)):this._def.out._parseAsync({data:c.value,path:s.path,parent:s})})();{const l=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?be:l.status==="dirty"?(r.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:s.path,parent:s})}}static create(t,r){return new rp({in:t,out:r,typeName:G.ZodPipeline})}}class ru extends De{_parse(t){const r=this._def.innerType._parse(t),s=l=>(yi(l)&&(l.value=Object.freeze(l.value)),l);return Xl(r)?r.then(l=>s(l)):s(r)}unwrap(){return this._def.innerType}}ru.create=(a,t)=>new ru({innerType:a,typeName:G.ZodReadonly,...Ae(t)});var G;(function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"})(G||(G={}));const _=ga.create,Ue=vi.create,Ie=xh.create,js=Nh.create,re=Mh.create;Ka.create;const X=Yn.create,q=gt.create,va=Kl.create,Qt=ap.create;Ql.create;vr.create;const et=Jl.create,un=Wl.create,ce=eu.create,Mt=_r.create;tu.create;const _l=ya.create;Sr.create;const uA=Symbol("Let zodToJsonSchema decide on which parser to use"),Gv={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},cA=a=>typeof a=="string"?{...Gv,name:a}:{...Gv,...a},fA=a=>{const t=cA(a),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([s,l])=>[l._def,{def:l._def,path:[...t.basePath,t.definitionPath,s],jsonSchema:void 0}]))}};function Gb(a,t,r,s){s?.errorMessages&&r&&(a.errorMessage={...a.errorMessage,[t]:r})}function Ze(a,t,r,s,l){a[t]=r,Gb(a,t,s,l)}const Vb=(a,t)=>{let r=0;for(;r<a.length&&r<t.length&&a[r]===t[r];r++);return[(a.length-r).toString(),...t.slice(r)].join("/")};function Kt(a){if(a.target!=="openAi")return{};const t=[...a.basePath,a.definitionPath,a.openAiAnyTypeName];return a.flags.hasReferencedOpenAiAnyType=!0,{$ref:a.$refStrategy==="relative"?Vb(t,a.currentPath):t.join("/")}}function dA(a,t){const r={type:"array"};return a.type?._def&&a.type?._def?.typeName!==G.ZodAny&&(r.items=He(a.type._def,{...t,currentPath:[...t.currentPath,"items"]})),a.minLength&&Ze(r,"minItems",a.minLength.value,a.minLength.message,t),a.maxLength&&Ze(r,"maxItems",a.maxLength.value,a.maxLength.message,t),a.exactLength&&(Ze(r,"minItems",a.exactLength.value,a.exactLength.message,t),Ze(r,"maxItems",a.exactLength.value,a.exactLength.message,t)),r}function hA(a,t){const r={type:"integer",format:"int64"};if(!a.checks)return r;for(const s of a.checks)switch(s.kind){case"min":t.target==="jsonSchema7"?s.inclusive?Ze(r,"minimum",s.value,s.message,t):Ze(r,"exclusiveMinimum",s.value,s.message,t):(s.inclusive||(r.exclusiveMinimum=!0),Ze(r,"minimum",s.value,s.message,t));break;case"max":t.target==="jsonSchema7"?s.inclusive?Ze(r,"maximum",s.value,s.message,t):Ze(r,"exclusiveMaximum",s.value,s.message,t):(s.inclusive||(r.exclusiveMaximum=!0),Ze(r,"maximum",s.value,s.message,t));break;case"multipleOf":Ze(r,"multipleOf",s.value,s.message,t);break}return r}function pA(){return{type:"boolean"}}function Xb(a,t){return He(a.type._def,t)}const mA=(a,t)=>He(a.innerType._def,t);function Yb(a,t,r){const s=r??t.dateStrategy;if(Array.isArray(s))return{anyOf:s.map((l,c)=>Yb(a,t,l))};switch(s){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return gA(a,t)}}const gA=(a,t)=>{const r={type:"integer",format:"unix-time"};if(t.target==="openApi3")return r;for(const s of a.checks)switch(s.kind){case"min":Ze(r,"minimum",s.value,s.message,t);break;case"max":Ze(r,"maximum",s.value,s.message,t);break}return r};function yA(a,t){return{...He(a.innerType._def,t),default:a.defaultValue()}}function vA(a,t){return t.effectStrategy==="input"?He(a.schema._def,t):Kt(t)}function _A(a){return{type:"string",enum:Array.from(a.values)}}const bA=a=>"type"in a&&a.type==="string"?!1:"allOf"in a;function SA(a,t){const r=[He(a.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),He(a.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(c=>!!c);let s=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const l=[];return r.forEach(c=>{if(bA(c))l.push(...c.allOf),c.unevaluatedProperties===void 0&&(s=void 0);else{let d=c;if("additionalProperties"in c&&c.additionalProperties===!1){const{additionalProperties:h,...g}=c;d=g}else s=void 0;l.push(d)}}),l.length?{allOf:l,...s}:void 0}function EA(a,t){const r=typeof a.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(a.value)?"array":"object"}:t.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[a.value]}:{type:r==="bigint"?"integer":r,const:a.value}}let id;const Mn={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(id===void 0&&(id=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),id),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Kb(a,t){const r={type:"string"};if(a.checks)for(const s of a.checks)switch(s.kind){case"min":Ze(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,s.value):s.value,s.message,t);break;case"max":Ze(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,s.value):s.value,s.message,t);break;case"email":switch(t.emailStrategy){case"format:email":kn(r,"email",s.message,t);break;case"format:idn-email":kn(r,"idn-email",s.message,t);break;case"pattern:zod":jt(r,Mn.email,s.message,t);break}break;case"url":kn(r,"uri",s.message,t);break;case"uuid":kn(r,"uuid",s.message,t);break;case"regex":jt(r,s.regex,s.message,t);break;case"cuid":jt(r,Mn.cuid,s.message,t);break;case"cuid2":jt(r,Mn.cuid2,s.message,t);break;case"startsWith":jt(r,RegExp(`^${sd(s.value,t)}`),s.message,t);break;case"endsWith":jt(r,RegExp(`${sd(s.value,t)}$`),s.message,t);break;case"datetime":kn(r,"date-time",s.message,t);break;case"date":kn(r,"date",s.message,t);break;case"time":kn(r,"time",s.message,t);break;case"duration":kn(r,"duration",s.message,t);break;case"length":Ze(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,s.value):s.value,s.message,t),Ze(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,s.value):s.value,s.message,t);break;case"includes":{jt(r,RegExp(sd(s.value,t)),s.message,t);break}case"ip":{s.version!=="v6"&&kn(r,"ipv4",s.message,t),s.version!=="v4"&&kn(r,"ipv6",s.message,t);break}case"base64url":jt(r,Mn.base64url,s.message,t);break;case"jwt":jt(r,Mn.jwt,s.message,t);break;case"cidr":{s.version!=="v6"&&jt(r,Mn.ipv4Cidr,s.message,t),s.version!=="v4"&&jt(r,Mn.ipv6Cidr,s.message,t);break}case"emoji":jt(r,Mn.emoji(),s.message,t);break;case"ulid":{jt(r,Mn.ulid,s.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{kn(r,"binary",s.message,t);break}case"contentEncoding:base64":{Ze(r,"contentEncoding","base64",s.message,t);break}case"pattern:zod":{jt(r,Mn.base64,s.message,t);break}}break}case"nanoid":jt(r,Mn.nanoid,s.message,t)}return r}function sd(a,t){return t.patternStrategy==="escape"?wA(a):a}const TA=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function wA(a){let t="";for(let r=0;r<a.length;r++)TA.has(a[r])||(t+="\\"),t+=a[r];return t}function kn(a,t,r,s){a.format||a.anyOf?.some(l=>l.format)?(a.anyOf||(a.anyOf=[]),a.format&&(a.anyOf.push({format:a.format,...a.errorMessage&&s.errorMessages&&{errorMessage:{format:a.errorMessage.format}}}),delete a.format,a.errorMessage&&(delete a.errorMessage.format,Object.keys(a.errorMessage).length===0&&delete a.errorMessage)),a.anyOf.push({format:t,...r&&s.errorMessages&&{errorMessage:{format:r}}})):Ze(a,"format",t,r,s)}function jt(a,t,r,s){a.pattern||a.allOf?.some(l=>l.pattern)?(a.allOf||(a.allOf=[]),a.pattern&&(a.allOf.push({pattern:a.pattern,...a.errorMessage&&s.errorMessages&&{errorMessage:{pattern:a.errorMessage.pattern}}}),delete a.pattern,a.errorMessage&&(delete a.errorMessage.pattern,Object.keys(a.errorMessage).length===0&&delete a.errorMessage)),a.allOf.push({pattern:Vv(t,s),...r&&s.errorMessages&&{errorMessage:{pattern:r}}})):Ze(a,"pattern",Vv(t,s),r,s)}function Vv(a,t){if(!t.applyRegexFlags||!a.flags)return a.source;const r={i:a.flags.includes("i"),m:a.flags.includes("m"),s:a.flags.includes("s")},s=r.i?a.source.toLowerCase():a.source;let l="",c=!1,d=!1,h=!1;for(let g=0;g<s.length;g++){if(c){l+=s[g],c=!1;continue}if(r.i){if(d){if(s[g].match(/[a-z]/)){h?(l+=s[g],l+=`${s[g-2]}-${s[g]}`.toUpperCase(),h=!1):s[g+1]==="-"&&s[g+2]?.match(/[a-z]/)?(l+=s[g],h=!0):l+=`${s[g]}${s[g].toUpperCase()}`;continue}}else if(s[g].match(/[a-z]/)){l+=`[${s[g]}${s[g].toUpperCase()}]`;continue}}if(r.m){if(s[g]==="^"){l+=`(^|(?<=[\r
]))`;continue}else if(s[g]==="$"){l+=`($|(?=[\r
]))`;continue}}if(r.s&&s[g]==="."){l+=d?`${s[g]}\r
`:`[${s[g]}\r
]`;continue}l+=s[g],s[g]==="\\"?c=!0:d&&s[g]==="]"?d=!1:!d&&s[g]==="["&&(d=!0)}try{new RegExp(l)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),a.source}return l}function Qb(a,t){if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&a.keyType?._def.typeName===G.ZodEnum)return{type:"object",required:a.keyType._def.values,properties:a.keyType._def.values.reduce((s,l)=>({...s,[l]:He(a.valueType._def,{...t,currentPath:[...t.currentPath,"properties",l]})??Kt(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};const r={type:"object",additionalProperties:He(a.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return r;if(a.keyType?._def.typeName===G.ZodString&&a.keyType._def.checks?.length){const{type:s,...l}=Kb(a.keyType._def,t);return{...r,propertyNames:l}}else{if(a.keyType?._def.typeName===G.ZodEnum)return{...r,propertyNames:{enum:a.keyType._def.values}};if(a.keyType?._def.typeName===G.ZodBranded&&a.keyType._def.type._def.typeName===G.ZodString&&a.keyType._def.type._def.checks?.length){const{type:s,...l}=Xb(a.keyType._def,t);return{...r,propertyNames:l}}}return r}function AA(a,t){if(t.mapStrategy==="record")return Qb(a,t);const r=He(a.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Kt(t),s=He(a.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Kt(t);return{type:"array",maxItems:125,items:{type:"array",items:[r,s],minItems:2,maxItems:2}}}function RA(a){const t=a.values,s=Object.keys(a.values).filter(c=>typeof t[t[c]]!="number").map(c=>t[c]),l=Array.from(new Set(s.map(c=>typeof c)));return{type:l.length===1?l[0]==="string"?"string":"number":["string","number"],enum:s}}function xA(a){return a.target==="openAi"?void 0:{not:Kt({...a,currentPath:[...a.currentPath,"not"]})}}function OA(a){return a.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const iu={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function CA(a,t){if(t.target==="openApi3")return Xv(a,t);const r=a.options instanceof Map?Array.from(a.options.values()):a.options;if(r.every(s=>s._def.typeName in iu&&(!s._def.checks||!s._def.checks.length))){const s=r.reduce((l,c)=>{const d=iu[c._def.typeName];return d&&!l.includes(d)?[...l,d]:l},[]);return{type:s.length>1?s:s[0]}}else if(r.every(s=>s._def.typeName==="ZodLiteral"&&!s.description)){const s=r.reduce((l,c)=>{const d=typeof c._def.value;switch(d){case"string":case"number":case"boolean":return[...l,d];case"bigint":return[...l,"integer"];case"object":if(c._def.value===null)return[...l,"null"];case"symbol":case"undefined":case"function":default:return l}},[]);if(s.length===r.length){const l=s.filter((c,d,h)=>h.indexOf(c)===d);return{type:l.length>1?l:l[0],enum:r.reduce((c,d)=>c.includes(d._def.value)?c:[...c,d._def.value],[])}}}else if(r.every(s=>s._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((s,l)=>[...s,...l._def.values.filter(c=>!s.includes(c))],[])};return Xv(a,t)}const Xv=(a,t)=>{const r=(a.options instanceof Map?Array.from(a.options.values()):a.options).map((s,l)=>He(s._def,{...t,currentPath:[...t.currentPath,"anyOf",`${l}`]})).filter(s=>!!s&&(!t.strictUnions||typeof s=="object"&&Object.keys(s).length>0));return r.length?{anyOf:r}:void 0};function NA(a,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(a.innerType._def.typeName)&&(!a.innerType._def.checks||!a.innerType._def.checks.length))return t.target==="openApi3"?{type:iu[a.innerType._def.typeName],nullable:!0}:{type:[iu[a.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const s=He(a.innerType._def,{...t,currentPath:[...t.currentPath]});return s&&"$ref"in s?{allOf:[s],nullable:!0}:s&&{...s,nullable:!0}}const r=He(a.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function MA(a,t){const r={type:"number"};if(!a.checks)return r;for(const s of a.checks)switch(s.kind){case"int":r.type="integer",Gb(r,"type",s.message,t);break;case"min":t.target==="jsonSchema7"?s.inclusive?Ze(r,"minimum",s.value,s.message,t):Ze(r,"exclusiveMinimum",s.value,s.message,t):(s.inclusive||(r.exclusiveMinimum=!0),Ze(r,"minimum",s.value,s.message,t));break;case"max":t.target==="jsonSchema7"?s.inclusive?Ze(r,"maximum",s.value,s.message,t):Ze(r,"exclusiveMaximum",s.value,s.message,t):(s.inclusive||(r.exclusiveMaximum=!0),Ze(r,"maximum",s.value,s.message,t));break;case"multipleOf":Ze(r,"multipleOf",s.value,s.message,t);break}return r}function kA(a,t){const r=t.target==="openAi",s={type:"object",properties:{}},l=[],c=a.shape();for(const h in c){let g=c[h];if(g===void 0||g._def===void 0)continue;let m=UA(g);m&&r&&(g._def.typeName==="ZodOptional"&&(g=g._def.innerType),g.isNullable()||(g=g.nullable()),m=!1);const y=He(g._def,{...t,currentPath:[...t.currentPath,"properties",h],propertyPath:[...t.currentPath,"properties",h]});y!==void 0&&(s.properties[h]=y,m||l.push(h))}l.length&&(s.required=l);const d=DA(a,t);return d!==void 0&&(s.additionalProperties=d),s}function DA(a,t){if(a.catchall._def.typeName!=="ZodNever")return He(a.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(a.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function UA(a){try{return a.isOptional()}catch{return!0}}const LA=(a,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return He(a.innerType._def,t);const r=He(a.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:Kt(t)},r]}:Kt(t)},IA=(a,t)=>{if(t.pipeStrategy==="input")return He(a.in._def,t);if(t.pipeStrategy==="output")return He(a.out._def,t);const r=He(a.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),s=He(a.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,s].filter(l=>l!==void 0)}};function $A(a,t){return He(a.type._def,t)}function jA(a,t){const s={type:"array",uniqueItems:!0,items:He(a.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return a.minSize&&Ze(s,"minItems",a.minSize.value,a.minSize.message,t),a.maxSize&&Ze(s,"maxItems",a.maxSize.value,a.maxSize.message,t),s}function qA(a,t){return a.rest?{type:"array",minItems:a.items.length,items:a.items.map((r,s)=>He(r._def,{...t,currentPath:[...t.currentPath,"items",`${s}`]})).reduce((r,s)=>s===void 0?r:[...r,s],[]),additionalItems:He(a.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:a.items.length,maxItems:a.items.length,items:a.items.map((r,s)=>He(r._def,{...t,currentPath:[...t.currentPath,"items",`${s}`]})).reduce((r,s)=>s===void 0?r:[...r,s],[])}}function zA(a){return{not:Kt(a)}}function BA(a){return Kt(a)}const HA=(a,t)=>He(a.innerType._def,t),PA=(a,t,r)=>{switch(t){case G.ZodString:return Kb(a,r);case G.ZodNumber:return MA(a,r);case G.ZodObject:return kA(a,r);case G.ZodBigInt:return hA(a,r);case G.ZodBoolean:return pA();case G.ZodDate:return Yb(a,r);case G.ZodUndefined:return zA(r);case G.ZodNull:return OA(r);case G.ZodArray:return dA(a,r);case G.ZodUnion:case G.ZodDiscriminatedUnion:return CA(a,r);case G.ZodIntersection:return SA(a,r);case G.ZodTuple:return qA(a,r);case G.ZodRecord:return Qb(a,r);case G.ZodLiteral:return EA(a,r);case G.ZodEnum:return _A(a);case G.ZodNativeEnum:return RA(a);case G.ZodNullable:return NA(a,r);case G.ZodOptional:return LA(a,r);case G.ZodMap:return AA(a,r);case G.ZodSet:return jA(a,r);case G.ZodLazy:return()=>a.getter()._def;case G.ZodPromise:return $A(a,r);case G.ZodNaN:case G.ZodNever:return xA(r);case G.ZodEffects:return vA(a,r);case G.ZodAny:return Kt(r);case G.ZodUnknown:return BA(r);case G.ZodDefault:return yA(a,r);case G.ZodBranded:return Xb(a,r);case G.ZodReadonly:return HA(a,r);case G.ZodCatch:return mA(a,r);case G.ZodPipeline:return IA(a,r);case G.ZodFunction:case G.ZodVoid:case G.ZodSymbol:return;default:return(s=>{})()}};function He(a,t,r=!1){const s=t.seen.get(a);if(t.override){const h=t.override?.(a,t,s,r);if(h!==uA)return h}if(s&&!r){const h=FA(s,t);if(h!==void 0)return h}const l={def:a,path:t.currentPath,jsonSchema:void 0};t.seen.set(a,l);const c=PA(a,a.typeName,t),d=typeof c=="function"?He(c(),t):c;if(d&&ZA(a,t,d),t.postProcess){const h=t.postProcess(d,a,t);return l.jsonSchema=d,h}return l.jsonSchema=d,d}const FA=(a,t)=>{switch(t.$refStrategy){case"root":return{$ref:a.path.join("/")};case"relative":return{$ref:Vb(t.currentPath,a.path)};case"none":case"seen":return a.path.length<t.currentPath.length&&a.path.every((r,s)=>t.currentPath[s]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Kt(t)):t.$refStrategy==="seen"?Kt(t):void 0}},ZA=(a,t,r)=>(a.description&&(r.description=a.description,t.markdownDescription&&(r.markdownDescription=a.description)),r),GA=(a,t)=>{const r=fA(t);let s=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((g,[m,y])=>({...g,[m]:He(y._def,{...r,currentPath:[...r.basePath,r.definitionPath,m]},!0)??Kt(r)}),{}):void 0;const l=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,c=He(a._def,l===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,l]},!1)??Kt(r),d=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;d!==void 0&&(c.title=d),r.flags.hasReferencedOpenAiAnyType&&(s||(s={}),s[r.openAiAnyTypeName]||(s[r.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:r.$refStrategy==="relative"?"1":[...r.basePath,r.definitionPath,r.openAiAnyTypeName].join("/")}}));const h=l===void 0?s?{...c,[r.definitionPath]:s}:c:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,l].join("/"),[r.definitionPath]:{...s,[l]:c}};return r.target==="jsonSchema7"?h.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(h.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in h||"oneOf"in h||"allOf"in h||"type"in h&&Array.isArray(h.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),h},od=10,Yv=(a=0)=>t=>`\x1B[${t+a}m`,Kv=(a=0)=>t=>`\x1B[${38+a};5;${t}m`,Qv=(a=0)=>(t,r,s)=>`\x1B[${38+a};2;${t};${r};${s}m`,rt={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(rt.modifier);const VA=Object.keys(rt.color),XA=Object.keys(rt.bgColor);[...VA,...XA];function YA(){const a=new Map;for(const[t,r]of Object.entries(rt)){for(const[s,l]of Object.entries(r))rt[s]={open:`\x1B[${l[0]}m`,close:`\x1B[${l[1]}m`},r[s]=rt[s],a.set(l[0],l[1]);Object.defineProperty(rt,t,{value:r,enumerable:!1})}return Object.defineProperty(rt,"codes",{value:a,enumerable:!1}),rt.color.close="\x1B[39m",rt.bgColor.close="\x1B[49m",rt.color.ansi=Yv(),rt.color.ansi256=Kv(),rt.color.ansi16m=Qv(),rt.bgColor.ansi=Yv(od),rt.bgColor.ansi256=Kv(od),rt.bgColor.ansi16m=Qv(od),Object.defineProperties(rt,{rgbToAnsi256:{value(t,r,s){return t===r&&r===s?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(s/255*5)},enumerable:!1},hexToRgb:{value(t){const r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[s]=r;s.length===3&&(s=[...s].map(c=>c+c).join(""));const l=Number.parseInt(s,16);return[l>>16&255,l>>8&255,l&255]},enumerable:!1},hexToAnsi256:{value:t=>rt.rgbToAnsi256(...rt.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value(t){if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,s,l;if(t>=232)r=((t-232)*10+8)/255,s=r,l=r;else{t-=16;const h=t%36;r=Math.floor(t/36)/5,s=Math.floor(h/6)/5,l=h%6/5}const c=Math.max(r,s,l)*2;if(c===0)return 30;let d=30+(Math.round(l)<<2|Math.round(s)<<1|Math.round(r));return c===2&&(d+=60),d},enumerable:!1},rgbToAnsi:{value:(t,r,s)=>rt.ansi256ToAnsi(rt.rgbToAnsi256(t,r,s)),enumerable:!1},hexToAnsi:{value:t=>rt.ansi256ToAnsi(rt.hexToAnsi256(t)),enumerable:!1}}),rt}const Vn=YA(),Jv=(()=>{if(!("navigator"in globalThis))return 0;if(globalThis.navigator.userAgentData){const a=navigator.userAgentData.brands.find(({brand:t})=>t==="Chromium");if(a&&a.version>93)return 3}return/\b(Chrome|Chromium)\//.test(globalThis.navigator.userAgent)?1:0})(),Wv=Jv!==0&&{level:Jv},KA={stdout:Wv,stderr:Wv};function QA(a,t,r){let s=a.indexOf(t);if(s===-1)return a;const l=t.length;let c=0,d="";do d+=a.slice(c,s)+t+r,c=s+l,s=a.indexOf(t,c);while(s!==-1);return d+=a.slice(c),d}function JA(a,t,r,s){let l=0,c="";do{const d=a[s-1]==="\r";c+=a.slice(l,d?s-1:s)+t+(d?`\r
`:`
`)+r,l=s+1,s=a.indexOf(`
`,l)}while(s!==-1);return c+=a.slice(l),c}const{stdout:e_,stderr:t_}=KA,Uh=Symbol("GENERATOR"),_i=Symbol("STYLER"),Fs=Symbol("IS_EMPTY"),n_=["ansi","ansi","ansi256","ansi16m"],bi=Object.create(null),WA=(a,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=e_?e_.level:0;a.level=t.level===void 0?r:t.level},eR=a=>{const t=(...r)=>r.join(" ");return WA(t,a),Object.setPrototypeOf(t,Ys.prototype),t};function Ys(a){return eR(a)}Object.setPrototypeOf(Ys.prototype,Function.prototype);for(const[a,t]of Object.entries(Vn))bi[a]={get(){const r=su(this,Ih(t.open,t.close,this[_i]),this[Fs]);return Object.defineProperty(this,a,{value:r}),r}};bi.visible={get(){const a=su(this,this[_i],!0);return Object.defineProperty(this,"visible",{value:a}),a}};const Lh=(a,t,r,...s)=>a==="rgb"?t==="ansi16m"?Vn[r].ansi16m(...s):t==="ansi256"?Vn[r].ansi256(Vn.rgbToAnsi256(...s)):Vn[r].ansi(Vn.rgbToAnsi(...s)):a==="hex"?Lh("rgb",t,r,...Vn.hexToRgb(...s)):Vn[r][a](...s),tR=["rgb","hex","ansi256"];for(const a of tR){bi[a]={get(){const{level:r}=this;return function(...s){const l=Ih(Lh(a,n_[r],"color",...s),Vn.color.close,this[_i]);return su(this,l,this[Fs])}}};const t="bg"+a[0].toUpperCase()+a.slice(1);bi[t]={get(){const{level:r}=this;return function(...s){const l=Ih(Lh(a,n_[r],"bgColor",...s),Vn.bgColor.close,this[_i]);return su(this,l,this[Fs])}}}}const nR=Object.defineProperties(()=>{},{...bi,level:{enumerable:!0,get(){return this[Uh].level},set(a){this[Uh].level=a}}}),Ih=(a,t,r)=>{let s,l;return r===void 0?(s=a,l=t):(s=r.openAll+a,l=t+r.closeAll),{open:a,close:t,openAll:s,closeAll:l,parent:r}},su=(a,t,r)=>{const s=(...l)=>aR(s,l.length===1?""+l[0]:l.join(" "));return Object.setPrototypeOf(s,nR),s[Uh]=a,s[_i]=t,s[Fs]=r,s},aR=(a,t)=>{if(a.level<=0||!t)return a[Fs]?"":t;let r=a[_i];if(r===void 0)return t;const{openAll:s,closeAll:l}=r;if(t.includes("\x1B"))for(;r!==void 0;)t=QA(t,r.close,r.open),r=r.parent;const c=t.indexOf(`
`);return c!==-1&&(t=JA(t,l,s,c)),s+t+l};Object.defineProperties(Ys.prototype,bi);const ke=Ys();Ys({level:t_?t_.level:0});const Nt=[];for(let a=0;a<256;++a)Nt.push((a+256).toString(16).slice(1));function rR(a,t=0){return(Nt[a[t+0]]+Nt[a[t+1]]+Nt[a[t+2]]+Nt[a[t+3]]+"-"+Nt[a[t+4]]+Nt[a[t+5]]+"-"+Nt[a[t+6]]+Nt[a[t+7]]+"-"+Nt[a[t+8]]+Nt[a[t+9]]+"-"+Nt[a[t+10]]+Nt[a[t+11]]+Nt[a[t+12]]+Nt[a[t+13]]+Nt[a[t+14]]+Nt[a[t+15]]).toLowerCase()}let ld;const iR=new Uint8Array(16);function sR(){if(!ld){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ld=crypto.getRandomValues.bind(crypto)}return ld(iR)}const oR=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),a_={randomUUID:oR};function lR(a,t,r){if(a_.randomUUID&&!a)return a_.randomUUID();a=a||{};const s=a.random??a.rng?.()??sR();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,rR(s)}const Jb={};let r_=!1,zl;function uR(a,t={auto:!1}){if(r_)throw new Error(`you must \`import 'openai/shims/${a.kind}'\` before importing anything else from openai`);if(zl)throw new Error(`can't \`import 'openai/shims/${a.kind}'\` after \`import 'openai/shims/${zl}'\``);r_=t.auto,zl=a.kind}class cR{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function fR({manuallyImported:a}={}){const t=a?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let r,s,l,c;try{r=fetch,s=Request,l=Response,c=Headers}catch(d){throw new Error(`this environment is missing the following Web Fetch API type: ${d.message}. ${t}`)}return{kind:"web",fetch:r,Request:s,Response:l,Headers:c,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(d,h)=>({...h,body:new cR(d)}),getDefaultAgent:d=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:d=>!1}}const Wb=()=>{zl||uR(fR(),{auto:!0})};Wb();class dR extends Error{}let Qn=class $h extends dR{constructor(t,r,s,l){super(`${$h.makeMessage(t,r,s)}`),this.status=t,this.headers=l,this.request_id=l?.["x-request-id"],this.error=r;const c=r;this.code=c?.code,this.param=c?.param,this.type=c?.type}static makeMessage(t,r,s){const l=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):s;return t&&l?`${t} ${l}`:t?`${t} status code (no body)`:l||"(no status code or body)"}static generate(t,r,s,l){if(!t||!l)return new hR({message:s,cause:ER(r)});const c=r?.error;return t===400?new pR(t,c,s,l):t===401?new mR(t,c,s,l):t===403?new gR(t,c,s,l):t===404?new yR(t,c,s,l):t===409?new vR(t,c,s,l):t===422?new _R(t,c,s,l):t===429?new bR(t,c,s,l):t>=500?new SR(t,c,s,l):new $h(t,c,s,l)}},hR=class extends Qn{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}},pR=class extends Qn{},mR=class extends Qn{},gR=class extends Qn{},yR=class extends Qn{},vR=class extends Qn{},_R=class extends Qn{},bR=class extends Qn{},SR=class extends Qn{};Wb();const ER=a=>{if(a instanceof Error)return a;if(typeof a=="object"&&a!==null)try{return new Error(JSON.stringify(a))}catch{}return new Error(a)};var bl={exports:{}},ud,i_;function vu(){if(i_)return ud;i_=1;const a="2.0.0",t=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,s=16,l=t-6;return ud={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:l,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:a,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},ud}var cd,s_;function _u(){if(s_)return cd;s_=1;var a={};return cd=typeof process=="object"&&a&&a.NODE_DEBUG&&/\bsemver\b/i.test(a.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{},cd}var o_;function Ks(){return o_||(o_=1,function(a,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:s,MAX_LENGTH:l}=vu(),c=_u();t=a.exports={};const d=t.re=[],h=t.safeRe=[],g=t.src=[],m=t.safeSrc=[],y=t.t={};let S=0;const A="[a-zA-Z0-9-]",w=[["\\s",1],["\\d",l],[A,s]],z=K=>{for(const[ae,J]of w)K=K.split(`${ae}*`).join(`${ae}{0,${J}}`).split(`${ae}+`).join(`${ae}{1,${J}}`);return K},D=(K,ae,J)=>{const se=z(ae),Te=S++;c(K,Te,ae),y[K]=Te,g[Te]=ae,m[Te]=se,d[Te]=new RegExp(ae,J?"g":void 0),h[Te]=new RegExp(se,J?"g":void 0)};D("NUMERICIDENTIFIER","0|[1-9]\\d*"),D("NUMERICIDENTIFIERLOOSE","\\d+"),D("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${A}*`),D("MAINVERSION",`(${g[y.NUMERICIDENTIFIER]})\\.(${g[y.NUMERICIDENTIFIER]})\\.(${g[y.NUMERICIDENTIFIER]})`),D("MAINVERSIONLOOSE",`(${g[y.NUMERICIDENTIFIERLOOSE]})\\.(${g[y.NUMERICIDENTIFIERLOOSE]})\\.(${g[y.NUMERICIDENTIFIERLOOSE]})`),D("PRERELEASEIDENTIFIER",`(?:${g[y.NONNUMERICIDENTIFIER]}|${g[y.NUMERICIDENTIFIER]})`),D("PRERELEASEIDENTIFIERLOOSE",`(?:${g[y.NONNUMERICIDENTIFIER]}|${g[y.NUMERICIDENTIFIERLOOSE]})`),D("PRERELEASE",`(?:-(${g[y.PRERELEASEIDENTIFIER]}(?:\\.${g[y.PRERELEASEIDENTIFIER]})*))`),D("PRERELEASELOOSE",`(?:-?(${g[y.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${g[y.PRERELEASEIDENTIFIERLOOSE]})*))`),D("BUILDIDENTIFIER",`${A}+`),D("BUILD",`(?:\\+(${g[y.BUILDIDENTIFIER]}(?:\\.${g[y.BUILDIDENTIFIER]})*))`),D("FULLPLAIN",`v?${g[y.MAINVERSION]}${g[y.PRERELEASE]}?${g[y.BUILD]}?`),D("FULL",`^${g[y.FULLPLAIN]}$`),D("LOOSEPLAIN",`[v=\\s]*${g[y.MAINVERSIONLOOSE]}${g[y.PRERELEASELOOSE]}?${g[y.BUILD]}?`),D("LOOSE",`^${g[y.LOOSEPLAIN]}$`),D("GTLT","((?:<|>)?=?)"),D("XRANGEIDENTIFIERLOOSE",`${g[y.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),D("XRANGEIDENTIFIER",`${g[y.NUMERICIDENTIFIER]}|x|X|\\*`),D("XRANGEPLAIN",`[v=\\s]*(${g[y.XRANGEIDENTIFIER]})(?:\\.(${g[y.XRANGEIDENTIFIER]})(?:\\.(${g[y.XRANGEIDENTIFIER]})(?:${g[y.PRERELEASE]})?${g[y.BUILD]}?)?)?`),D("XRANGEPLAINLOOSE",`[v=\\s]*(${g[y.XRANGEIDENTIFIERLOOSE]})(?:\\.(${g[y.XRANGEIDENTIFIERLOOSE]})(?:\\.(${g[y.XRANGEIDENTIFIERLOOSE]})(?:${g[y.PRERELEASELOOSE]})?${g[y.BUILD]}?)?)?`),D("XRANGE",`^${g[y.GTLT]}\\s*${g[y.XRANGEPLAIN]}$`),D("XRANGELOOSE",`^${g[y.GTLT]}\\s*${g[y.XRANGEPLAINLOOSE]}$`),D("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),D("COERCE",`${g[y.COERCEPLAIN]}(?:$|[^\\d])`),D("COERCEFULL",g[y.COERCEPLAIN]+`(?:${g[y.PRERELEASE]})?(?:${g[y.BUILD]})?(?:$|[^\\d])`),D("COERCERTL",g[y.COERCE],!0),D("COERCERTLFULL",g[y.COERCEFULL],!0),D("LONETILDE","(?:~>?)"),D("TILDETRIM",`(\\s*)${g[y.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",D("TILDE",`^${g[y.LONETILDE]}${g[y.XRANGEPLAIN]}$`),D("TILDELOOSE",`^${g[y.LONETILDE]}${g[y.XRANGEPLAINLOOSE]}$`),D("LONECARET","(?:\\^)"),D("CARETTRIM",`(\\s*)${g[y.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",D("CARET",`^${g[y.LONECARET]}${g[y.XRANGEPLAIN]}$`),D("CARETLOOSE",`^${g[y.LONECARET]}${g[y.XRANGEPLAINLOOSE]}$`),D("COMPARATORLOOSE",`^${g[y.GTLT]}\\s*(${g[y.LOOSEPLAIN]})$|^$`),D("COMPARATOR",`^${g[y.GTLT]}\\s*(${g[y.FULLPLAIN]})$|^$`),D("COMPARATORTRIM",`(\\s*)${g[y.GTLT]}\\s*(${g[y.LOOSEPLAIN]}|${g[y.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",D("HYPHENRANGE",`^\\s*(${g[y.XRANGEPLAIN]})\\s+-\\s+(${g[y.XRANGEPLAIN]})\\s*$`),D("HYPHENRANGELOOSE",`^\\s*(${g[y.XRANGEPLAINLOOSE]})\\s+-\\s+(${g[y.XRANGEPLAINLOOSE]})\\s*$`),D("STAR","(<|>)?=?\\s*\\*"),D("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),D("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(bl,bl.exports)),bl.exports}var fd,l_;function ip(){if(l_)return fd;l_=1;const a=Object.freeze({loose:!0}),t=Object.freeze({});return fd=s=>s?typeof s!="object"?a:s:t,fd}var dd,u_;function eS(){if(u_)return dd;u_=1;const a=/^[0-9]+$/,t=(s,l)=>{const c=a.test(s),d=a.test(l);return c&&d&&(s=+s,l=+l),s===l?0:c&&!d?-1:d&&!c?1:s<l?-1:1};return dd={compareIdentifiers:t,rcompareIdentifiers:(s,l)=>t(l,s)},dd}var hd,c_;function Bt(){if(c_)return hd;c_=1;const a=_u(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:r}=vu(),{safeRe:s,t:l}=Ks(),c=ip(),{compareIdentifiers:d}=eS();class h{constructor(m,y){if(y=c(y),m instanceof h){if(m.loose===!!y.loose&&m.includePrerelease===!!y.includePrerelease)return m;m=m.version}else if(typeof m!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof m}".`);if(m.length>t)throw new TypeError(`version is longer than ${t} characters`);a("SemVer",m,y),this.options=y,this.loose=!!y.loose,this.includePrerelease=!!y.includePrerelease;const S=m.trim().match(y.loose?s[l.LOOSE]:s[l.FULL]);if(!S)throw new TypeError(`Invalid Version: ${m}`);if(this.raw=m,this.major=+S[1],this.minor=+S[2],this.patch=+S[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");S[4]?this.prerelease=S[4].split(".").map(A=>{if(/^[0-9]+$/.test(A)){const w=+A;if(w>=0&&w<r)return w}return A}):this.prerelease=[],this.build=S[5]?S[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(m){if(a("SemVer.compare",this.version,this.options,m),!(m instanceof h)){if(typeof m=="string"&&m===this.version)return 0;m=new h(m,this.options)}return m.version===this.version?0:this.compareMain(m)||this.comparePre(m)}compareMain(m){return m instanceof h||(m=new h(m,this.options)),d(this.major,m.major)||d(this.minor,m.minor)||d(this.patch,m.patch)}comparePre(m){if(m instanceof h||(m=new h(m,this.options)),this.prerelease.length&&!m.prerelease.length)return-1;if(!this.prerelease.length&&m.prerelease.length)return 1;if(!this.prerelease.length&&!m.prerelease.length)return 0;let y=0;do{const S=this.prerelease[y],A=m.prerelease[y];if(a("prerelease compare",y,S,A),S===void 0&&A===void 0)return 0;if(A===void 0)return 1;if(S===void 0)return-1;if(S===A)continue;return d(S,A)}while(++y)}compareBuild(m){m instanceof h||(m=new h(m,this.options));let y=0;do{const S=this.build[y],A=m.build[y];if(a("build compare",y,S,A),S===void 0&&A===void 0)return 0;if(A===void 0)return 1;if(S===void 0)return-1;if(S===A)continue;return d(S,A)}while(++y)}inc(m,y,S){if(m.startsWith("pre")){if(!y&&S===!1)throw new Error("invalid increment argument: identifier is empty");if(y){const A=`-${y}`.match(this.options.loose?s[l.PRERELEASELOOSE]:s[l.PRERELEASE]);if(!A||A[1]!==y)throw new Error(`invalid identifier: ${y}`)}}switch(m){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",y,S);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",y,S);break;case"prepatch":this.prerelease.length=0,this.inc("patch",y,S),this.inc("pre",y,S);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",y,S),this.inc("pre",y,S);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const A=Number(S)?1:0;if(this.prerelease.length===0)this.prerelease=[A];else{let w=this.prerelease.length;for(;--w>=0;)typeof this.prerelease[w]=="number"&&(this.prerelease[w]++,w=-2);if(w===-1){if(y===this.prerelease.join(".")&&S===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(A)}}if(y){let w=[y,A];S===!1&&(w=[y]),d(this.prerelease[0],y)===0?isNaN(this.prerelease[1])&&(this.prerelease=w):this.prerelease=w}break}default:throw new Error(`invalid increment argument: ${m}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return hd=h,hd}var pd,f_;function Si(){if(f_)return pd;f_=1;const a=Bt();return pd=(r,s,l=!1)=>{if(r instanceof a)return r;try{return new a(r,s)}catch(c){if(!l)return null;throw c}},pd}var md,d_;function TR(){if(d_)return md;d_=1;const a=Si();return md=(r,s)=>{const l=a(r,s);return l?l.version:null},md}var gd,h_;function wR(){if(h_)return gd;h_=1;const a=Si();return gd=(r,s)=>{const l=a(r.trim().replace(/^[=v]+/,""),s);return l?l.version:null},gd}var yd,p_;function AR(){if(p_)return yd;p_=1;const a=Bt();return yd=(r,s,l,c,d)=>{typeof l=="string"&&(d=c,c=l,l=void 0);try{return new a(r instanceof a?r.version:r,l).inc(s,c,d).version}catch{return null}},yd}var vd,m_;function RR(){if(m_)return vd;m_=1;const a=Si();return vd=(r,s)=>{const l=a(r,null,!0),c=a(s,null,!0),d=l.compare(c);if(d===0)return null;const h=d>0,g=h?l:c,m=h?c:l,y=!!g.prerelease.length;if(!!m.prerelease.length&&!y){if(!m.patch&&!m.minor)return"major";if(m.compareMain(g)===0)return m.minor&&!m.patch?"minor":"patch"}const A=y?"pre":"";return l.major!==c.major?A+"major":l.minor!==c.minor?A+"minor":l.patch!==c.patch?A+"patch":"prerelease"},vd}var _d,g_;function xR(){if(g_)return _d;g_=1;const a=Bt();return _d=(r,s)=>new a(r,s).major,_d}var bd,y_;function OR(){if(y_)return bd;y_=1;const a=Bt();return bd=(r,s)=>new a(r,s).minor,bd}var Sd,v_;function CR(){if(v_)return Sd;v_=1;const a=Bt();return Sd=(r,s)=>new a(r,s).patch,Sd}var Ed,__;function NR(){if(__)return Ed;__=1;const a=Si();return Ed=(r,s)=>{const l=a(r,s);return l&&l.prerelease.length?l.prerelease:null},Ed}var Td,b_;function $n(){if(b_)return Td;b_=1;const a=Bt();return Td=(r,s,l)=>new a(r,l).compare(new a(s,l)),Td}var wd,S_;function MR(){if(S_)return wd;S_=1;const a=$n();return wd=(r,s,l)=>a(s,r,l),wd}var Ad,E_;function kR(){if(E_)return Ad;E_=1;const a=$n();return Ad=(r,s)=>a(r,s,!0),Ad}var Rd,T_;function sp(){if(T_)return Rd;T_=1;const a=Bt();return Rd=(r,s,l)=>{const c=new a(r,l),d=new a(s,l);return c.compare(d)||c.compareBuild(d)},Rd}var xd,w_;function DR(){if(w_)return xd;w_=1;const a=sp();return xd=(r,s)=>r.sort((l,c)=>a(l,c,s)),xd}var Od,A_;function UR(){if(A_)return Od;A_=1;const a=sp();return Od=(r,s)=>r.sort((l,c)=>a(c,l,s)),Od}var Cd,R_;function bu(){if(R_)return Cd;R_=1;const a=$n();return Cd=(r,s,l)=>a(r,s,l)>0,Cd}var Nd,x_;function op(){if(x_)return Nd;x_=1;const a=$n();return Nd=(r,s,l)=>a(r,s,l)<0,Nd}var Md,O_;function tS(){if(O_)return Md;O_=1;const a=$n();return Md=(r,s,l)=>a(r,s,l)===0,Md}var kd,C_;function nS(){if(C_)return kd;C_=1;const a=$n();return kd=(r,s,l)=>a(r,s,l)!==0,kd}var Dd,N_;function lp(){if(N_)return Dd;N_=1;const a=$n();return Dd=(r,s,l)=>a(r,s,l)>=0,Dd}var Ud,M_;function up(){if(M_)return Ud;M_=1;const a=$n();return Ud=(r,s,l)=>a(r,s,l)<=0,Ud}var Ld,k_;function aS(){if(k_)return Ld;k_=1;const a=tS(),t=nS(),r=bu(),s=lp(),l=op(),c=up();return Ld=(h,g,m,y)=>{switch(g){case"===":return typeof h=="object"&&(h=h.version),typeof m=="object"&&(m=m.version),h===m;case"!==":return typeof h=="object"&&(h=h.version),typeof m=="object"&&(m=m.version),h!==m;case"":case"=":case"==":return a(h,m,y);case"!=":return t(h,m,y);case">":return r(h,m,y);case">=":return s(h,m,y);case"<":return l(h,m,y);case"<=":return c(h,m,y);default:throw new TypeError(`Invalid operator: ${g}`)}},Ld}var Id,D_;function LR(){if(D_)return Id;D_=1;const a=Bt(),t=Si(),{safeRe:r,t:s}=Ks();return Id=(c,d)=>{if(c instanceof a)return c;if(typeof c=="number"&&(c=String(c)),typeof c!="string")return null;d=d||{};let h=null;if(!d.rtl)h=c.match(d.includePrerelease?r[s.COERCEFULL]:r[s.COERCE]);else{const w=d.includePrerelease?r[s.COERCERTLFULL]:r[s.COERCERTL];let z;for(;(z=w.exec(c))&&(!h||h.index+h[0].length!==c.length);)(!h||z.index+z[0].length!==h.index+h[0].length)&&(h=z),w.lastIndex=z.index+z[1].length+z[2].length;w.lastIndex=-1}if(h===null)return null;const g=h[2],m=h[3]||"0",y=h[4]||"0",S=d.includePrerelease&&h[5]?`-${h[5]}`:"",A=d.includePrerelease&&h[6]?`+${h[6]}`:"";return t(`${g}.${m}.${y}${S}${A}`,d)},Id}var $d,U_;function IR(){if(U_)return $d;U_=1;class a{constructor(){this.max=1e3,this.map=new Map}get(r){const s=this.map.get(r);if(s!==void 0)return this.map.delete(r),this.map.set(r,s),s}delete(r){return this.map.delete(r)}set(r,s){if(!this.delete(r)&&s!==void 0){if(this.map.size>=this.max){const c=this.map.keys().next().value;this.delete(c)}this.map.set(r,s)}return this}}return $d=a,$d}var jd,L_;function jn(){if(L_)return jd;L_=1;const a=/\s+/g;class t{constructor(F,x){if(x=l(x),F instanceof t)return F.loose===!!x.loose&&F.includePrerelease===!!x.includePrerelease?F:new t(F.raw,x);if(F instanceof c)return this.raw=F.value,this.set=[[F]],this.formatted=void 0,this;if(this.options=x,this.loose=!!x.loose,this.includePrerelease=!!x.includePrerelease,this.raw=F.trim().replace(a," "),this.set=this.raw.split("||").map(U=>this.parseRange(U.trim())).filter(U=>U.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const U=this.set[0];if(this.set=this.set.filter(H=>!D(H[0])),this.set.length===0)this.set=[U];else if(this.set.length>1){for(const H of this.set)if(H.length===1&&K(H[0])){this.set=[H];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let F=0;F<this.set.length;F++){F>0&&(this.formatted+="||");const x=this.set[F];for(let U=0;U<x.length;U++)U>0&&(this.formatted+=" "),this.formatted+=x[U].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(F){const U=((this.options.includePrerelease&&w)|(this.options.loose&&z))+":"+F,H=s.get(U);if(H)return H;const V=this.options.loose,b=V?g[m.HYPHENRANGELOOSE]:g[m.HYPHENRANGE];F=F.replace(b,st(this.options.includePrerelease)),d("hyphen replace",F),F=F.replace(g[m.COMPARATORTRIM],y),d("comparator trim",F),F=F.replace(g[m.TILDETRIM],S),d("tilde trim",F),F=F.replace(g[m.CARETTRIM],A),d("caret trim",F);let k=F.split(" ").map(he=>J(he,this.options)).join(" ").split(/\s+/).map(he=>ht(he,this.options));V&&(k=k.filter(he=>(d("loose invalid filter",he,this.options),!!he.match(g[m.COMPARATORLOOSE])))),d("range list",k);const j=new Map,P=k.map(he=>new c(he,this.options));for(const he of P){if(D(he))return[he];j.set(he.value,he)}j.size>1&&j.has("")&&j.delete("");const ee=[...j.values()];return s.set(U,ee),ee}intersects(F,x){if(!(F instanceof t))throw new TypeError("a Range is required");return this.set.some(U=>ae(U,x)&&F.set.some(H=>ae(H,x)&&U.every(V=>H.every(b=>V.intersects(b,x)))))}test(F){if(!F)return!1;if(typeof F=="string")try{F=new h(F,this.options)}catch{return!1}for(let x=0;x<this.set.length;x++)if(It(this.set[x],F,this.options))return!0;return!1}}jd=t;const r=IR(),s=new r,l=ip(),c=Su(),d=_u(),h=Bt(),{safeRe:g,t:m,comparatorTrimReplace:y,tildeTrimReplace:S,caretTrimReplace:A}=Ks(),{FLAG_INCLUDE_PRERELEASE:w,FLAG_LOOSE:z}=vu(),D=Q=>Q.value==="<0.0.0-0",K=Q=>Q.value==="",ae=(Q,F)=>{let x=!0;const U=Q.slice();let H=U.pop();for(;x&&U.length;)x=U.every(V=>H.intersects(V,F)),H=U.pop();return x},J=(Q,F)=>(d("comp",Q,F),Q=me(Q,F),d("caret",Q),Q=Te(Q,F),d("tildes",Q),Q=oe(Q,F),d("xrange",Q),Q=Je(Q,F),d("stars",Q),Q),se=Q=>!Q||Q.toLowerCase()==="x"||Q==="*",Te=(Q,F)=>Q.trim().split(/\s+/).map(x=>fe(x,F)).join(" "),fe=(Q,F)=>{const x=F.loose?g[m.TILDELOOSE]:g[m.TILDE];return Q.replace(x,(U,H,V,b,k)=>{d("tilde",Q,U,H,V,b,k);let j;return se(H)?j="":se(V)?j=`>=${H}.0.0 <${+H+1}.0.0-0`:se(b)?j=`>=${H}.${V}.0 <${H}.${+V+1}.0-0`:k?(d("replaceTilde pr",k),j=`>=${H}.${V}.${b}-${k} <${H}.${+V+1}.0-0`):j=`>=${H}.${V}.${b} <${H}.${+V+1}.0-0`,d("tilde return",j),j})},me=(Q,F)=>Q.trim().split(/\s+/).map(x=>Se(x,F)).join(" "),Se=(Q,F)=>{d("caret",Q,F);const x=F.loose?g[m.CARETLOOSE]:g[m.CARET],U=F.includePrerelease?"-0":"";return Q.replace(x,(H,V,b,k,j)=>{d("caret",Q,H,V,b,k,j);let P;return se(V)?P="":se(b)?P=`>=${V}.0.0${U} <${+V+1}.0.0-0`:se(k)?V==="0"?P=`>=${V}.${b}.0${U} <${V}.${+b+1}.0-0`:P=`>=${V}.${b}.0${U} <${+V+1}.0.0-0`:j?(d("replaceCaret pr",j),V==="0"?b==="0"?P=`>=${V}.${b}.${k}-${j} <${V}.${b}.${+k+1}-0`:P=`>=${V}.${b}.${k}-${j} <${V}.${+b+1}.0-0`:P=`>=${V}.${b}.${k}-${j} <${+V+1}.0.0-0`):(d("no pr"),V==="0"?b==="0"?P=`>=${V}.${b}.${k}${U} <${V}.${b}.${+k+1}-0`:P=`>=${V}.${b}.${k}${U} <${V}.${+b+1}.0-0`:P=`>=${V}.${b}.${k} <${+V+1}.0.0-0`),d("caret return",P),P})},oe=(Q,F)=>(d("replaceXRanges",Q,F),Q.split(/\s+/).map(x=>ct(x,F)).join(" ")),ct=(Q,F)=>{Q=Q.trim();const x=F.loose?g[m.XRANGELOOSE]:g[m.XRANGE];return Q.replace(x,(U,H,V,b,k,j)=>{d("xRange",Q,U,H,V,b,k,j);const P=se(V),ee=P||se(b),he=ee||se(k),ye=he;return H==="="&&ye&&(H=""),j=F.includePrerelease?"-0":"",P?H===">"||H==="<"?U="<0.0.0-0":U="*":H&&ye?(ee&&(b=0),k=0,H===">"?(H=">=",ee?(V=+V+1,b=0,k=0):(b=+b+1,k=0)):H==="<="&&(H="<",ee?V=+V+1:b=+b+1),H==="<"&&(j="-0"),U=`${H+V}.${b}.${k}${j}`):ee?U=`>=${V}.0.0${j} <${+V+1}.0.0-0`:he&&(U=`>=${V}.${b}.0${j} <${V}.${+b+1}.0-0`),d("xRange return",U),U})},Je=(Q,F)=>(d("replaceStars",Q,F),Q.trim().replace(g[m.STAR],"")),ht=(Q,F)=>(d("replaceGTE0",Q,F),Q.trim().replace(g[F.includePrerelease?m.GTE0PRE:m.GTE0],"")),st=Q=>(F,x,U,H,V,b,k,j,P,ee,he,ye)=>(se(U)?x="":se(H)?x=`>=${U}.0.0${Q?"-0":""}`:se(V)?x=`>=${U}.${H}.0${Q?"-0":""}`:b?x=`>=${x}`:x=`>=${x}${Q?"-0":""}`,se(P)?j="":se(ee)?j=`<${+P+1}.0.0-0`:se(he)?j=`<${P}.${+ee+1}.0-0`:ye?j=`<=${P}.${ee}.${he}-${ye}`:Q?j=`<${P}.${ee}.${+he+1}-0`:j=`<=${j}`,`${x} ${j}`.trim()),It=(Q,F,x)=>{for(let U=0;U<Q.length;U++)if(!Q[U].test(F))return!1;if(F.prerelease.length&&!x.includePrerelease){for(let U=0;U<Q.length;U++)if(d(Q[U].semver),Q[U].semver!==c.ANY&&Q[U].semver.prerelease.length>0){const H=Q[U].semver;if(H.major===F.major&&H.minor===F.minor&&H.patch===F.patch)return!0}return!1}return!0};return jd}var qd,I_;function Su(){if(I_)return qd;I_=1;const a=Symbol("SemVer ANY");class t{static get ANY(){return a}constructor(y,S){if(S=r(S),y instanceof t){if(y.loose===!!S.loose)return y;y=y.value}y=y.trim().split(/\s+/).join(" "),d("comparator",y,S),this.options=S,this.loose=!!S.loose,this.parse(y),this.semver===a?this.value="":this.value=this.operator+this.semver.version,d("comp",this)}parse(y){const S=this.options.loose?s[l.COMPARATORLOOSE]:s[l.COMPARATOR],A=y.match(S);if(!A)throw new TypeError(`Invalid comparator: ${y}`);this.operator=A[1]!==void 0?A[1]:"",this.operator==="="&&(this.operator=""),A[2]?this.semver=new h(A[2],this.options.loose):this.semver=a}toString(){return this.value}test(y){if(d("Comparator.test",y,this.options.loose),this.semver===a||y===a)return!0;if(typeof y=="string")try{y=new h(y,this.options)}catch{return!1}return c(y,this.operator,this.semver,this.options)}intersects(y,S){if(!(y instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new g(y.value,S).test(this.value):y.operator===""?y.value===""?!0:new g(this.value,S).test(y.semver):(S=r(S),S.includePrerelease&&(this.value==="<0.0.0-0"||y.value==="<0.0.0-0")||!S.includePrerelease&&(this.value.startsWith("<0.0.0")||y.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&y.operator.startsWith(">")||this.operator.startsWith("<")&&y.operator.startsWith("<")||this.semver.version===y.semver.version&&this.operator.includes("=")&&y.operator.includes("=")||c(this.semver,"<",y.semver,S)&&this.operator.startsWith(">")&&y.operator.startsWith("<")||c(this.semver,">",y.semver,S)&&this.operator.startsWith("<")&&y.operator.startsWith(">")))}}qd=t;const r=ip(),{safeRe:s,t:l}=Ks(),c=aS(),d=_u(),h=Bt(),g=jn();return qd}var zd,$_;function Eu(){if($_)return zd;$_=1;const a=jn();return zd=(r,s,l)=>{try{s=new a(s,l)}catch{return!1}return s.test(r)},zd}var Bd,j_;function $R(){if(j_)return Bd;j_=1;const a=jn();return Bd=(r,s)=>new a(r,s).set.map(l=>l.map(c=>c.value).join(" ").trim().split(" ")),Bd}var Hd,q_;function jR(){if(q_)return Hd;q_=1;const a=Bt(),t=jn();return Hd=(s,l,c)=>{let d=null,h=null,g=null;try{g=new t(l,c)}catch{return null}return s.forEach(m=>{g.test(m)&&(!d||h.compare(m)===-1)&&(d=m,h=new a(d,c))}),d},Hd}var Pd,z_;function qR(){if(z_)return Pd;z_=1;const a=Bt(),t=jn();return Pd=(s,l,c)=>{let d=null,h=null,g=null;try{g=new t(l,c)}catch{return null}return s.forEach(m=>{g.test(m)&&(!d||h.compare(m)===1)&&(d=m,h=new a(d,c))}),d},Pd}var Fd,B_;function zR(){if(B_)return Fd;B_=1;const a=Bt(),t=jn(),r=bu();return Fd=(l,c)=>{l=new t(l,c);let d=new a("0.0.0");if(l.test(d)||(d=new a("0.0.0-0"),l.test(d)))return d;d=null;for(let h=0;h<l.set.length;++h){const g=l.set[h];let m=null;g.forEach(y=>{const S=new a(y.semver.version);switch(y.operator){case">":S.prerelease.length===0?S.patch++:S.prerelease.push(0),S.raw=S.format();case"":case">=":(!m||r(S,m))&&(m=S);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${y.operator}`)}}),m&&(!d||r(d,m))&&(d=m)}return d&&l.test(d)?d:null},Fd}var Zd,H_;function BR(){if(H_)return Zd;H_=1;const a=jn();return Zd=(r,s)=>{try{return new a(r,s).range||"*"}catch{return null}},Zd}var Gd,P_;function cp(){if(P_)return Gd;P_=1;const a=Bt(),t=Su(),{ANY:r}=t,s=jn(),l=Eu(),c=bu(),d=op(),h=up(),g=lp();return Gd=(y,S,A,w)=>{y=new a(y,w),S=new s(S,w);let z,D,K,ae,J;switch(A){case">":z=c,D=h,K=d,ae=">",J=">=";break;case"<":z=d,D=g,K=c,ae="<",J="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(l(y,S,w))return!1;for(let se=0;se<S.set.length;++se){const Te=S.set[se];let fe=null,me=null;if(Te.forEach(Se=>{Se.semver===r&&(Se=new t(">=0.0.0")),fe=fe||Se,me=me||Se,z(Se.semver,fe.semver,w)?fe=Se:K(Se.semver,me.semver,w)&&(me=Se)}),fe.operator===ae||fe.operator===J||(!me.operator||me.operator===ae)&&D(y,me.semver))return!1;if(me.operator===J&&K(y,me.semver))return!1}return!0},Gd}var Vd,F_;function HR(){if(F_)return Vd;F_=1;const a=cp();return Vd=(r,s,l)=>a(r,s,">",l),Vd}var Xd,Z_;function PR(){if(Z_)return Xd;Z_=1;const a=cp();return Xd=(r,s,l)=>a(r,s,"<",l),Xd}var Yd,G_;function FR(){if(G_)return Yd;G_=1;const a=jn();return Yd=(r,s,l)=>(r=new a(r,l),s=new a(s,l),r.intersects(s,l)),Yd}var Kd,V_;function ZR(){if(V_)return Kd;V_=1;const a=Eu(),t=$n();return Kd=(r,s,l)=>{const c=[];let d=null,h=null;const g=r.sort((A,w)=>t(A,w,l));for(const A of g)a(A,s,l)?(h=A,d||(d=A)):(h&&c.push([d,h]),h=null,d=null);d&&c.push([d,null]);const m=[];for(const[A,w]of c)A===w?m.push(A):!w&&A===g[0]?m.push("*"):w?A===g[0]?m.push(`<=${w}`):m.push(`${A} - ${w}`):m.push(`>=${A}`);const y=m.join(" || "),S=typeof s.raw=="string"?s.raw:String(s);return y.length<S.length?y:s},Kd}var Qd,X_;function GR(){if(X_)return Qd;X_=1;const a=jn(),t=Su(),{ANY:r}=t,s=Eu(),l=$n(),c=(S,A,w={})=>{if(S===A)return!0;S=new a(S,w),A=new a(A,w);let z=!1;e:for(const D of S.set){for(const K of A.set){const ae=g(D,K,w);if(z=z||ae!==null,ae)continue e}if(z)return!1}return!0},d=[new t(">=0.0.0-0")],h=[new t(">=0.0.0")],g=(S,A,w)=>{if(S===A)return!0;if(S.length===1&&S[0].semver===r){if(A.length===1&&A[0].semver===r)return!0;w.includePrerelease?S=d:S=h}if(A.length===1&&A[0].semver===r){if(w.includePrerelease)return!0;A=h}const z=new Set;let D,K;for(const oe of S)oe.operator===">"||oe.operator===">="?D=m(D,oe,w):oe.operator==="<"||oe.operator==="<="?K=y(K,oe,w):z.add(oe.semver);if(z.size>1)return null;let ae;if(D&&K){if(ae=l(D.semver,K.semver,w),ae>0)return null;if(ae===0&&(D.operator!==">="||K.operator!=="<="))return null}for(const oe of z){if(D&&!s(oe,String(D),w)||K&&!s(oe,String(K),w))return null;for(const ct of A)if(!s(oe,String(ct),w))return!1;return!0}let J,se,Te,fe,me=K&&!w.includePrerelease&&K.semver.prerelease.length?K.semver:!1,Se=D&&!w.includePrerelease&&D.semver.prerelease.length?D.semver:!1;me&&me.prerelease.length===1&&K.operator==="<"&&me.prerelease[0]===0&&(me=!1);for(const oe of A){if(fe=fe||oe.operator===">"||oe.operator===">=",Te=Te||oe.operator==="<"||oe.operator==="<=",D){if(Se&&oe.semver.prerelease&&oe.semver.prerelease.length&&oe.semver.major===Se.major&&oe.semver.minor===Se.minor&&oe.semver.patch===Se.patch&&(Se=!1),oe.operator===">"||oe.operator===">="){if(J=m(D,oe,w),J===oe&&J!==D)return!1}else if(D.operator===">="&&!s(D.semver,String(oe),w))return!1}if(K){if(me&&oe.semver.prerelease&&oe.semver.prerelease.length&&oe.semver.major===me.major&&oe.semver.minor===me.minor&&oe.semver.patch===me.patch&&(me=!1),oe.operator==="<"||oe.operator==="<="){if(se=y(K,oe,w),se===oe&&se!==K)return!1}else if(K.operator==="<="&&!s(K.semver,String(oe),w))return!1}if(!oe.operator&&(K||D)&&ae!==0)return!1}return!(D&&Te&&!K&&ae!==0||K&&fe&&!D&&ae!==0||Se||me)},m=(S,A,w)=>{if(!S)return A;const z=l(S.semver,A.semver,w);return z>0?S:z<0||A.operator===">"&&S.operator===">="?A:S},y=(S,A,w)=>{if(!S)return A;const z=l(S.semver,A.semver,w);return z<0?S:z>0||A.operator==="<"&&S.operator==="<="?A:S};return Qd=c,Qd}var Jd,Y_;function VR(){if(Y_)return Jd;Y_=1;const a=Ks(),t=vu(),r=Bt(),s=eS(),l=Si(),c=TR(),d=wR(),h=AR(),g=RR(),m=xR(),y=OR(),S=CR(),A=NR(),w=$n(),z=MR(),D=kR(),K=sp(),ae=DR(),J=UR(),se=bu(),Te=op(),fe=tS(),me=nS(),Se=lp(),oe=up(),ct=aS(),Je=LR(),ht=Su(),st=jn(),It=Eu(),Q=$R(),F=jR(),x=qR(),U=zR(),H=BR(),V=cp(),b=HR(),k=PR(),j=FR(),P=ZR(),ee=GR();return Jd={parse:l,valid:c,clean:d,inc:h,diff:g,major:m,minor:y,patch:S,prerelease:A,compare:w,rcompare:z,compareLoose:D,compareBuild:K,sort:ae,rsort:J,gt:se,lt:Te,eq:fe,neq:me,gte:Se,lte:oe,cmp:ct,coerce:Je,Comparator:ht,Range:st,satisfies:It,toComparators:Q,maxSatisfying:F,minSatisfying:x,minVersion:U,validRange:H,outside:V,gtr:b,ltr:k,intersects:j,simplifyRange:P,subset:ee,SemVer:r,re:a.re,src:a.src,tokens:a.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers},Jd}var XR=VR();const Wd=Vh(XR);var rS={},YR=Object.defineProperty,Rn=(a=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(a,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):a)(function(a){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+a+'" is not supported')}),KR=(a,t)=>{for(var r in t)YR(a,r,{get:t[r],enumerable:!0})},QR=q({slug:_().describe("The slug of the toolkit"),name:_().describe("The name of the toolkit"),logo:_().describe("The logo of the toolkit").optional()}),K_=Mt(["string","number","integer","boolean","object","array","null"]),Et=q({type:va([K_,X(K_)]).optional(),description:_().optional(),anyOf:un(()=>X(Et)).optional(),oneOf:un(()=>X(Et)).optional(),allOf:un(()=>X(Et)).optional(),not:un(()=>Et).optional(),title:_().optional(),default:js().optional(),nullable:Ie().optional(),properties:un(()=>et(_(),Et)).optional(),required:X(_()).optional(),file_uploadable:Ie().optional(),file_downloadable:Ie().optional(),items:un(()=>va([Et,X(Et)])).optional(),enum:X(js()).optional(),const:js().optional(),minimum:Ue().optional(),maximum:Ue().optional(),exclusiveMinimum:Ue().optional(),exclusiveMaximum:Ue().optional(),multipleOf:Ue().optional(),minLength:Ue().optional(),maxLength:Ue().optional(),pattern:_().optional(),format:_().optional(),minItems:Ue().optional(),maxItems:Ue().optional(),uniqueItems:Ie().optional(),minProperties:Ue().optional(),maxProperties:Ue().optional(),patternProperties:un(()=>et(_(),Et)).optional(),additionalProperties:va([Ie(),un(()=>Et)]).optional(),examples:X(js()).optional(),readOnly:Ie().optional(),writeOnly:Ie().optional(),if:un(()=>Et).optional(),then:un(()=>Et).optional(),else:un(()=>Et).optional(),$ref:_().optional(),definitions:et(_(),un(()=>Et)).optional(),$defs:et(_(),un(()=>Et)).optional()}),Q_=q({type:ce("object"),anyOf:X(Et).optional(),oneOf:X(Et).optional(),allOf:X(Et).optional(),not:Et.optional(),properties:et(_(),Et),required:X(_()).optional(),title:_().optional(),default:js().optional(),nullable:Ie().optional(),description:_().optional(),additionalProperties:Ie().default(!1).optional()}),iS=q({slug:_().describe('The slug of the tool. eg. "GOOGLE_SEARCH"'),name:_().describe('The name of the tool. eg. "Google Search"'),description:_().optional().describe("The description of the tool"),inputParameters:Q_.optional().describe("The input parameters of the tool"),outputParameters:Q_.optional().describe("The output parameters of the tool"),tags:_l(X(_())).describe("The tags of the tool. eg: Important").default([]),toolkit:_l(QR).describe("The toolkit of the tool"),version:_l(_()).describe('The version of the tool, e.g. "1.0.0"'),scopes:_l(X(_())).describe('The scopes of the tool. eg: ["task:add"]')});q({items:X(iS),nextCursor:_().nullable().optional(),totalPages:Ue()});var JR=q({tools:X(_()).optional(),toolkits:X(_()).optional(),scopes:X(_()).optional(),tags:X(_()).optional(),limit:Ue().optional(),search:_().optional()}),WR=q({baseURL:_().optional(),body:et(_(),re()).optional(),parameters:X(q({in:Mt(["query","header"]),name:_(),value:va([_(),Ue()])}))});q({allowTracing:Ie().optional(),connectedAccountId:_().optional(),customAuthParams:WR.optional(),arguments:et(_(),re()).optional(),userId:_(),version:_().optional(),text:_().optional()});var ex=q({data:et(_(),re()),error:_().nullable(),successful:Ie(),logId:_().optional(),sessionInfo:re().optional()}),tx=q({endpoint:_(),method:Mt(["GET","POST","PUT","DELETE","PATCH"]),body:re().optional(),parameters:X(q({in:Mt(["query","header"]),name:_(),value:va([_(),Ue()])})).optional(),connectedAccountId:_().optional()}),nx={};KR(nx,{CLIENT_PUSHER_KEY:()=>rx,COMPOSIO_DIR:()=>Tu,COMPOSIO_LOG_LEVEL:()=>fp,DEFAULT_BASE_URL:()=>lS,IS_DEVELOPMENT_OR_CI:()=>dp,TELEMETRY_URL:()=>ax,TEMP_FILES_DIRECTORY_NAME:()=>oS,USER_DATA_FILE_NAME:()=>sS});var _a=(a,t=void 0)=>{try{return rS[a]||t}catch{return t}},Tu=".composio",sS="user_data.json",oS="files",lS="https://backend.composio.dev",ax="https://app.composio.dev",rx=_a("CLIENT_PUSHER_KEY")||"ff9f18c208855d77a152",fp=_a("COMPOSIO_LOG_LEVEL"),dp=_a("DEVELOPMENT")||_a("CI")||!1,jh={silent:-1,error:0,warn:1,info:2,debug:3},ix=()=>{const a=(fp??"info")?.toLowerCase();return a&&a in jh?a:"info"},sx=class{level;includeTimestamp;console;constructor(a={}){this.level=a.level??ix(),this.includeTimestamp=a.includeTimestamp??!0,this.console=console}formatMessage(a){const t=a.map((s,l)=>typeof s=="object"?JSON.stringify(s):l===0&&a.length>1?ke.yellow(`${s}`):String(s)).join(`
`);if(!this.includeTimestamp)return t;const r=new Date().toISOString();return`${ke.gray(r)} - ${t}`}shouldLog(a){return jh[a]<=jh[this.level]}error(...a){this.shouldLog("error")&&this.console.error(this.formatMessage(a))}warn(...a){this.shouldLog("warn")&&this.console.warn(this.formatMessage(a))}info(...a){this.shouldLog("info")&&this.console.info(this.formatMessage(a))}debug(...a){this.shouldLog("debug")&&this.console.debug(this.formatMessage(a))}},ox=new sx,Y=ox,yt=class Bl extends Error{name="ComposioError";code;possibleFixes;errorId;constructor(t,r={}){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);const s=r.statusCode||(r.cause instanceof ep?r.cause.status:void 0);this.code=`TS-SDK::${r.code}`,this.possibleFixes=r.possibleFixes,this.definePropertyIfExists("statusCode",s),this.definePropertyIfExists("cause",r.cause);const l=r.cause instanceof Error?Bl.combineStackTraces(r.cause.stack,this.stack):r.stack??this.stack;this.definePropertyIfExists("stack",l),r.meta&&Object.keys(r.meta).length>0&&this.definePropertyIfExists("meta",r.meta)}definePropertyIfExists(t,r){r!==void 0&&Object.defineProperty(this,t,{value:r,enumerable:!0,writable:!1,configurable:!0})}static combineStackTraces(t,r){if(!t)return r;if(!r)return t;const s=r.split(`
`)[0],l=t.split(`
`).slice(1).join(`
`);return`${s}
${r.split(`
`).slice(1).join(`
`)}

Caused by:
${l}`}getErrorData(t=!1){const r={name:this.name,message:this.message},{cause:s,code:l,stack:c,statusCode:d,meta:h,possibleFixes:g}=this;if(s!==void 0){const m=s;r.cause=m instanceof Error?m.message:String(m)}if(l&&(r.code=l),d!==void 0&&(r.statusCode=d),h&&(r.meta=h),g&&(r.possibleFixes=g),t&&c)if(c.includes("Caused by:")){const[m,y]=c.split("Caused by:");r.stack=[...m.split(`
`).slice(1),"Caused by:",...y.split(`
`)]}else r.stack=c.split(`
`).slice(1);return r}prettyPrint(t=!1){const r=this.getErrorData(t);let s=`
`+ke.bgRed.white.bold(" ERROR ")+" "+ke.white.bold(r.message)+`
`;if(r.code&&(s+=ke.yellow(`Error Code: ${r.code}`)+`
`),r.statusCode!==void 0&&(s+=ke.yellow(`Status: ${r.statusCode}`)+`
`),r.cause&&(s+=ke.gray("Reason:")+`
`,s+="  "+ke.white(r.cause)+`
`),r.meta&&(s+=ke.gray("Additional Information:")+`
`,s+="  "+ke.white(JSON.stringify(r.meta,null,2).replace(/\n/g,`
  `))+`
`),r.possibleFixes?.length){s+=`
`+ke.cyan.bold("Try the following:")+`
`;const l=r.possibleFixes?.map((c,d)=>` ${d+1}. `+ke.white(c));s+=l?.join(`
`)+`
`}r.stack?.length&&(s+=`
`+ke.gray("Stack Trace:")+`
`,s+=ke.gray(r.stack.join(`
`))+`
`),s+=`
`,Y.error(s)}static createAndPrint(t,r={},s=!1){const l=new Bl(t,r);return l.prettyPrint(s),l}static handle(t,r={}){const{includeStack:s=!1,exitProcess:l=!1,exitCode:c=1}=r;t instanceof Bl?t.prettyPrint(s):t instanceof hn?this.handleZodError(t,s):t instanceof Error?this.handleStandardError(t,s):this.handleUnknownError(t),l&&typeof process<"u"&&process.exit(c)}static handleZodError(t,r){if(Y.error(`
`+ke.bgRed.white.bold(" ERROR ")+" "+ke.white.bold(t.message)),Y.error(ke.gray("Invalid parameters:")),t.errors.forEach(s=>{Y.error(ke.yellow(s.path.join("."))+" "+ke.white(s.message))}),Y.error(ke.gray("Expected parameters:")),t.errors.forEach(s=>{Y.error(ke.yellow(s.path.join("."))+" "+ke.white(s.message))}),r&&(Y.error(`
`+ke.gray("Validation Errors:")),t.errors.forEach(s=>{const l=s.path.join(".");Y.error(ke.gray("   ")+ke.yellow(l?`${l}: `:"")+ke.white(s.message))}),t.stack)){Y.error(`
`+ke.gray("Stack Trace:"));const s=t.stack.split(`
`).slice(1);Y.error(ke.gray(s.join(`
`)))}Y.error("")}static handleStandardError(t,r){if(Y.error(`
`+ke.bgRed.white.bold(" ERROR ")+" "+ke.white.bold(t.message)),r&&t.stack){Y.error(`
`+ke.gray("Stack Trace:"));const s=t.stack.split(`
`).slice(1);Y.error(ke.gray(s.join(`
`)))}Y.error("")}static handleUnknownError(t){Y.error(`
`+ke.bgRed.white.bold(" ERROR ")+" "+ke.white.bold("Unknown error occurred")),t!=null&&(Y.error(ke.gray("Error details:")),Y.error("  "+ke.white(String(t)))),Y.error("")}},Er={TOOLSET_NOT_DEFINED:"TOOLSET_NOT_DEFINED",TOOL_NOT_FOUND:"TOOL_NOT_FOUND",INVALID_MODIFIER:"INVALID_MODIFIER",CUSTOM_TOOLS_NOT_INITIALIZED:"CUSTOM_TOOLS_NOT_INITIALIZED",TOOL_EXECUTION_ERROR:"TOOL_EXECUTION_ERROR",INVALID_EXECUTE_FUNCTION:"INVALID_EXECUTE_FUNCTION",GLOBAL_EXECUTE_TOOL_FN_NOT_SET:"GLOBAL_EXECUTE_TOOL_FN_NOT_SET"},lx=class extends yt{constructor(a="Provider not defined",t={}){super(a,{...t,code:Er.TOOLSET_NOT_DEFINED,possibleFixes:t.possibleFixes||["Ensure that the provider is defined in the Composio project and passed into the tool instance"]}),this.name="ComposioProviderNotDefinedError"}},ou=class extends yt{constructor(a="Tool not found",t={}){super(a,{...t,code:Er.TOOL_NOT_FOUND,possibleFixes:t.possibleFixes||["Ensure the tool slug is correct and exists in the Composio project"]}),this.name="ComposioToolNotFoundError"}},li=class extends yt{constructor(a="Invalid modifier",t={}){super(a,{...t,code:Er.INVALID_MODIFIER,possibleFixes:t.possibleFixes||["Ensure the modifier is a function and returns a valid result"]}),this.name="ComposioInvalidModifierError"}},ux=class extends yt{constructor(a="Custom tools not initialized",t={}){super(a,{...t,code:Er.CUSTOM_TOOLS_NOT_INITIALIZED,possibleFixes:t.possibleFixes||["Ensure the custom tools class is initialized in the Tools instance"]}),this.name="ComposioCustomToolsNotInitializedError"}},cx=class extends yt{error;constructor(a="Tool execution error",t={}){const{originalError:r,...s}=t;super(a,{...s,code:t.code||Er.TOOL_EXECUTION_ERROR,cause:t.cause||r,possibleFixes:t.possibleFixes||["Ensure the tool is correctly configured and the input is valid"]}),this.error=r||(t.cause instanceof Error?t.cause:t.cause?new Error(String(t.cause)):new Error("Unknown error")),this.name="ComposioToolExecutionError"}},J_=class extends yt{constructor(a="Invalid execute function",t={}){super(a,{...t,code:Er.INVALID_EXECUTE_FUNCTION,possibleFixes:t.possibleFixes||["Ensure the execute function is a valid function and returns a valid result"]}),this.name="ComposioInvalidExecuteFunctionError"}},fx=class extends yt{constructor(a="Global execute tool function not set",t={}){super(a,{...t,code:Er.GLOBAL_EXECUTE_TOOL_FN_NOT_SET,possibleFixes:t.possibleFixes||["Ensure the global execute tool function is set in the provider"]}),this.name="ComposioGlobalExecuteToolFnNotSetError"}},uS={CONNECTED_ACCOUNT_NOT_FOUND:"CONNECTED_ACCOUNT_NOT_FOUND",MULTIPLE_CONNECTED_ACCOUNTS:"MULTIPLE_CONNECTED_ACCOUNTS"},yr=class extends yt{constructor(a="Connected account not found",t={}){super(a,{...t,code:uS.CONNECTED_ACCOUNT_NOT_FOUND,statusCode:404,possibleFixes:t.possibleFixes||["Ensure the connected account exists and is active in your Composio dashboard"]}),this.name="ComposioConnectedAccountNotFoundError"}},dx=class extends yt{constructor(a="Multiple connected accounts found"){super(a,{code:uS.MULTIPLE_CONNECTED_ACCOUNTS,possibleFixes:["Use the allowMultiple flag to allow multiple connected accounts per user for an auth config"]}),this.name="ComposioMultipleConnectedAccountsError"}},hx={SDK_INITIALIZED:"SDK_INITIALIZED"},px=class{batch=[];time;batchSize;processBatchCallback;timer=null;constructor(a=2e3,t=100,r){this.batch=[],this.time=a,this.batchSize=t,this.processBatchCallback=r}pushItem(a){this.batch.push(a),this.batch.length>=this.batchSize?this.processBatch():this.timer||(this.timer=setTimeout(()=>this.processBatch(),this.time))}processBatch(){this.batch.length>0&&(this.processBatchCallback(this.batch),this.batch=[]),this.timer&&(clearTimeout(this.timer),this.timer=null)}};function mx(){return lR()}var W_="https://telemetry.composio.dev/v1",eh=class{static async sendMetric(a){try{return await fetch(`${W_}/metrics/invocations`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})}catch(t){Y.debug("Error sending metric telemetry",t)}}static async sendErrorLog(a){try{return await fetch(`${W_}/errors`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})}catch(t){Y.debug("Error sending error telemetry",t)}}},gx=class{telemetryMetadata;isTelemetryDisabled=!0;telemetrySource;telemetrySourceName="typescript-sdk";telemetryServiceName="sdk";telemetryLanguage="typescript";batchProcessor=new px(200,10,async a=>{Y.debug("Sending batch of telemetry metrics",a),await eh.sendMetric(a)});setup(a){this.telemetryMetadata=a,this.isTelemetryDisabled=!1,this.telemetrySource={host:this.telemetryMetadata?.host??this.telemetrySourceName,service:this.telemetryServiceName,language:this.telemetryLanguage,version:this.telemetryMetadata?.version,platform:this.telemetryMetadata?.isBrowser?"browser":"node",environment:_a("NODE_ENV","production")},this.sendMetric([{functionName:hx.SDK_INITIALIZED,durationMs:0,timestamp:Date.now()/1e3,props:{},source:this.telemetrySource,metadata:{provider:this.telemetryMetadata?.provider??"openai"},error:void 0}])}instrument(a,t){const r=Object.getPrototypeOf(a),s=Object.getOwnPropertyNames(r).filter(c=>{const d=Object.getOwnPropertyDescriptor(r,c);return c!=="constructor"&&d&&typeof d.value=="function"&&d.value.constructor.name==="AsyncFunction"}),l=(a.constructor?.name||t)??"unknown";for(const c of s){const d=a[c];a[c]=async(...h)=>{const g={functionName:`${l}.${c}`,durationMs:0,timestamp:Date.now()/1e3,props:{fileName:l,method:c,params:h},metadata:{provider:this.telemetryMetadata?.provider??"openai"},error:void 0,source:this.telemetrySource};this.batchProcessor.pushItem(g);try{return await d.apply(a,h)}catch(m){throw m instanceof Error&&(m.errorId||(m.errorId=mx(),await this.prepareAndSendErrorTelemetry(m,l,c,h))),m}}}return a}shouldSendTelemetry(){const a=["test","ci"],t=(_a("NODE_ENV","development")||"").toLowerCase(),r=a.includes(t),s=_a("TELEMETRY_DISABLED","false")==="true";return!this.isTelemetryDisabled&&!s&&!r}async prepareAndSendErrorTelemetry(a,t,r,s){const l={functionName:`${t}.${r}`,durationMs:0,timestamp:Date.now()/1e3,props:{fileName:t,method:r,params:s},metadata:{provider:this.telemetryMetadata?.provider??"openai"},source:this.telemetrySource};a instanceof In?l.error={errorId:a.errorId,name:a.name,message:a.message,stack:a.stack}:a instanceof yt?l.error={errorId:a.errorId,name:a.name,code:a.code,message:a.message,stack:a.stack}:a instanceof Error&&(l.error={errorId:a.errorId,name:a.name??"Unknown error",message:a.message,stack:a.stack}),await this.sendErrorTelemetry(l)}async sendMetric(a){if(!this.shouldSendTelemetry()){Y.debug("Telemetry is disabled, skipping metric telemetry",a);return}try{Y.debug("SDK Metric",a),await eh.sendMetric(a)}catch(t){Y.error("Error sending metric telemetry",t)}}async sendErrorTelemetry(a){if(!this.shouldSendTelemetry()){Y.debug("Telemetry is disabled, skipping metric telemetry",a);return}try{Y.debug("SDK Error Telemetry",a),await eh.sendErrorLog(a)}catch(t){Y.error("Error sending error telemetry",t)}}},pn=new gx,yx={AUTH_CONFIG_NOT_FOUND:"AUTH_CONFIG_NOT_FOUND"},Sl=class extends yt{constructor(a="Auth config not found",t={}){super(a,{...t,code:yx.AUTH_CONFIG_NOT_FOUND,possibleFixes:t.possibleFixes||["Check if the auth config exists","Check if the auth config id is correct","Check if the auth config is enabled"]}),this.name="ComposioAuthConfigNotFoundError"}},cS={CONNECTION_REQUEST_TIMEOUT:"CONNECTION_REQUEST_TIMEOUT",CONNECTION_REQUEST_FAILED:"CONNECTION_REQUEST_FAILED"},vx=class extends yt{constructor(a="Connection request timed out",t={}){super(a,{...t,code:cS.CONNECTION_REQUEST_TIMEOUT}),this.name="ConnectionRequestTimeoutError"}},_x=class extends yt{constructor(a="Connection request failed",t={}){super(a,{...t,code:cS.CONNECTION_REQUEST_FAILED}),this.name="ConnectionRequestFailedError"}},bx=class extends yt{constructor(a="Toolkit not found",t={}){super(a,{...t,code:"TOOLKIT_NOT_FOUND",possibleFixes:t.possibleFixes||["Ensure the toolkit is correctly configured and the slug is valid"]}),this.name="ComposioToolkitNotFoundError"}},e0=class extends yt{constructor(a="Failed to fetch toolkit",t={}){super(a,{...t,code:"TOOLKIT_FETCH_ERROR",possibleFixes:t.possibleFixes||["Ensure the toolkit slug is valid","Ensure you are using the correct API key","Ensure you are using the correct API endpoint / Base URL and it is working"]}),this.name="ComposioToolkitFetchError"}},Sx={VALIDATION_ERROR:"VALIDATION_ERROR"},pe=class extends yt{constructor(a="Input validation failed",t={}){const{cause:r,...s}=t;let l;r instanceof hn?l=r:l=new hn([{path:[],message:"Invalid input",code:"custom"}]);const c=l.issues.map(h=>`[${h.code}] ${h.path.join(".")} - ${h.message}`);super(a,{...s,code:t.code||Sx.VALIDATION_ERROR,possibleFixes:c,cause:l}),this.name="ValidationError";const d=this.generateUserFriendlyMessage();this.message=`${a}: ${d}`}generateUserFriendlyMessage(){if(this.cause instanceof hn&&this.cause.issues.length>0){const a=this.cause.issues[0],r=a.path.join(".")||"parameter";return a.code==="invalid_type"?`The ${r} should be a ${a.expected}, but you provided a ${a.received}`:a.message}return"Please check your input parameters"}},Ex=class extends yt{constructor(a="No Composio API key provided",t={}){super(a,{...t,code:"NO_API_KEY",cause:t.cause||"Couldn't find an API key in the params, environment variables or in the user config file",possibleFixes:t.possibleFixes||["Ensure you have an API key passed in the params, or in environment variable (COMPOSIO_API_KEY) or in the user config file","To get an API key, please sign up at https://composio.dev/signup","You can also use the Composio CLI to create a project and get an API key"],statusCode:401}),this.name="ComposioNoAPIKeyError"}},Vt={OAUTH2:"OAUTH2",OAUTH1:"OAUTH1",API_KEY:"API_KEY",BASIC:"BASIC",BILLCOM_AUTH:"BILLCOM_AUTH",BEARER_TOKEN:"BEARER_TOKEN",GOOGLE_SERVICE_ACCOUNT:"GOOGLE_SERVICE_ACCOUNT",NO_AUTH:"NO_AUTH",BASIC_WITH_JWT:"BASIC_WITH_JWT",COMPOSIO_LINK:"COMPOSIO_LINK",CALCOM_AUTH:"CALCOM_AUTH"},fS=Mt(["OAUTH2","OAUTH1","API_KEY","BASIC","BILLCOM_AUTH","BEARER_TOKEN","GOOGLE_SERVICE_ACCOUNT","NO_AUTH","BASIC_WITH_JWT","COMPOSIO_LINK","CALCOM_AUTH"]),Tx=q({type:ce("use_custom_auth"),name:_().optional(),credentials:et(_(),va([_(),Ue(),Ie()])),authScheme:fS,restrictToFollowingTools:X(_()).optional()}),wx=q({type:ce("use_composio_managed_auth"),name:_().optional(),credentials:et(_(),va([_(),Ue(),Ie()])).optional(),restrictToFollowingTools:X(_()).optional()}),Ax=Qt("type",[Tx,wx]),Rx=q({id:_(),authScheme:_(),isComposioManaged:Ie(),toolkit:_()}),dS=q({id:_(),name:_(),toolkit:q({logo:_(),slug:_()}),noOfConnections:Ue(),status:Mt(["ENABLED","DISABLED"]),uuid:_(),authScheme:fS.optional(),credentials:et(_(),re()).optional(),expectedInputFields:X(re()).optional(),restrictToFollowingTools:X(_()).optional(),isComposioManaged:Ie().optional(),createdBy:_().optional(),createdAt:_().optional(),lastUpdatedAt:_().optional()}),xx=q({cursor:_().optional(),isComposioManaged:Ie().optional(),limit:Ue().optional(),toolkit:_().optional()}),Ox=q({items:X(dS),nextCursor:_().nullable(),totalPages:Ue()}),Cx=q({credentials:et(_(),va([_(),re()])),type:ce("custom"),restrictToFollowingTools:X(_()).optional()}),Nx=q({scopes:_(),type:ce("default"),restrictToFollowingTools:X(_()).optional()}),Mx=Qt("type",[Cx,Nx]),Re={INITIALIZING:"INITIALIZING",INITIATED:"INITIATED",ACTIVE:"ACTIVE",FAILED:"FAILED",EXPIRED:"EXPIRED"};Mt([Vt.OAUTH1,Vt.OAUTH2,Vt.COMPOSIO_LINK]);var qn=q({subdomain:_().optional(),"your-domain":_().optional(),region:_().optional(),shop:_().optional(),account_url:_().optional(),COMPANYDOMAIN:_().optional(),extension:_().optional(),form_api_base_url:_().optional(),instanceEndpoint:_().optional(),api_url:_().optional(),borneo_dashboard_url:_().optional(),proxy_username:_().optional(),proxy_password:_().optional(),domain:_().optional(),version:_().optional(),dc:_().optional(),site_name:_().optional(),instanceName:_().optional(),account_id:_().optional(),your_server:_().optional(),server_location:_().optional(),base_url:_().optional()}).catchall(re()),Qs=qn.extend({status:ce(Re.INITIALIZING)}).catchall(re()),kx=Qs.extend({status:ce(Re.INITIATED),code_verifier:_().optional(),redirectUrl:_(),callback_url:_().optional(),finalRedirectUri:_().optional(),webhook_signature:_().optional()}).catchall(re()),Dx=Qs.extend({status:ce(Re.ACTIVE),access_token:_(),id_token:_().optional(),token_type:_(),refresh_token:_().optional(),expires_in:Ue().optional(),scope:_().optional(),webhook_signature:_().optional(),authed_user:q({access_token:_().optional(),scope:_().optional()}).optional().describe("for slack user scopes")}).catchall(re()),Ux=Qs.extend({status:ce(Re.FAILED),error:_().optional(),error_description:_().optional()}).catchall(re()),Lx=Qs.extend({status:ce(Re.EXPIRED),expired_at:_().optional()}).catchall(re()),Ix=Qt("status",[Qs,kx,Dx,Ux,Lx]),Js=qn.extend({status:ce(Re.INITIALIZING)}).catchall(re()),$x=Js.extend({status:ce(Re.INITIATED),oauth_token:_(),authUri:_(),oauth_token_secret:_(),redirectUrl:_(),callbackUrl:_().optional()}).catchall(re()),jx=Js.extend({status:ce(Re.ACTIVE),oauth_token:_(),consumer_key:_().optional(),redirectUrl:_().optional(),callback_url:_().optional()}).catchall(re()),qx=Js.extend({status:ce(Re.FAILED),error:_().optional(),error_description:_().optional()}).catchall(re()),zx=Js.extend({status:ce(Re.EXPIRED),expired_at:_().optional()}).catchall(re()),Bx=Qt("status",[Js,$x,jx,qx,zx]),Es=qn.extend({status:ce(Re.INITIALIZING)}).catchall(re()),Hx=Qt("status",[Es,Es.extend({status:ce(Re.INITIATED),redirectUrl:_()}).catchall(re()),Es.extend({status:ce(Re.ACTIVE)}).catchall(re()),Es.extend({status:ce(Re.FAILED),error:_().optional(),error_description:_().optional()}).catchall(re()),Es.extend({status:ce(Re.EXPIRED),expired_at:_().optional()}).catchall(re())]),Ts=qn.extend({status:ce(Re.INITIALIZING)}).catchall(re()),Px=Qt("status",[Ts,Ts.extend({status:ce(Re.INITIATED),redirectUrl:_()}).catchall(re()),Ts.extend({status:ce(Re.ACTIVE),sessionId:_(),devKey:_()}).catchall(re()),Ts.extend({status:ce(Re.FAILED),error:_().optional(),error_description:_().optional()}).catchall(re()),Ts.extend({status:ce(Re.EXPIRED),expired_at:_().optional()}).catchall(re())]),th=qn.extend({status:ce(Re.ACTIVE),username:_(),password:_()}).catchall(re()),Fx=Qt("status",[th,th.extend({status:ce(Re.FAILED),error:_().optional(),error_description:_().optional()}).catchall(re()),th.extend({status:ce(Re.EXPIRED),expired_at:_().optional()}).catchall(re())]),nh=qn.extend({status:ce(Re.ACTIVE),username:_(),password:_()}).catchall(re()),Zx=Qt("status",[nh,nh.extend({status:ce(Re.FAILED),error:_().optional(),error_description:_().optional()}).catchall(re()),nh.extend({status:ce(Re.EXPIRED),expired_at:_().optional()}).catchall(re())]),ah=qn.extend({status:ce(Re.ACTIVE),api_key:_()}).catchall(re()),Gx=Qt("status",[ah,ah.extend({status:ce(Re.FAILED),error:_().optional(),error_description:_().optional()}).catchall(re()),ah.extend({status:ce(Re.EXPIRED),expired_at:_().optional()}).catchall(re())]),rh=qn.extend({status:ce(Re.ACTIVE),token:_()}).catchall(re()),Vx=Qt("status",[rh,rh.extend({status:ce(Re.FAILED),error:_().optional(),error_description:_().optional()}).catchall(re()),rh.extend({status:ce(Re.EXPIRED),expired_at:_().optional()}).catchall(re())]),ih=qn.extend({status:ce(Re.ACTIVE),credentials_json:_()}).catchall(re()),Xx=Qt("status",[ih,ih.extend({status:ce(Re.FAILED),error:_().optional(),error_description:_().optional()}).catchall(re()),ih.extend({status:ce(Re.EXPIRED),expired_at:_().optional()}).catchall(re())]),sh=qn.extend({status:ce(Re.ACTIVE)}).catchall(re()),Yx=Qt("status",[sh,sh.extend({status:ce(Re.FAILED),error:_().optional(),error_description:_().optional()}).catchall(re()),sh.extend({status:ce(Re.EXPIRED),expired_at:_().optional()}).catchall(re())]),oh=qn.extend({status:ce(Re.ACTIVE)}).catchall(re()),Kx=Qt("status",[oh,oh.extend({status:ce(Re.FAILED),error:_().optional(),error_description:_().optional()}).catchall(re()),oh.extend({status:ce(Re.EXPIRED),expired_at:_().optional()}).catchall(re())]),hp=Qt("authScheme",[q({authScheme:ce(Vt.OAUTH1),val:Bx}),q({authScheme:ce(Vt.OAUTH2),val:Ix}),q({authScheme:ce(Vt.COMPOSIO_LINK),val:Hx}),q({authScheme:ce(Vt.API_KEY),val:Gx}),q({authScheme:ce(Vt.BASIC),val:Zx}),q({authScheme:ce(Vt.BEARER_TOKEN),val:Vx}),q({authScheme:ce(Vt.GOOGLE_SERVICE_ACCOUNT),val:Xx}),q({authScheme:ce(Vt.NO_AUTH),val:Yx}),q({authScheme:ce(Vt.CALCOM_AUTH),val:Kx}),q({authScheme:ce(Vt.BILLCOM_AUTH),val:Px}),q({authScheme:ce(Vt.BASIC_WITH_JWT),val:Fx})]),Dn={INITIALIZING:"INITIALIZING",INITIATED:"INITIATED",ACTIVE:"ACTIVE",FAILED:"FAILED",EXPIRED:"EXPIRED",INACTIVE:"INACTIVE"},pp=Mt([Dn.INITIALIZING,Dn.INITIATED,Dn.ACTIVE,Dn.FAILED,Dn.EXPIRED]);q({authConfig:q({id:_()}),connection:q({data:et(_(),re()).optional(),callbackUrl:_().optional(),userId:_().optional()})});q({auth_config:q({id:_()}),connection:q({state:hp.optional(),data:et(_(),re()).optional(),callback_url:_().optional(),user_id:_().optional()})});q({allowMultiple:Ie().optional(),callbackUrl:_().optional(),config:hp.optional()});q({id:_(),status:pp,redirectUrl:_().nullable()});var Qx=q({id:_(),isComposioManaged:Ie(),isDisabled:Ie()}),hS=q({id:_(),authConfig:Qx,data:et(_(),re()),params:et(_(),re()).optional(),status:pp,statusReason:_().nullable(),toolkit:q({slug:_()}),state:hp.optional(),testRequestEndpoint:_().optional(),isDisabled:Ie(),createdAt:_(),updatedAt:_()}),Jx=q({authConfigIds:X(_()).nullable().optional().describe("The auth config ids of the connected accounts"),cursor:Ue().nullable().optional().describe("The cursor to paginate through the connected accounts"),labels:X(_()).nullable().optional().describe("The labels of the connected accounts"),limit:Ue().nullable().optional().describe("The limit of the connected accounts to return"),orderBy:Mt(["created_at","updated_at"]).optional().describe("The order by of the connected accounts"),statuses:X(pp).nullable().optional().describe("The statuses of the connected accounts"),toolkitSlugs:X(_()).nullable().optional().describe("The toolkit slugs of the connected accounts"),userIds:X(_()).nullable().optional().describe("The user ids of the connected accounts")}),Wx=q({items:X(hS).describe("The list of connected accounts"),nextCursor:_().nullable().describe("The next cursor to paginate through the connected accounts"),totalPages:Ue().describe("The total number of pages of connected accounts")});function Zs(a){const t=hS.safeParse({...a,authConfig:{...a.auth_config,id:a.auth_config.id,isComposioManaged:a.auth_config.is_composio_managed,isDisabled:a.auth_config.is_disabled},state:a.state,status:a.status,statusReason:a.status_reason,isDisabled:a.is_disabled,createdAt:a.created_at,updatedAt:a.updated_at,testRequestEndpoint:a.test_request_endpoint});if(!t.success)throw new pe("Failed to parse connected account retrieve response",{cause:t.error});return t.data}var eO=class{client;customToolsRegistry;constructor(a){if(!a)throw new yt("ComposioClient is required");this.client=a,this.customToolsRegistry=new Map,pn.instrument(this)}async createTool(a){const{slug:t,execute:r,inputParams:s,name:l,description:c}=a;if(!t||!r||!s||!l)throw new Error("Invalid tool options");const h=(await GA(s,{name:"input"})).definitions.input,g={name:l,slug:t,description:c,inputParameters:{title:l,type:"object",description:c,properties:h.properties,required:h.required},outputParameters:{type:"object",title:`Response for ${l}`,properties:{}},tags:[],toolkit:{name:"custom",slug:"custom"}};return this.customToolsRegistry.set(t.toLowerCase(),{options:a,schema:g}),g}async getCustomTools({toolSlugs:a}){const t=[];if(a)for(const r of a){const s=this.customToolsRegistry.get(r.toLowerCase());s&&t.push(s.schema)}else return Array.from(this.customToolsRegistry.values()).map(r=>r.schema);return t}async getCustomToolBySlug(a){if(!a)throw new Error("Tool slug is required");try{return this.customToolsRegistry.get(a.toLowerCase())?.schema}catch(t){Y.error(`Error getting custom tool: ${t}`);return}}async getConnectedAccountForToolkit(a,t,r){try{await this.client.toolkits.retrieve(a)}catch(c){throw new ou(`Toolkit with slug ${a} not found`,{cause:c})}const s=await this.client.connectedAccounts.list({toolkit_slugs:[a],user_ids:[t]});if(!s.items.length)throw new yr(`No connected accounts found for toolkit ${a}`);const l=r?s.items.find(c=>c.id===r):s.items[0];if(!l)throw new yr(`Connected account not found for toolkit ${a} for user ${t}`);return Zs(l)}async executeCustomTool(a,t){const r=this.customToolsRegistry.get(a.toLowerCase());if(!r)throw new ou(`Tool with slug ${a} not found`);let s=null;const{toolkitSlug:l,execute:c,inputParams:d}=r.options;let h=t.connectedAccountId;if(l&&l!=="custom"){const y=await this.getConnectedAccountForToolkit(l,t.userId,t.connectedAccountId);if(Y.debug(`[CustomTool] Connected account for ${l} found for user ${t.userId}`,JSON.stringify(y,null,2)),!y)throw new yr(`Connected account not found for toolkit ${l} for user ${t.userId}`,{meta:{toolkitSlug:l,userId:t.userId}});s=y.state??null,h=y.id}if(typeof c!="function")throw new J_("Invalid execute function",{meta:{toolSlug:a}});const g=async y=>{if(l&&l==="custom")throw new J_("Custom tools without a toolkit cannot be executed using the executeToolRequest function",{possibleFixes:["Please manually execute the tool using your logic.","Pass a toolkit slug to execute the tool on behalf of a toolkit credentials"]});const S=y.parameters?.map(w=>({name:w.name,type:w.in,value:w.value.toString()}));return{data:(await this.client.tools.proxy({endpoint:y.endpoint,method:y.method,parameters:S,body:y.body,connected_account_id:y.connectedAccountId??h})).data,error:null,successful:!0,logId:void 0,sessionInfo:void 0}},m=d.safeParse(t.arguments);if(!m.success)throw new pe("Invalid input parameters",{cause:m.error});return c(m.data,s,g)}},tO={FILE_UPLOAD_FAILED:"FILE_UPLOAD_FAILED"},nO=class extends yt{constructor(a="Failed to upload file",t={}){super(a,{...t,code:tO.FILE_UPLOAD_FAILED,possibleFixes:t.possibleFixes||["Check if the file exists in the location provided"]}),this.name="ComposioFileUploadError"}},aO=async a=>{try{const t=Rn("fs").readFileSync(a);return{fileName:a,content:t.toString("base64"),mimeType:"application/octet-stream"}}catch(t){throw new Error(`Error reading file at ${a}: ${t}`)}},rO=async a=>{const t=await fetch(a);if(!t.ok)throw new Error(`Failed to fetch file: ${t.statusText}`);const r=await t.arrayBuffer(),s=Buffer.from(r),l=t.headers.get("content-type")||"application/octet-stream";return{content:s.toString("base64"),mimeType:l,fileName:a}},iO=async(a,t,r,s,l,c)=>{const d=await c.files.createPresignedURL({filename:a,mimetype:l,md5:Jb.createHash("md5").update(Buffer.from(t,"base64")).digest("hex"),tool_slug:r,toolkit_slug:s}),{key:h,type:g}=d;if(g==="new"||g==="update"){Y.debug(`Uploading ${h} file to S3: ${h}`);const m=Buffer.from(t,"base64"),y=d.type==="update"?d.update_presigned_url:d.new_presigned_url,S=await fetch(y,{method:"PUT",body:m,headers:{"Content-Type":l,"Content-Length":m.length.toString()}});if(!S.ok)throw new Error(`Failed to upload file to S3: ${S.statusText}`)}else Y.debug(`File already exists in S3: ${h}`);return h},sO=async a=>{if(a instanceof File){const t=await a.arrayBuffer();return{fileName:a.name,content:Buffer.from(t).toString("base64"),mimeType:a.type}}else if(typeof a=="string")return a.startsWith("http")?await rO(a):await aO(a);throw new Error("Invalid file type")},pS=async(a,{toolSlug:t,toolkitSlug:r,client:s})=>{if(!a)throw new Error("Either path or blob must be provided");const l=await sO(a);Y.debug("Uploading file to S3...");const c=await iO(Jb.basename(l.fileName),l.content,t,r,l.mimeType,s);return Y.debug(`Done! File uploaded to S3: ${c}`,JSON.stringify(l,null,2)),{name:l.fileName,mimetype:l.mimeType,s3key:c}},mS=async({toolSlug:a,s3Url:t,mimeType:r})=>{const s=await fetch(t);if(!s.ok)throw new Error(`Failed to download file: ${s.statusText}`);const l=await s.arrayBuffer(),c=r.split("/")[1]||"txt",d=`${a}_${Date.now()}.${c}`,h=uO(d,Buffer.from(l),!0);return{name:d,mimeType:r,s3Url:t,filePath:h}},oO=(a=!1)=>{try{const t=Rn("os"),r=Rn("path"),s=Rn("fs"),l=r.join(t.homedir(),Tu);return a&&!s.existsSync(l)&&s.mkdirSync(l,{recursive:!0}),l}catch{return null}},lO=(a=!1)=>{try{const t=Rn("os"),r=Rn("path"),s=Rn("fs"),l=r.join(t.homedir(),Tu,oS);return a&&!s.existsSync(l)&&s.mkdirSync(l,{recursive:!0}),l}catch{return null}},uO=(a,t,r=!1)=>{try{const s=Rn("path"),l=Rn("fs"),c=r?lO(!0):oO(!0),d=s.join(c,s.basename(a));return Y.info(`Saving file to: ${d}`),Buffer.isBuffer(t)?l.writeFileSync(d,t):l.writeFileSync(d,t,"utf8"),d}catch(s){return Y.debug(`Error saving file: ${s}`),null}},gS=a=>{const t={};for(const[r,s]of Object.entries(a))s.file_uploadable?t[r]={title:s.title,description:s.description,format:"path",type:"string",file_uploadable:!0}:s.type==="object"&&s.properties?t[r]={...s,properties:gS(s.properties)}:t[r]=s;return t},qh=async(a,t,r)=>{if(t?.file_uploadable)return typeof a!="string"&&!(a instanceof File)?a:(Y.debug(`Uploading file "${a}"`),pS(a,{toolSlug:r.toolSlug,toolkitSlug:r.toolkitSlug,client:r.client}));if(t?.type==="object"&&t.properties&&Bh(a)){const s={};for(const[l,c]of Object.entries(a))s[l]=await qh(c,t.properties[l],r);return s}if(t?.type==="array"&&t.items&&Array.isArray(a)){const s=Array.isArray(t.items)?t.items[0]:t.items;return Promise.all(a.map(l=>qh(l,s,r)))}return a},zh=async(a,t)=>{if(Bh(a)&&typeof a.s3url=="string"){const{s3url:r,mimetype:s}=a;try{Y.debug(`Downloading from S3: ${r}`);const l=await mS({toolSlug:t.toolSlug,s3Url:r,mimeType:s??"application/octet-stream"});return Y.debug(`Downloaded  ${l.filePath}`),{uri:l.filePath,file_downloaded:!!l.filePath,s3url:r,mimeType:l.mimeType}}catch(l){return Y.error(`Download failed: ${r}`,{cause:l}),{uri:"",file_downloaded:!1,s3url:r,mimeType:s??"application/octet-stream"}}}if(Bh(a)){const r=await Promise.all(Object.entries(a).map(async([s,l])=>[s,await zh(l,t)]));return Object.fromEntries(r)}return Array.isArray(a)?Promise.all(a.map(r=>zh(r,t))):a};function Bh(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)}var lh=class{client;constructor(a){this.client=a}async modifyToolSchema(a,t,r){if(!r.inputParameters?.properties)return r;const s=gS(r.inputParameters.properties);return{...r,inputParameters:{...r.inputParameters,properties:s}}}async fileUploadModifier(a,t){const{params:r,toolSlug:s,toolkitSlug:l="unknown"}=t,{arguments:c}=r;if(!c||typeof c!="object")return r;try{const d=await qh(c,a.inputParameters,{toolSlug:s,toolkitSlug:l,client:this.client});return{...r,arguments:d}}catch(d){throw new nO("Failed to upload file",{cause:d})}}async fileDownloadModifier(a,t){const{result:r,toolSlug:s}=t,l=await zh(r.data,{toolSlug:s});return{...r,data:l}}},cO=class{client;customTools;provider;autoUploadDownloadFiles;constructor(a,t,r){if(!a)throw new Error("ComposioClient is required");if(!t)throw new lx("Provider not passed into Tools instance");this.client=a,this.customTools=new eO(a),this.provider=t,this.autoUploadDownloadFiles=r?.autoUploadDownloadFiles??!0,this.execute=this.execute.bind(this),this.provider._setExecuteToolFn(this.execute),this.getRawComposioToolBySlug=this.getRawComposioToolBySlug.bind(this),this.getRawComposioTools=this.getRawComposioTools.bind(this),pn.instrument(this)}transformToolCases(a){return iS.parse({...a,inputParameters:a.input_parameters,outputParameters:a.output_parameters})}transformToolExecuteResponse(a){return ex.parse({data:a.data,error:a.error,successful:a.successful,logId:a.log_id,sessionInfo:a.session_info})}async checkIfConnectedAccountExistsForTools(a,t){if(!t.length)return!0;const r=await this.client.connectedAccounts.list({user_ids:a});if(r.items.length===0)return!1;const s=r.items.reduce((c,d)=>(d.toolkit.slug&&(c[d.toolkit.slug]=!0),c),{}),l=t.reduce((c,d)=>(c[d.slug]=!0,c),{});for(const c of Object.keys(l))if(!s[c])return Y.warn(`Tool ${c} requires a connected account but no connected account was found`),!1;return!0}async getConnectedAccountIdForTool(a,t){const r=await this.getRawComposioToolBySlug(t);if(!r.toolkit)throw new Error(`Unable to find toolkit for tool ${t}`);const s=await this.client.toolkits.retrieve(r.toolkit.slug);if(!s)throw new Error(`Unable to find toolkit for tool ${t}`);if(!s.auth_config_details?.some(c=>c.mode==="NO_AUTH")){const c=await this.client.connectedAccounts.list({user_ids:[a],toolkit_slugs:[r.toolkit.slug]});if(c.items.length===0)throw new Error("No connected accounts found");return Y.warn(`Using the first connected account for tool ${t}. To change this behaviour please explicitly pass a connectedAccountId for the tool`),c.items[0].id}return null}async applyDefaultSchemaModifiers(a){if(this.autoUploadDownloadFiles){const t=new lh(this.client);return await Promise.all(a.map(r=>t.modifyToolSchema(r.slug,r.toolkit?.slug??"unknown",r)))}else return a}async applyBeforeExecuteModifiers(a,{toolSlug:t,toolkitSlug:r,params:s},l){let c=s;if(this.autoUploadDownloadFiles&&(c=await new lh(this.client).fileUploadModifier(a,{toolSlug:t,toolkitSlug:r,params:c})),l)if(typeof l=="function")c=await l({toolSlug:t,toolkitSlug:r,params:c});else throw new li("Invalid beforeExecute modifier. Not a function.");return c}async applyAfterExecuteModifiers(a,{toolSlug:t,toolkitSlug:r,result:s},l){let c=s;if(this.autoUploadDownloadFiles&&(c=await new lh(this.client).fileDownloadModifier(a,{toolSlug:t,toolkitSlug:r,result:c})),l)if(typeof l=="function")c=await l({toolSlug:t,toolkitSlug:r,result:c});else throw new li("Invalid afterExecute modifier. Not a function.");return c}async getRawComposioTools(a,t){if("tools"in a&&"toolkits"in a)throw new pe("Invalid tool list parameters. You should not use tools and toolkits filter together.");const r=JR.safeParse(a);if(r.error)throw new pe("Invalid tool list parameters",{cause:r.error});if(!("tools"in r.data||"toolkits"in r.data||"search"in r.data))throw new pe("Invalid tool list parameters, atleast one of the following parameters is required: tools, toolkits, search");let s="limit"in r.data?r.data.limit?.toString():void 0;"tools"in r.data&&(s="9999");const l={..."tools"in r.data?{tool_slugs:r.data.tools?.join(",")}:{},..."toolkits"in r.data?{toolkit_slug:r.data.toolkits?.join(",")}:{},...s?{limit:s}:{},..."tags"in r.data?{tags:r.data.tags}:{},..."scopes"in r.data?{scopes:r.data.scopes}:{},..."search"in r.data?{search:r.data.search}:{}};Y.debug(`Fetching tools with filters: ${JSON.stringify(l,null,2)}`);const c=await this.client.tools.list(l);if(!c)return[];const d=c.items.map(m=>this.transformToolCases(m)),h=await this.customTools.getCustomTools({toolSlugs:"tools"in r.data?r.data.tools:void 0});let g=await this.applyDefaultSchemaModifiers([...d,...h]);if(t)if(typeof t=="function"){const m=g.map(y=>t({toolSlug:y.slug,toolkitSlug:y.toolkit?.slug??"unknown",schema:y}));g=await Promise.all(m)}else throw new li("Invalid schema modifier. Not a function.");return g}async getRawComposioToolBySlug(a,t){const r=await this.customTools.getCustomToolBySlug(a);if(r)return Y.debug(`Found ${a} to be a custom tool`,JSON.stringify(r,null,2)),r;Y.debug(`Tool ${a} is not a custom tool. Fetching from Composio API`);let s;try{s=await this.client.tools.retrieve(a)}catch(c){throw new ou(`Unable to retrieve tool with slug ${a}`,{cause:c})}let[l]=await this.applyDefaultSchemaModifiers([this.transformToolCases(s)]);if(t)if(typeof t=="function")l=await t({toolSlug:a,toolkitSlug:l.toolkit?.slug??"unknown",schema:l});else throw new li("Invalid schema modifier. Not a function.");return l}async get(a,t,r){const s=this.createExecuteToolFn(a,r);if(typeof t=="string"){const l=await this.getRawComposioToolBySlug(t,r?.modifySchema);return this.provider.wrapTools([l],s)}else{const l=await this.getRawComposioTools(t,r?.modifySchema);return this.provider.wrapTools(l,s)}}createExecuteToolFn(a,t){return async(s,l)=>await this.execute(s,{userId:a,arguments:l},t)}async handleCustomToolExecution(a,t,r){if(r?.beforeExecute)if(typeof r.beforeExecute=="function")t=await r.beforeExecute({toolSlug:a.slug,toolkitSlug:a.toolkit?.slug??"unknown",params:t});else throw new li("Invalid beforeExecute modifier. Not a function.");let s=await this.customTools.executeCustomTool(a.slug,t);if(r?.afterExecute)if(typeof r.afterExecute=="function")s=await r.afterExecute({toolSlug:a.slug,toolkitSlug:a.toolkit?.slug??"unknown",result:s});else throw new li("Invalid afterExecute modifier. Not a function.");return s}async handleComposioToolExecution(a,t,r){t=await this.applyBeforeExecuteModifiers(a,{toolSlug:a.slug,toolkitSlug:a.toolkit?.slug??"unknown",params:t},r?.beforeExecute);let s=t.connectedAccountId;s||(s=await this.getConnectedAccountIdForTool(t.userId,a.slug)||void 0);let l=await this.client.tools.execute(a.slug,{allow_tracing:t.allowTracing,connected_account_id:t.connectedAccountId,custom_auth_params:t.customAuthParams,arguments:t.arguments,user_id:t.userId,version:t.version,text:t.text});return l=this.transformToolExecuteResponse(l),l=await this.applyAfterExecuteModifiers(a,{toolSlug:a.slug,toolkitSlug:a.toolkit?.slug??"unknown",result:l},r?.afterExecute),l}async execute(a,t,r){if(!this.customTools)throw new ux("CustomTools not initialized. Make sure Tools class is properly constructed.");try{const s=await this.customTools.getCustomToolBySlug(a);if(s)return this.handleCustomToolExecution(s,t,r);{const l=await this.getRawComposioToolBySlug(a);if(!l)throw new ou(`Tool with slug ${a} not found`);return this.handleComposioToolExecution(l,t,r)}}catch(s){throw new cx(`Error executing tool ${a}`,{originalError:s,meta:{toolSlug:a,body:t}})}}async getToolsEnum(){return this.client.tools.retrieveEnum()}async getInput(a,t){return this.client.tools.getInput(a,t)}async proxyExecute(a){const t=tx.safeParse(a);if(!t.success)throw new pe("Invalid tool proxy parameters",{cause:t.error});const r=[],s={header:"header",query:"query"};return t.data.parameters&&r.push(...Object.entries(t.data.parameters).map(([l,c])=>({name:l,type:c.in==="header"?s.header:s.query,value:c.value.toString()}))),this.client.tools.proxy({endpoint:t.data.endpoint,method:t.data.method,body:t.data.body,connected_account_id:t.data.connectedAccountId,parameters:r})}async createCustomTool(a){return this.customTools.createTool(a)}},fO=Mt(["all","composio","project"]),dO=Mt(["usage","alphabetically"]),hO=q({category:_().optional(),isLocal:Ie().optional(),managedBy:fO.optional(),sortBy:dO.optional()}),yS=q({categories:X(q({slug:_(),name:_()})).optional(),appUrl:_().optional(),createdAt:_().optional(),description:_().optional(),logo:_().optional(),toolsCount:Ue().optional(),triggersCount:Ue().optional(),updatedAt:_().optional()}),vS=q({name:_(),slug:_(),meta:yS,isLocalToolkit:Ie(),authSchemes:X(_()).optional(),composioManagedAuthSchemes:X(_()).optional(),noAuth:Ie().optional()}),pO=X(vS),qs=q({name:_(),displayName:_(),type:_(),default:_().nullable().optional()}),mO=q({name:_(),mode:_(),fields:q({authConfigCreation:q({optional:X(qs),required:X(qs)}),connectedAccountInitiation:q({optional:X(qs),required:X(qs)})}),proxy:q({baseUrl:_().optional()}).optional()}),gO=q({name:_(),slug:_(),meta:yS,isLocalToolkit:Ie(),composioManagedAuthSchemes:X(_()).optional(),authConfigDetails:X(mO).optional()}),_S=q({id:_(),name:_()}),yO=q({items:X(_S),nextCursor:_().nullable(),totalPages:Ue()});X(qs.extend({required:Ie().optional()}));var bS=class{client;constructor(a){this.client=a,pn.instrument(this)}getClient(){return this.client}parseAuthConfigRetrieveResponse(a){const t=dS.safeParse({id:a.id,name:a.name,noOfConnections:a.no_of_connections,status:a.status,toolkit:{logo:a.toolkit.logo,slug:a.toolkit.slug},uuid:a.uuid,authScheme:a.auth_scheme,credentials:a.credentials,expectedInputFields:a.expected_input_fields,isComposioManaged:a.is_composio_managed,createdBy:a.created_by,createdAt:a.created_at,lastUpdatedAt:a.last_updated_at,restrictToFollowingTools:a.restrict_to_following_tools});if(t.error)throw new pe("Failed to parse auth config response",{cause:t.error});return t.data}async list(a){const t=a?xx.parse(a):void 0,r=await this.client.authConfigs.list({cursor:t?.cursor,is_composio_managed:t?.isComposioManaged,limit:t?.limit,toolkit_slug:t?.toolkit}),s=Ox.safeParse({items:r.items.map(l=>this.parseAuthConfigRetrieveResponse(l)),nextCursor:r.next_cursor,totalPages:r.total_pages});if(s.error)throw new pe("Failed to parse auth config list response",{cause:s.error});return s.data}async create(a,t={type:"use_composio_managed_auth"}){const r=Ax.safeParse(t);if(r.error)throw new pe("Failed to parse auth config create options",{cause:r.error});const s=await this.client.authConfigs.create({toolkit:{slug:a},auth_config:r.data.type==="use_custom_auth"?{type:r.data.type,name:r.data.name,authScheme:r.data.authScheme,credentials:r.data.credentials,restrict_to_following_tools:r.data.restrictToFollowingTools}:{type:r.data.type,credentials:r.data.credentials,name:r.data.name,restrict_to_following_tools:r.data.restrictToFollowingTools}}),l=Rx.safeParse({id:s.auth_config.id,authScheme:s.auth_config.auth_scheme,isComposioManaged:s.auth_config.is_composio_managed,toolkit:s.toolkit.slug});if(l.error)throw new pe("Failed to parse auth config create response",{cause:l.error});return l.data}async get(a){const t=await this.client.authConfigs.retrieve(a);return this.parseAuthConfigRetrieveResponse(t)}async update(a,t){const r=Mx.safeParse(t);if(r.error)throw new pe("Failed to parse auth config update data",{cause:r.error});return this.client.authConfigs.update(a,r.data.type==="custom"?{type:"custom",credentials:r.data.credentials,restrict_to_following_tools:r.data.restrictToFollowingTools}:{type:"default",scopes:r.data.scopes,restrict_to_following_tools:r.data.restrictToFollowingTools})}async delete(a){return this.client.authConfigs.delete(a)}async updateStatus(a,t){return this.client.authConfigs.updateStatus(a,{nanoid:t})}async enable(a){return this.client.authConfigs.updateStatus("ENABLED",{nanoid:a})}async disable(a){return this.client.authConfigs.updateStatus("DISABLED",{nanoid:a})}};function t0(a,t,r,s){const l={id:t,status:r||Dn.INITIATED,redirectUrl:s};pn.instrument(l);async function c(d=6e4){try{const y=await a.connectedAccounts.retrieve(l.id);if(y.status===Dn.ACTIVE)return l.status=Dn.ACTIVE,Zs(y)}catch(y){throw y instanceof ze.NotFoundError?new yr(`Connected account with id ${l.id} not found`,{meta:{connectedAccountId:l.id}}):y}const h=[Dn.FAILED,Dn.EXPIRED],g=Date.now(),m=1e3;for(;Date.now()-g<d;)try{const y=await a.connectedAccounts.retrieve(l.id);if(l.status=y.status,y.status===Dn.ACTIVE)return Zs(y);if(h.includes(y.status))throw new _x(`Connection request failed with status: ${y.status}${y.status_reason?`, reason: ${y.status_reason}`:""}`,{meta:{connectedAccountId:l.id,status:y.status,statusReason:y.status_reason}});await new Promise(S=>setTimeout(S,m))}catch(y){throw y}throw new vx(`Connection request timed out for ${l.id}`)}return{...l,waitForConnection:c,toJSON:()=>({...l}),toString:()=>JSON.stringify(l,null,2)}}var SS=class{client;constructor(a){this.client=a,pn.instrument(this)}async list(a){let t;if(a){const l=Jx.safeParse(a);if(!l.success)throw new pe("Failed to parse connected account list query",{cause:l.error});t={auth_config_ids:l.data.authConfigIds,cursor:l.data.cursor,labels:l.data.labels,limit:l.data.limit,order_by:l.data.orderBy,statuses:l.data.statuses,toolkit_slugs:l.data.toolkitSlugs,user_ids:l.data.userIds}}const r=await this.client.connectedAccounts.list(t),s=Wx.safeParse({items:r.items.map(Zs),nextCursor:r.next_cursor,totalPages:r.total_pages});if(!s.success)throw new pe("Failed to parse connected account list response",{cause:s.error});return s.data}async initiate(a,t,r){const s=await this.list({userIds:[a],authConfigIds:[t]});if(s.items.length>0&&!r?.allowMultiple)throw new dx(`Multiple connected accounts found for user ${a} in auth config ${t}`);s.items.length>0&&Y.warn(`[Warn:AllowMultiple] Multiple connected accounts found for user ${a} in auth config ${t}`);const l=await this.client.connectedAccounts.create({auth_config:{id:t},connection:{callback_url:r?.callbackUrl,user_id:a}}),c=typeof l.connectionData?.val?.redirectUrl=="string"?l.connectionData.val.redirectUrl:null;return t0(this.client,l.id,l.connectionData.val.status,c)}async waitForConnection(a,t=6e4){return t0(this.client,a).waitForConnection(t)}async get(a){const t=await this.client.connectedAccounts.retrieve(a);return Zs(t)}async delete(a){return this.client.connectedAccounts.delete(a)}async refresh(a){return this.client.connectedAccounts.refresh(a)}async updateStatus(a,t){return this.client.connectedAccounts.updateStatus(a,t)}async enable(a){return this.client.connectedAccounts.updateStatus(a,{enabled:!0})}async disable(a){return this.client.connectedAccounts.updateStatus(a,{enabled:!1})}},vO=class{client;constructor(a){this.client=a,this.authorize=this.authorize.bind(this),pn.instrument(this)}async getToolkits(a){try{const t=hO.safeParse(a);if(!t.success)throw new pe("Failed to parse toolkit list query",{cause:t.error});const r=await this.client.toolkits.list({category:t.data.category,is_local:t.data.isLocal,managed_by:t.data.managedBy,sort_by:t.data.sortBy}),s=pO.safeParse(r.items.map(l=>{const c=vS.safeParse({name:l.name,slug:l.slug,meta:{...l.meta,createdAt:l.meta.created_at,updatedAt:l.meta.updated_at,toolsCount:l.meta.tools_count,triggersCount:l.meta.triggers_count,categories:l.meta.categories,appUrl:l.meta.app_url,logo:l.meta.logo},isLocalToolkit:l.is_local_toolkit,authSchemes:l.auth_schemes,composioManagedAuthSchemes:l.composio_managed_auth_schemes,noAuth:l.no_auth});if(!c.success)throw new pe("Failed to parse toolkit response",{cause:c.error});return c.data}));if(!s.success)throw new pe("Failed to parse toolkit list response",{cause:s.error});return s.data}catch(t){throw new e0("Failed to fetch toolkits",{cause:t})}}async getToolkitBySlug(a){try{const t=await this.client.toolkits.retrieve(a),r=gO.safeParse({name:t.name,slug:t.slug,meta:{...t.meta,createdAt:t.meta.created_at,updatedAt:t.meta.updated_at,toolsCount:t.meta.tools_count,triggersCount:t.meta.triggers_count},isLocalToolkit:t.is_local_toolkit,composioManagedAuthSchemes:t.composio_managed_auth_schemes,authConfigDetails:t.auth_config_details?.map(s=>({name:s.name,mode:s.mode,fields:{authConfigCreation:s.fields.auth_config_creation,connectedAccountInitiation:s.fields.connected_account_initiation},proxy:{baseUrl:s.proxy?.base_url}}))});if(!r.success)throw new pe("Failed to parse toolkit response",{cause:r.error});return r.data}catch(t){throw t instanceof Qn&&(t.status===404||t.status===400)?new bx(`Toolkit with slug ${a} not found`,{meta:{slug:a},cause:t}):new e0(`Couldn't fetch Toolkit with slug: ${a}`,{meta:{slug:a},cause:t})}}async get(a){return typeof a=="string"?this.getToolkitBySlug(a):this.getToolkits(a)}async getAuthConfigFields(a,t,r,s){const l=await this.getToolkitBySlug(a);if(!l.authConfigDetails)throw new Sl("No auth config found for toolkit",{meta:{toolkitSlug:a}});l.authConfigDetails.length>1&&!t&&Y.warn(`Multiple auth configs found for ${a}, please specify the auth scheme to get details of specific auth scheme. Selecting the first scheme by default.`,{meta:{toolkitSlug:a}});const c=t?l.authConfigDetails.find(g=>g.mode===t):l.authConfigDetails[0];if(!c)throw new Sl(`Auth schema ${t} not found for toolkit ${a} with auth scheme ${t}`,{meta:{toolkitSlug:a,authScheme:t}});const d=c.fields[r].required.map(g=>({...g,required:!0}));if(s)return d;const h=c.fields[r].optional.map(g=>({...g,required:!1}));return[...d,...h]}async getAuthConfigCreationFields(a,t,{requiredOnly:r=!1}={}){return this.getAuthConfigFields(a,t??null,"authConfigCreation",r)}async getConnectedAccountInitiationFields(a,t,{requiredOnly:r=!1}={}){return this.getAuthConfigFields(a,t??null,"connectedAccountInitiation",r)}async listCategories(){const a=await this.client.toolkits.retrieveCategories(),t=yO.safeParse({items:a.items.map(r=>_S.parse({id:r.id,name:r.name})),nextCursor:a.next_cursor,totalPages:a.total_pages});if(!t.success)throw new pe("Failed to parse toolkit categories response",{cause:t.error});return t.data}async authorize(a,t){const r=await this.getToolkitBySlug(t),s=new bS(this.client);let l;if(l=(await s.list({toolkit:t})).items[0]?.id,!l)if(r.authConfigDetails&&r.authConfigDetails.length>0)try{l=(await s.create(t,{type:"use_composio_managed_auth",name:`${r.name} Auth Config`})).id}catch(h){throw h instanceof ze.APIError&&h.status===400?new Sl(`No Default auth config found for toolkit ${t}`,{meta:{toolkitSlug:t},cause:h,possibleFixes:[`Please Create an auth config for the toolkit ${t} via the dashboard`]}):h}else throw new Sl(`No auth configs found for toolkit ${t}`,{meta:{toolkitSlug:t}});return await new SS(this.client).initiate(a,l,{allowMultiple:!0})}};Mt(["enable","disable"]);var _O=q({toolkits:X(_()).optional(),triggerId:_().optional(),connectedAccountId:_().optional(),authConfigId:_().optional(),triggerSlug:X(_()).optional(),triggerData:_().optional(),userId:_().optional()}),bO=q({authConfigIds:X(_()).nullable().optional(),connectedAccountIds:X(_()).nullable().optional(),limit:Ue().optional(),page:Ue().optional(),showDisabled:Ie().nullable().optional(),triggerIds:X(_()).nullable().optional(),triggerNames:X(_()).nullable().optional()}),ES=q({id:_(),connectedAccountId:_(),disabledAt:_().nullable(),state:et(re()),triggerConfig:et(re()),triggerName:_(),updatedAt:_(),triggerData:_().optional(),uuid:_().optional()}),SO=q({items:X(ES),nextCursor:_().nullable(),totalPages:Ue()}),EO=q({connectedAccountId:_().optional(),triggerConfig:et(re()).optional()}),TO=q({triggerId:_()});q({status:Mt(["enable","disable"])});q({status:Mt(["success"])});var wO=q({triggerId:_()}),AO=q({id:_().describe("The ID of the trigger"),uuid:_().describe("The UUID of the trigger"),triggerSlug:_().describe("The slug of the trigger that triggered the event"),toolkitSlug:_().describe("The slug of the toolkit that triggered the event"),userId:_().describe("The ID of the user that triggered the event"),payload:et(re()).describe("The payload of the trigger").optional(),originalPayload:et(re()).describe("The original payload of the trigger").optional(),metadata:q({id:_(),uuid:_(),toolkitSlug:_(),triggerSlug:_(),triggerData:_().optional(),triggerConfig:et(re()),connectedAccount:q({id:_(),uuid:_(),authConfigId:_(),authConfigUUID:_(),userId:_(),status:Mt(["ACTIVE","INACTIVE"])})})}),RO=q({cursor:_().optional(),limit:Ue().nullish(),toolkits:X(_()).nullish()}),TS=q({slug:_(),name:_(),description:_(),instructions:_().optional(),toolkit:q({logo:_(),slug:_(),name:_()}),payload:et(re()),config:et(re())}),xO=q({items:X(TS),nextCursor:_().nullable(),totalPages:Ue()}),OO=q({projectId:_().describe("The project ID"),pusherKey:_().describe("The Pusher key"),pusherCluster:_().describe("The Pusher cluster")}),CO="/api/v3/internal/sdk/realtime/credentials",NO=class{constructor(a){this.client=a,this.client=a}async getSDKRealtimeCredentials(){const a=await this.client.request({method:"get",path:CO}),t=OO.safeParse({pusherKey:a.pusher_key,projectId:a.project_id,pusherCluster:a.pusher_cluster});if(Y.debug(`[InternalService] SDK realtime credentials: ${JSON.stringify(t,null,2)}`),!t.success)throw new pe("Failed to parse SDK realtime credentials",{cause:t.error});return t.data}},wu={TRIGGER_FAILED_TO_GET_SDK_REALTIME_CREDENTIALS:"TRIGGER_FAILED_TO_GET_SDK_REALTIME_CREDENTIALS",TRIGGER_FAILED_TO_CREATE_PUSHER_CLIENT:"TRIGGER_FAILED_TO_CREATE_PUSHER_CLIENT",TRIGGER_FAILED_TO_SUBSCRIBE_TO_PUSHER_CHANNEL:"TRIGGER_FAILED_TO_SUBSCRIBE_TO_PUSHER_CHANNEL",TRIGGER_TYPE_NOT_FOUND:"TRIGGER_TYPE_NOT_FOUND"},MO=class extends In{name="ComposioFailedToGetSDKRealtimeCredentialsError";code=wu.TRIGGER_FAILED_TO_GET_SDK_REALTIME_CREDENTIALS;statusCode=500;possibleFixes=["Please contact support."];constructor(a,t){super(a,t)}},kO=class extends In{name="ComposioFailedToCreatePusherClientError";code=wu.TRIGGER_FAILED_TO_CREATE_PUSHER_CLIENT;statusCode=500;possibleFixes=["Please contact support."];constructor(a,t){super(a,t)}},uh=class extends In{name="ComposioFailedToSubscribeToPusherChannelError";code=wu.TRIGGER_FAILED_TO_SUBSCRIBE_TO_PUSHER_CHANNEL;statusCode=500;possibleFixes=["Please contact support."];constructor(a,t){super(a,t)}},DO=class extends In{name="ComposioTriggerTypeNotFoundError";code=wu.TRIGGER_TYPE_NOT_FOUND;statusCode=404;possibleFixes=["Please contact support."];constructor(a="Trigger type not found",t){super(a,t)}},UO=class{clientId;pusherKey;pusherCluster;pusherChannel;pusherBaseURL;apiKey;pusherClient;composioClient;constructor(a){this.composioClient=a,this.pusherBaseURL=a.baseURL,this.apiKey=a.apiKey??rS.COMPOSIO_API_KEY??"",pn.instrument(this)}async getPusherClient(){if(!this.pusherClient){const a=new NO(this.composioClient);let t;try{t=await a.getSDKRealtimeCredentials()}catch(r){throw new MO("Failed to get SDK realtime credentials",{cause:r})}this.clientId=t.projectId,this.pusherKey=t.pusherKey,this.pusherCluster=t.pusherCluster,this.pusherChannel=`private-${this.clientId}_triggers`,Y.debug(`[PusherService] Creating Pusher client for client ID: ${this.clientId} in cluster ${this.pusherCluster}`);try{const{default:r}=await n1(async()=>{const{default:s}=await import("./pusher-DZggqrTD.js").then(l=>l.p);return{default:s}},[]);this.pusherClient=new r(this.pusherKey,{cluster:this.pusherCluster,channelAuthorization:{endpoint:`${this.pusherBaseURL}/api/v3/internal/sdk/realtime/auth`,headers:{"x-api-key":this.apiKey},transport:"ajax"}})}catch(r){throw new kO("Failed to create Pusher client",{cause:r})}}return this.pusherClient}bindWithChunking(a,t,r){try{a.bind(t,r);const s={};a.bind("chunked-"+t,l=>{try{const c=l;if(!c||typeof c.id!="string"||typeof c.index!="number")throw new Error("Invalid chunked trigger data format");s.hasOwnProperty(c.id)||(s[c.id]={chunks:[],receivedFinal:!1});const d=s[c.id];if(d.chunks[c.index]=c.chunk,c.final&&(d.receivedFinal=!0),d.receivedFinal&&d.chunks.length===Object.keys(d.chunks).length)try{const h=JSON.parse(d.chunks.join(""));r(h)}catch(h){const g=h instanceof Error?h.message:String(h);Y.error("Failed to parse chunked data:",g)}finally{delete s[c.id]}}catch(c){const d=c instanceof Error?c.message:String(c);Y.error("Error processing chunked trigger data:",d),l&&typeof l=="object"&&"id"in l&&delete s[l.id]}})}catch(s){const l=s instanceof Error?s.message:String(s);throw Y.error("Failed to bind chunked events:",s),new Error(`Failed to bind chunked events: ${l}`)}}async subscribe(a){try{Y.debug(`[PusherService] Subscribing to channel: ${this.pusherChannel}`);const r=await(await this.getPusherClient()).subscribe(this.pusherChannel);r.bind("pusher:subscription_error",l=>{const c=l.error?String(l.error):"Unknown subscription error";throw new uh(`Trigger subscription error: ${c}`,{cause:c})});const s=l=>{try{a(l)}catch(c){const d=c instanceof Error?c.message:String(c);Y.error(" Error in trigger callback:",d)}};this.bindWithChunking(r,"trigger_to_client",s),Y.info(" Subscribed to triggers. You should start receiving events now.")}catch(t){throw new uh("Failed to subscribe to Pusher channel",{cause:t})}}async unsubscribe(){try{Y.debug(`[PusherService] Unsubscribing from channel: ${this.pusherChannel}`),await(await this.getPusherClient()).unsubscribe(this.pusherChannel),Y.info(" Unsubscribed from triggers.")}catch(a){throw new uh("Failed to unsubscribe from Pusher channel",{cause:a})}}};function ch(a){return{with(t){return{using(r,s){const l=r(a),c=t.safeParse(l);if(!c.success)throw new pe(`Failed to transform${s?.label?` ${s.label}`:""}`,{cause:c.error});return c.data}}}}}var LO=class{client;pusherService;constructor(a){this.client=a,this.pusherService=new UO(a),pn.instrument(this)}parseTriggerInstanceListActiveItem(a){const t=ES.safeParse({id:a.id,connectedAccountId:a.connected_account_id,disabledAt:a.disabled_at,state:a.state,triggerConfig:a.trigger_config,triggerName:a.trigger_name,updatedAt:a.updated_at,triggerData:a.trigger_data,uuid:a.uuid});if(!t.success)throw new pe("Invalid trigger instance list active item",{cause:t.error});return t.data}async listActive(a){const t=bO.safeParse(a??{});if(!t.success)throw new pe("Invalid parameters passed to list triggers",{cause:t.error});const r=await this.client.triggerInstances.listActive(a?{auth_config_ids:t.data.authConfigIds,connected_account_ids:t.data.connectedAccountIds,limit:t.data.limit,page:t.data.page,show_disabled:t.data.showDisabled,trigger_ids:t.data.triggerIds,trigger_names:t.data.triggerNames}:void 0),s=SO.safeParse({items:r.items.map(l=>this.parseTriggerInstanceListActiveItem(l)),nextCursor:r.next_cursor,totalPages:r.total_pages});if(!s.success)throw new pe("Invalid trigger instance list active response",{cause:s.error});return s.data}async create(a,t,r){const s=EO.safeParse(r??{});if(!s.success)throw new pe("Invalid parameters passed to create trigger",{cause:s.error});let l,c;try{l=await this.getType(t),c=l.toolkit.slug}catch(m){throw m instanceof Yt&&(m.status===400||m.status===404)?new DO(`Trigger type ${t} not found`,{cause:m,possibleFixes:["Please check the trigger slug","Visit the toolkit page to see the available triggers"]}):m}let d=r?.connectedAccountId;try{const{items:m}=await this.client.connectedAccounts.list({user_ids:[a],toolkit_slugs:[c]});if(m.length===0)throw new yr(`No connected account found for user ${a} for toolkit ${c}`,{cause:new Error(`No connected account found for user ${a}`),possibleFixes:[`Create a new connected account for user ${a}`]});const y=m.some(S=>S.id===d);if(d&&!y)throw new yr(`Connected account ID ${d} not found for user ${a}`,{cause:new Error(`Connected account ID ${d} not found for user ${a}`),possibleFixes:[`Create a new connected account for user ${a}`,"Verify the connected account ID"]});d||(d=m[0].id,Y.warn(`[Warn] Multiple connected accounts found for user ${a}, using the first one. Pass connectedAccountId to select a specific account.`))}catch(m){throw m instanceof Yt&&[400,404].includes(m.status)?new yr(`No connected account found for user ${a} for toolkit ${c}`,{cause:m,possibleFixes:[`Create a new connected account for user ${a}`]}):m}const h=await this.client.triggerInstances.upsert(t,{connected_account_id:d,trigger_config:s.data.triggerConfig}),g=TO.safeParse({triggerId:h.trigger_id});if(!g.success)throw new pe("Invalid trigger instance upsert response",{cause:g.error});return g.data}async update(a,t){return this.client.triggerInstances.manage.update(a,t)}async delete(a){const t=await this.client.triggerInstances.manage.delete(a),r=wO.safeParse({triggerId:t.trigger_id});if(!r.success)throw new pe("Invalid trigger instance manage delete response",{cause:r.error});return r.data}async disable(a){return this.client.triggerInstances.manage.update(a,{status:"disable"})}async enable(a){return this.client.triggerInstances.manage.update(a,{status:"enable"})}async listTypes(a){const t=ch(a??{}).with(RO).using(l=>l),r=await this.client.triggersTypes.list({cursor:t.cursor,limit:t.limit,toolkit_slugs:t.toolkits});return ch(r).with(xO).using(l=>({items:l.items,nextCursor:l.next_cursor,totalPages:l.total_pages}))}async getType(a){const t=await this.client.triggersTypes.retrieve(a);return ch(t).with(TS).using(s=>({slug:s.slug,name:s.name,description:s.description,instructions:s.instructions,toolkit:{logo:s.toolkit.logo,slug:s.toolkit.slug,name:s.toolkit.name},payload:s.payload,config:s.config}))}async listEnum(){return this.client.triggersTypes.retrieveEnum()}shouldSendTriggerAfterFilters(a,t){return a.toolkits?.length&&!a.toolkits.map(r=>r.toLowerCase()).includes(t.toolkitSlug.toLowerCase())?(Y.debug("Trigger does not match toolkits filter",JSON.stringify(a.toolkits,null,2)),!1):a.triggerId&&a.triggerId!==t.id?(Y.debug("Trigger does not match triggerId filter",JSON.stringify(a.triggerId,null,2)),!1):a.connectedAccountId&&a.connectedAccountId!==t.metadata.connectedAccount.id?(Y.debug("Trigger does not match connectedAccountId filter",JSON.stringify(a.connectedAccountId,null,2)),!1):a.triggerSlug?.length&&!a.triggerSlug.map(r=>r.toLowerCase()).includes(t.triggerSlug.toLowerCase())?(Y.debug("Trigger does not match triggerSlug filter",JSON.stringify(a.triggerSlug,null,2)),!1):a.triggerData&&a.triggerData!==t.metadata.triggerData?(Y.debug("Trigger does not match triggerData filter",JSON.stringify(a.triggerData,null,2)),!1):a.userId&&a.userId!==t.metadata.connectedAccount.userId?(Y.debug("Trigger does not match userId filter",JSON.stringify(a.userId,null,2)),!1):(Y.debug("Trigger matches all filters",JSON.stringify(a,null,2)),!0)}async subscribe(a,t={}){if(!a)throw new Error("Function is required for trigger subscription");const r=_O.safeParse(t);if(!r.success)throw new pe("Invalid parameters passed to subscribe to triggers",{cause:r.error});Y.debug(" Subscribing to triggers with filters: ",JSON.stringify(t,null,2)),await this.pusherService.subscribe(s=>{Y.debug("Received raw trigger data",JSON.stringify(s,null,2));const l=s,c=AO.safeParse({id:l.metadata.nanoId,uuid:l.metadata.id,triggerSlug:l.metadata.triggerName,toolkitSlug:l.appName,userId:l.metadata.connection?.clientUniqueUserId,payload:l.payload,originalPayload:l.originalPayload,metadata:{id:l.metadata.nanoId,uuid:l.metadata.id,triggerConfig:l.metadata.triggerConfig,triggerSlug:l.metadata.triggerName,toolkitSlug:l.appName,triggerData:l.metadata.triggerData,connectedAccount:{id:l.metadata.connection?.connectedAccountNanoId,uuid:l.metadata.connection?.id,authConfigId:l.metadata.connection?.authConfigNanoId,authConfigUUID:l.metadata.connection?.integrationId,userId:l.metadata.connection?.clientUniqueUserId,status:l.metadata.connection?.status}}});if(Y.debug("Parsed trigger data",JSON.stringify(c.data,null,2)),c.error)throw new pe("Invalid trigger payload",{cause:c.error});if(this.shouldSendTriggerAfterFilters(r.data,c.data))try{a(c.data)}catch(d){Y.error(" Error in trigger callback:",d)}else Y.debug("Trigger does not match filters",JSON.stringify(r.data,null,2))})}async unsubscribe(){await this.pusherService.unsubscribe()}},IO=q({toolkit:_().min(1,"Toolkit name cannot be empty"),authConfigId:_().min(1,"Auth config ID cannot be empty"),allowedTools:X(_().min(1,"Tool name cannot be empty")).min(1,"At least one tool must be specified")}),$O=X(IO).min(1,"At least one toolkit configuration is required").refine(a=>{const t=a.map(s=>s.toolkit);return new Set(t).size===t.length},"Duplicate toolkits are not allowed. Each toolkit must be unique."),jO=q({useComposioManagedAuth:Ie().optional()}),qO=q({userId:_().min(1,"User ID cannot be empty").optional(),connectedAccountIds:et(_(),_().min(1,"Account ID cannot be empty")).optional()}).refine(a=>{const t=!!a.userId,r=!!a.connectedAccountIds&&Object.keys(a.connectedAccountIds).length>0;return t!==r},{message:"Must provide either userId or connectedAccountIds, but not both"});q({userIds:X(_()).optional(),connectedAccountIds:X(_()).optional(),useComposioManagedAuth:Ie().optional()});q({user_ids:X(_()).optional(),connected_account_ids:X(_()).optional(),mcp_server_id:_(),managed_auth_by_composio:Ie().optional()});var zO=q({userIds:X(_()).optional(),connectedAccountIds:X(_()).optional(),mcpServerId:_(),composioManagedAuth:Ie().optional()}),BO=q({connectedAccountUrls:X(_()).optional(),userIdsUrl:X(_()).optional(),mcpUrl:_().min(1,"MCP URL cannot be empty")}),n0=q({connected_account_urls:X(_()).optional(),user_ids_url:X(_()).optional(),mcp_url:_().min(1,"MCP URL cannot be empty")}),HO=q({name:_().describe("Name of the MCP server"),tools:X(_()).describe("List of allowed tools"),authConfigId:_().optional().describe("Auth config ID for the server")}),PO=q({name:_().describe("Name of the MCP server"),tools:X(_()).describe("List of allowed tools across toolkits"),toolkits:X(_()).describe("List of allowed toolkits")}),FO=q({id:_().describe("Unique identifier for the MCP server"),type:Mt(["single","multi"]).describe("Type of MCP server"),createdAt:_().describe("Creation timestamp"),updatedAt:_().describe("Last update timestamp"),status:Mt(["active","inactive","error"]).default("active"),config:va([HO,PO])});q({items:X(FO),total:Ue(),page:Ue(),pageSize:Ue()});q({name:_().optional().describe("New name for the server"),toolkits:X(_()).optional().describe("Updated list of toolkits"),allowedTools:X(_()).optional().describe("Updated list of allowed tools")});var ZO=q({id:_().min(1,"Server ID cannot be empty"),name:_().min(1,"Server name cannot be empty"),createdAt:_().nullish(),updatedAt:_().nullish(),status:_().nullish()}),GO=q({id:_().min(1,"Server ID cannot be empty"),name:_().min(1,"Server name cannot be empty"),created_at:_().nullish(),updated_at:_().nullish(),status:_().nullish()}),VO=q({items:X(q({id:_().min(1,"Server ID cannot be empty"),name:_().min(1,"Server name cannot be empty"),createdAt:_().optional(),updatedAt:_().optional(),status:_().optional()})).optional()}),XO=q({items:X(q({id:_().min(1,"Server ID cannot be empty"),name:_().min(1,"Server name cannot be empty"),created_at:_().optional(),updated_at:_().optional(),status:_().optional()})).optional()}),wS=q({id:_().min(1,"Server ID cannot be empty"),name:_().min(1,"Server name cannot be empty"),createdAt:_().optional(),updatedAt:_().optional(),status:_().optional(),toolkits:X(_()).optional(),tools:X(_()).optional(),managedAuthViaComposio:Ie().optional()});q({id:_().min(1,"Server ID cannot be empty"),name:_().min(1,"Server name cannot be empty"),created_at:_().optional(),updated_at:_().optional(),status:_().optional(),toolkits:X(_()).optional(),tools:X(_()).optional(),managed_auth_via_composio:Ie().optional()});var YO=q({id:_().min(1,"Server ID cannot be empty"),deleted:Ie().optional(),message:_().optional()}),KO=q({id:_().min(1,"Server ID cannot be empty"),deleted:Ie().optional(),message:_().optional()}),QO=q({id:_().min(1,"Server ID cannot be empty"),name:_().min(1,"Server name cannot be empty"),createdAt:_().optional(),updatedAt:_().optional(),status:_().optional(),toolkits:X(_()).optional(),tools:X(_()).optional()}),JO=q({id:_().min(1,"Server ID cannot be empty"),name:_().min(1,"Server name cannot be empty"),created_at:_().optional(),updated_at:_().optional(),status:_().optional(),toolkits:X(_()).optional(),tools:X(_()).optional()});function WO(a){const t=ZO.safeParse({id:a.id,name:a.name,createdAt:a.created_at,updatedAt:a.updated_at,status:a.status});if(!t.success)throw new pe("Failed to parse MCP create response",{cause:t.error});return t.data}function eC(a){const t=a.items?.map(s=>({id:s.id,name:s.name,createdAt:s.created_at,updatedAt:s.updated_at,status:s.status})),r=VO.safeParse({items:t});if(!r.success)throw new pe("Failed to parse MCP list response",{cause:r.error});return r.data}function tC(a){const t=wS.safeParse({id:a.id,name:a.name,createdAt:a.created_at,updatedAt:a.updated_at,status:a.status,toolkits:a.toolkits,tools:a.tools,managedAuthViaComposio:a.managed_auth_via_composio});if(!t.success)throw new pe("Failed to parse MCP retrieve response",{cause:t.error});return t.data}function nC(a){const t=YO.safeParse({id:a.id,deleted:a.deleted,message:a.message});if(!t.success)throw new pe("Failed to parse MCP delete response",{cause:t.error});return t.data}function aC(a){const t=QO.safeParse({id:a.id,name:a.name,createdAt:a.created_at,updatedAt:a.updated_at,status:a.status,toolkits:a.toolkits,tools:a.tools});if(!t.success)throw new pe("Failed to parse MCP update response",{cause:t.error});return t.data}function a0(a){const t=BO.safeParse({connectedAccountUrls:a.connected_account_urls,userIdsUrl:a.user_ids_url,mcpUrl:a.mcp_url});if(!t.success)throw new pe("Failed to parse MCP generate URL response",{cause:t.error});return t.data}var rC=class{client;provider;constructor(a,t){this.client=a,this.provider=t,pn.instrument(this)}validateInputs(a,t){const r=$O.safeParse(a);if(r.error)throw new pe("Failed to parse toolkit configurations",{cause:r.error});if(t!==void 0){const s=jO.safeParse(t);if(s.error)throw new pe("Failed to parse auth options",{cause:s.error})}}async create(a,t,r){this.validateInputs(t,r);const s=t.map(h=>h.toolkit);let l;try{l=await this.client.mcp.custom.create({name:a,toolkits:s,custom_tools:t.flatMap(h=>h.allowedTools),managed_auth_via_composio:r?.useComposioManagedAuth||!1,auth_config_ids:t.map(h=>h.authConfigId)})}catch(h){throw new pe("Failed to create MCP server",{cause:h})}const c=GO.safeParse(l);if(c.error)throw new pe("Failed to parse MCP server creation response",{cause:c.error});const d=WO(l);return{...d,toolkits:s,getServer:async h=>this.getServer(d.id,h,r)}}async getServer(a,t,r){const s=await this.get(a),l=qO.safeParse(t);if(l.error)throw new pe("Failed to parse get server parameters",{cause:l.error});const c=s.toolkits||[];if(l.data.connectedAccountIds){const y=Object.keys(l.data.connectedAccountIds).filter(S=>!c.includes(S));if(y.length>0)throw new pe(`Invalid toolkits provided: ${y.join(", ")}. Available toolkits are: ${c.join(", ")}`,{})}let d;try{d=await this.client.mcp.generate.url({user_ids:l.data.userId?[l.data.userId]:[],connected_account_ids:l.data.connectedAccountIds?Object.values(l.data.connectedAccountIds):[],mcp_server_id:a,managed_auth_by_composio:r?.useComposioManagedAuth??s.managedAuthViaComposio??!1})}catch(m){throw new pe("Failed to generate MCP server URL",{cause:m})}const h=n0.safeParse(d);if(h.error)throw new pe("Failed to parse MCP URL generation response",{cause:h.error});const g=a0(d);return this.wrapMcpServerResponse(g,s.name,l.data.connectedAccountIds?Object.values(l.data.connectedAccountIds):void 0,l.data.userId?[l.data.userId]:void 0,l.data.connectedAccountIds?Object.keys(l.data.connectedAccountIds):void 0)}async list(a){let t;try{t=await this.client.mcp.list({page_no:a.page||1,limit:a.limit||10,toolkits:a?.toolkits?.join(",")||"",auth_config_ids:a?.authConfigs?.join(",")||"",name:a?.name})}catch(s){throw new pe("Failed to list MCP servers",{cause:s})}const r=XO.safeParse(t);if(r.error)throw new pe("Failed to parse MCP server list response",{cause:r.error});return eC(t)}async get(a){let t;try{t=await this.client.mcp.retrieve(a)}catch(s){throw new pe("Failed to retrieve MCP server",{cause:s})}const r=wS.safeParse(t);if(r.error)throw new pe("Failed to parse MCP server retrieve response",{cause:r.error});return tC(t)}async delete(a){let t;try{t=await this.client.mcp.delete(a)}catch(s){throw new pe("Failed to delete MCP server",{cause:s})}const r=KO.safeParse(t);if(r.error)throw new pe("Failed to parse MCP server delete response",{cause:r.error});return nC(t)}async update(a,t,r,s){this.validateInputs(r,s);const l=r.map(h=>h.toolkit);let c;try{c=await this.client.mcp.update(a,{name:t,toolkits:l,allowed_tools:r.flatMap(h=>h.allowedTools),managed_auth_via_composio:s?.useComposioManagedAuth||!1})}catch(h){throw new pe("Failed to update MCP server",{cause:h})}const d=JO.safeParse(c);if(d.error)throw new pe("Failed to parse MCP server update response",{cause:d.error});return aC(c)}async generateUrl(a){const t=zO.safeParse(a);if(t.error)throw new pe("Failed to parse generateUrl parameters",{cause:t.error});let r;try{r=await this.client.mcp.generate.url({mcp_server_id:a.mcpServerId,user_ids:a.userIds,connected_account_ids:a.connectedAccountIds,managed_auth_by_composio:a.composioManagedAuth})}catch(l){throw new pe("Failed to generate MCP URL",{cause:l})}const s=n0.safeParse(r);if(s.error)throw new pe("Failed to parse MCP URL generation response",{cause:s.error});return a0(r)}wrapMcpServerResponse(a,t,r,s,l){if(this.provider&&typeof this.provider.wrapMcpServerResponse=="function"){let c;return a.connectedAccountUrls?.length?c=a.connectedAccountUrls.map((h,g)=>({name:t+"-"+r?.[g],url:h})):a.userIdsUrl?.length?c=a.userIdsUrl.map((h,g)=>({name:t+"-"+s?.[g],url:h})):c=[{name:t,url:a.mcpUrl}],this.provider.wrapMcpServerResponse(c)}return r?.length&&a.connectedAccountUrls?a.connectedAccountUrls.map((c,d)=>({url:new URL(c),name:`${t}-${r[d]}`,toolkit:l?.[d]})):s?.length&&a.userIdsUrl?a.userIdsUrl.map((c,d)=>({url:new URL(c),name:`${t}-${s[d]}`,toolkit:l?.[d]})):{url:new URL(a.mcpUrl),name:t}}},iC=()=>{try{const a=Rn("path"),t=Rn("os");return a.join(t.homedir(),Tu,sS)}catch{return Y.debug("Environment","Unable to get user data path"),null}},sC=()=>{try{const t=Rn("fs").readFileSync(iC(),"utf8");return JSON.parse(t)}catch{return Y.debug("Environment","No user data file found"),{}}};function oC(a,t){const r=sC(),{api_key:s,base_url:l}=r,c=a||_a("COMPOSIO_BASE_URL")||l||lS,d=t||_a("COMPOSIO_API_KEY")||s||"";return d||yt.handle(new Ex,{exitProcess:!0}),Y.debug("Environment",`API Key: ${d}`),Y.debug("Environment",`Base URL: ${c}`),{baseURL:c,apiKey:d}}async function lC(a){try{const t="@composio/core",r=a;if(!Wd.valid(r))return;const s=Wd.prerelease(r);if(s&&(String(s[0]).includes("alpha")||String(s[0]).includes("beta")))return;const d=(await(await fetch(`https://registry.npmjs.org/${t}/latest`)).json()).version;Wd.gt(d,r)&&!dp&&Y.info(` Upgrade available! Your composio-core version (${r}) is behind. Latest version: ${d}.`)}catch{}}var uC=class{_globalExecuteToolFn;_setExecuteToolFn(a){this._globalExecuteToolFn=a}executeTool(a,t,r){if(!this._globalExecuteToolFn)throw new fx("executeToolFn is not set");return this._globalExecuteToolFn(a,t,r)}},AS=class extends uC{_isAgentic=!1},cC=class extends AS{name="openai";constructor(){super()}wrapMcpServerResponse(a){return a.map(t=>({url:new URL(t.url),name:t.name}))}wrapTool=a=>({type:"function",function:{name:a.slug,description:a.description,parameters:a.inputParameters}});wrapTools=a=>a.map(t=>this.wrapTool(t));async executeToolCall(a,t,r,s){const l={arguments:JSON.parse(t.function.arguments),connectedAccountId:r?.connectedAccountId,customAuthParams:r?.customAuthParams,userId:a},c=await this.executeTool(t.function.name,l,s);return JSON.stringify(c)}async handleToolCalls(a,t,r,s){const l=[];for(const c of t.choices)if(c.message.tool_calls){const d=await this.executeToolCall(a,c.message.tool_calls[0],r,s);l.push({role:"tool",tool_call_id:c.message.tool_calls[0].id,content:d})}return l}async handleAssistantMessage(a,t,r,s){const l=t.required_action?.submit_tool_outputs?.tool_calls||[];return await Promise.all(l.map(async d=>{Y.debug(`Executing tool call: ${d.id}`);const h=await this.executeToolCall(a,d,r,s);return Y.debug(`Tool call ${d.id} executed with response: ${h}`),{tool_call_id:d.id,output:JSON.stringify(h)}}))}async*waitAndHandleAssistantStreamToolCalls(a,t,r,s,l,c){let d=null;for await(const g of r){if(yield g,g.event==="thread.run.created"){const{id:m}=g.data;d=m}if(d){if(g.event==="thread.run.requires_action"){const m=await this.handleAssistantMessage(a,g.data,l,c);await t.beta.threads.runs.submitToolOutputs(s.id,d,{tool_outputs:m})}if(["thread.run.completed","thread.run.failed","thread.run.cancelled","thread.run.expired"].includes(g.event))break}}if(!d)throw new Error("No run ID found");let h=await t.beta.threads.runs.retrieve(s.id,d);for(;["queued","in_progress","requires_action"].includes(h.status);)if(h.status==="requires_action"){const g=await this.handleAssistantMessage(a,h,l,c);h=await t.beta.threads.runs.submitToolOutputs(s.id,d,{tool_outputs:g})}else h=await t.beta.threads.runs.retrieve(s.id,d),await new Promise(g=>setTimeout(g,500))}async waitAndHandleAssistantToolCalls(a,t,r,s,l,c){for(;["queued","in_progress","requires_action"].includes(r.status);){const d=await this.handleAssistantMessage(a,r,l,c);r.status==="requires_action"?r=await t.beta.threads.runs.submitToolOutputs(s.id,r.id,{tool_outputs:d}):(r=await t.beta.threads.runs.retrieve(s.id,r.id),await new Promise(h=>setTimeout(h,500)))}return r}},r0="0.1.35",fC=class{constructor(t){this.client=t,pn.instrument(this)}async upload({file:t,toolSlug:r,toolkitSlug:s}){return await pS(t,{toolSlug:r,toolkitSlug:s,client:this.client})}async download({toolSlug:t,s3Url:r,mimeType:s}){return await mS({toolSlug:t,s3Url:r,mimeType:s})}},dC=class RS{client;config;tools;toolkits;triggers;provider;files;authConfigs;connectedAccounts;mcp;constructor(t){const{baseURL:r,apiKey:s}=oC(t?.baseURL,t?.apiKey);dp&&Y.debug(`Initializing Composio w API Key: [REDACTED] and baseURL: ${r}`),this.client=new ze({apiKey:s,baseURL:r,defaultHeaders:t?.defaultHeaders,logLevel:fp}),this.config={...t,allowTracking:t?.allowTracking??!0},this.provider=t?.provider??new cC,this.tools=new cO(this.client,this.provider,{autoUploadDownloadFiles:t?.autoUploadDownloadFiles??!0}),this.mcp=new rC(this.client,this.provider),this.toolkits=new vO(this.client),this.triggers=new LO(this.client),this.authConfigs=new bS(this.client),this.files=new fC(this.client),this.connectedAccounts=new SS(this.client),this.config.allowTracking&&pn.setup({apiKey:s??"",baseUrl:r??"",isAgentic:this.provider?._isAgentic||!1,version:r0,isBrowser:typeof window<"u",provider:this.provider?.name??"openai",host:this.config.host}),pn.instrument(this),pn.instrument(this.provider),lC(r0)}getClient(){if(!this.client)throw new Error("Composio client is not initialized. Please initialize it first.");return this.client}createSession(t){return new RS({...this.config,defaultHeaders:t?.headers})}},hC=class extends AS{name="anthropic";chacheTools=!1;constructor(a){super(),this.chacheTools=a?.cacheTools??!1,Y.debug(`AnthropicProvider initialized [cacheTools: ${this.chacheTools}]`)}wrapTool(a){return{name:a.slug,description:a.description||"",input_schema:a.inputParameters||{type:"object",properties:{},required:[]},cache_control:this.chacheTools?{type:"ephemeral"}:void 0}}wrapTools(a){return a.map(t=>this.wrapTool(t))}async executeToolCall(a,t,r,s){const l={arguments:t.input,connectedAccountId:r?.connectedAccountId,customAuthParams:r?.customAuthParams,userId:a},c=await this.executeTool(t.name,l,s);return JSON.stringify(c.data)}async handleToolCalls(a,t,r,s){const l=[],c=[];for(const d of t.content)typeof d=="object"&&d!==null&&"type"in d&&typeof d.type=="string"&&d.type.toString()==="tool_use"&&"id"in d&&"name"in d&&"input"in d&&c.push({type:"tool_use",id:String(d.id),name:String(d.name),input:d.input});for(const d of c){const h=await this.executeToolCall(a,d,r,s);l.push({type:"tool_result",tool_use_id:d.id,content:h,cache_control:this.chacheTools?{type:"ephemeral"}:void 0})}return l.length>0?[{role:"user",content:l}]:[]}wrapMcpServerResponse(a){return a.map(t=>({url:t.url,name:t.name,type:"url"}))}};function Ee(a,t,r,s,l){if(typeof t=="function"?a!==t||!0:!t.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(a,r),r}function B(a,t,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?a!==t||!s:!t.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(a):s?s.value:t.get(a)}let xS=function(){const{crypto:a}=globalThis;if(a?.randomUUID)return xS=a.randomUUID.bind(a),a.randomUUID();const t=new Uint8Array(1),r=a?()=>a.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^r()&15>>+s/4).toString(16))};function Gs(a){return typeof a=="object"&&a!==null&&("name"in a&&a.name==="AbortError"||"message"in a&&String(a.message).includes("FetchRequestCanceledException"))}const Hh=a=>{if(a instanceof Error)return a;if(typeof a=="object"&&a!==null){try{if(Object.prototype.toString.call(a)==="[object Error]"){const t=new Error(a.message,a.cause?{cause:a.cause}:{});return a.stack&&(t.stack=a.stack),a.cause&&!t.cause&&(t.cause=a.cause),a.name&&(t.name=a.name),t}}catch{}try{return new Error(JSON.stringify(a))}catch{}}return new Error(a)};class Oe extends Error{}class Lt extends Oe{constructor(t,r,s,l){super(`${Lt.makeMessage(t,r,s)}`),this.status=t,this.headers=l,this.requestID=l?.get("request-id"),this.error=r}static makeMessage(t,r,s){const l=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):s;return t&&l?`${t} ${l}`:t?`${t} status code (no body)`:l||"(no status code or body)"}static generate(t,r,s,l){if(!t||!l)return new Au({message:s,cause:Hh(r)});const c=r;return t===400?new CS(t,c,s,l):t===401?new NS(t,c,s,l):t===403?new MS(t,c,s,l):t===404?new kS(t,c,s,l):t===409?new DS(t,c,s,l):t===422?new US(t,c,s,l):t===429?new LS(t,c,s,l):t>=500?new IS(t,c,s,l):new Lt(t,c,s,l)}}class Un extends Lt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Au extends Lt{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class OS extends Au{constructor({message:t}={}){super({message:t??"Request timed out."})}}class CS extends Lt{}class NS extends Lt{}class MS extends Lt{}class kS extends Lt{}class DS extends Lt{}class US extends Lt{}class LS extends Lt{}class IS extends Lt{}const pC=/^[a-z][a-z0-9+.-]*:/i,mC=a=>pC.test(a);let Ph=a=>(Ph=Array.isArray,Ph(a)),i0=Ph;function s0(a){return typeof a!="object"?{}:a??{}}function gC(a){if(!a)return!0;for(const t in a)return!1;return!0}function yC(a,t){return Object.prototype.hasOwnProperty.call(a,t)}const vC=(a,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Oe(`${a} must be an integer`);if(t<0)throw new Oe(`${a} must be a positive integer`);return t},$S=a=>{try{return JSON.parse(a)}catch{return}},_C=a=>new Promise(t=>setTimeout(t,a)),hi="0.56.0",bC=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function SC(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const EC=()=>{const a=SC();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hi,"X-Stainless-OS":l0(Deno.build.os),"X-Stainless-Arch":o0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hi,"X-Stainless-OS":l0(globalThis.process.platform??"unknown"),"X-Stainless-Arch":o0(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=TC();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function TC(){if(typeof navigator>"u"||!navigator)return null;const a=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of a){const s=r.exec(navigator.userAgent);if(s){const l=s[1]||0,c=s[2]||0,d=s[3]||0;return{browser:t,version:`${l}.${c}.${d}`}}}return null}const o0=a=>a==="x32"?"x32":a==="x86_64"||a==="x64"?"x64":a==="arm"?"arm":a==="aarch64"||a==="arm64"?"arm64":a?`other:${a}`:"unknown",l0=a=>(a=a.toLowerCase(),a.includes("ios")?"iOS":a==="android"?"Android":a==="darwin"?"MacOS":a==="win32"?"Windows":a==="freebsd"?"FreeBSD":a==="openbsd"?"OpenBSD":a==="linux"?"Linux":a?`Other:${a}`:"Unknown");let u0;const wC=()=>u0??(u0=EC());function AC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Anthropic({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function jS(...a){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...a)}function qS(a){let t=Symbol.asyncIterator in a?a[Symbol.asyncIterator]():a[Symbol.iterator]();return jS({start(){},async pull(r){const{done:s,value:l}=await t.next();s?r.close():r.enqueue(l)},async cancel(){await t.return?.()}})}function mp(a){if(a[Symbol.asyncIterator])return a;const t=a.getReader();return{async next(){try{const r=await t.read();return r?.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function RC(a){if(a===null||typeof a!="object")return;if(a[Symbol.asyncIterator]){await a[Symbol.asyncIterator]().return?.();return}const t=a.getReader(),r=t.cancel();t.releaseLock(),await r}const xC=({headers:a,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});function OC(a){let t=0;for(const l of a)t+=l.length;const r=new Uint8Array(t);let s=0;for(const l of a)r.set(l,s),s+=l.length;return r}let c0;function gp(a){let t;return(c0??(t=new globalThis.TextEncoder,c0=t.encode.bind(t)))(a)}let f0;function d0(a){let t;return(f0??(t=new globalThis.TextDecoder,f0=t.decode.bind(t)))(a)}var cn,fn;class Ws{constructor(){cn.set(this,void 0),fn.set(this,void 0),Ee(this,cn,new Uint8Array),Ee(this,fn,null)}decode(t){if(t==null)return[];const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?gp(t):t;Ee(this,cn,OC([B(this,cn,"f"),r]));const s=[];let l;for(;(l=CC(B(this,cn,"f"),B(this,fn,"f")))!=null;){if(l.carriage&&B(this,fn,"f")==null){Ee(this,fn,l.index);continue}if(B(this,fn,"f")!=null&&(l.index!==B(this,fn,"f")+1||l.carriage)){s.push(d0(B(this,cn,"f").subarray(0,B(this,fn,"f")-1))),Ee(this,cn,B(this,cn,"f").subarray(B(this,fn,"f"))),Ee(this,fn,null);continue}const c=B(this,fn,"f")!==null?l.preceding-1:l.preceding,d=d0(B(this,cn,"f").subarray(0,c));s.push(d),Ee(this,cn,B(this,cn,"f").subarray(l.index)),Ee(this,fn,null)}return s}flush(){return B(this,cn,"f").length?this.decode(`
`):[]}}cn=new WeakMap,fn=new WeakMap;Ws.NEWLINE_CHARS=new Set([`
`,"\r"]);Ws.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function CC(a,t){for(let l=t??0;l<a.length;l++){if(a[l]===10)return{preceding:l,index:l+1,carriage:!1};if(a[l]===13)return{preceding:l,index:l+1,carriage:!0}}return null}function NC(a){for(let s=0;s<a.length-1;s++){if(a[s]===10&&a[s+1]===10||a[s]===13&&a[s+1]===13)return s+2;if(a[s]===13&&a[s+1]===10&&s+3<a.length&&a[s+2]===13&&a[s+3]===10)return s+4}return-1}const lu={off:0,error:200,warn:300,info:400,debug:500},h0=(a,t,r)=>{if(a){if(yC(lu,a))return a;qt(r).warn(`${t} was set to ${JSON.stringify(a)}, expected one of ${JSON.stringify(Object.keys(lu))}`)}};function zs(){}function El(a,t,r){return!t||lu[a]>lu[r]?zs:t[a].bind(t)}const MC={error:zs,warn:zs,info:zs,debug:zs};let p0=new WeakMap;function qt(a){const t=a.logger,r=a.logLevel??"off";if(!t)return MC;const s=p0.get(t);if(s&&s[0]===r)return s[1];const l={error:El("error",t,r),warn:El("warn",t,r),info:El("info",t,r),debug:El("debug",t,r)};return p0.set(t,[r,l]),l}const gr=a=>(a.options&&(a.options={...a.options},delete a.options.headers),a.headers&&(a.headers=Object.fromEntries((a.headers instanceof Headers?[...a.headers]:Object.entries(a.headers)).map(([t,r])=>[t,t.toLowerCase()==="x-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in a&&(a.retryOfRequestLogID&&(a.retryOf=a.retryOfRequestLogID),delete a.retryOfRequestLogID),a);var ws;class Xn{constructor(t,r,s){this.iterator=t,ws.set(this,void 0),this.controller=r,Ee(this,ws,s)}static fromSSEResponse(t,r,s){let l=!1;const c=s?qt(s):console;async function*d(){if(l)throw new Oe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let h=!1;try{for await(const g of kC(t,r)){if(g.event==="completion")try{yield JSON.parse(g.data)}catch(m){throw c.error("Could not parse message into JSON:",g.data),c.error("From chunk:",g.raw),m}if(g.event==="message_start"||g.event==="message_delta"||g.event==="message_stop"||g.event==="content_block_start"||g.event==="content_block_delta"||g.event==="content_block_stop")try{yield JSON.parse(g.data)}catch(m){throw c.error("Could not parse message into JSON:",g.data),c.error("From chunk:",g.raw),m}if(g.event!=="ping"&&g.event==="error")throw new Lt(void 0,$S(g.data)??g.data,void 0,t.headers)}h=!0}catch(g){if(Gs(g))return;throw g}finally{h||r.abort()}}return new Xn(d,r,s)}static fromReadableStream(t,r,s){let l=!1;async function*c(){const h=new Ws,g=mp(t);for await(const m of g)for(const y of h.decode(m))yield y;for(const m of h.flush())yield m}async function*d(){if(l)throw new Oe("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let h=!1;try{for await(const g of c())h||g&&(yield JSON.parse(g));h=!0}catch(g){if(Gs(g))return;throw g}finally{h||r.abort()}}return new Xn(d,r,s)}[(ws=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],r=[],s=this.iterator(),l=c=>({next:()=>{if(c.length===0){const d=s.next();t.push(d),r.push(d)}return c.shift()}});return[new Xn(()=>l(t),this.controller,B(this,ws,"f")),new Xn(()=>l(r),this.controller,B(this,ws,"f"))]}toReadableStream(){const t=this;let r;return jS({async start(){r=t[Symbol.asyncIterator]()},async pull(s){try{const{value:l,done:c}=await r.next();if(c)return s.close();const d=gp(JSON.stringify(l)+`
`);s.enqueue(d)}catch(l){s.error(l)}},async cancel(){await r.return?.()}})}}async function*kC(a,t){if(!a.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Oe("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Oe("Attempted to iterate over a response with no body");const r=new UC,s=new Ws,l=mp(a.body);for await(const c of DC(l))for(const d of s.decode(c)){const h=r.decode(d);h&&(yield h)}for(const c of s.flush()){const d=r.decode(c);d&&(yield d)}}async function*DC(a){let t=new Uint8Array;for await(const r of a){if(r==null)continue;const s=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?gp(r):r;let l=new Uint8Array(t.length+s.length);l.set(t),l.set(s,t.length),t=l;let c;for(;(c=NC(t))!==-1;)yield t.slice(0,c),t=t.slice(c)}t.length>0&&(yield t)}class UC{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,s,l]=LC(t,":");return l.startsWith(" ")&&(l=l.substring(1)),r==="event"?this.event=l:r==="data"&&this.data.push(l),null}}function LC(a,t){const r=a.indexOf(t);return r!==-1?[a.substring(0,r),t,a.substring(r+t.length)]:[a,"",""]}async function zS(a,t){const{response:r,requestLogID:s,retryOfRequestLogID:l,startTime:c}=t,d=await(async()=>{if(t.options.stream)return qt(a).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(r,t.controller,a):Xn.fromSSEResponse(r,t.controller,a);if(r.status===204)return null;if(t.options.__binaryResponse)return r;const g=r.headers.get("content-type")?.split(";")[0]?.trim();if(g?.includes("application/json")||g?.endsWith("+json")){const S=await r.json();return BS(S,r)}return await r.text()})();return qt(a).debug(`[${s}] response parsed`,gr({retryOfRequestLogID:l,url:r.url,status:r.status,body:d,durationMs:Date.now()-c})),d}function BS(a,t){return!a||typeof a!="object"||Array.isArray(a)?a:Object.defineProperty(a,"_request_id",{value:t.headers.get("request-id"),enumerable:!1})}var Bs;class Ru extends Promise{constructor(t,r,s=zS){super(l=>{l(null)}),this.responsePromise=r,this.parseResponse=s,Bs.set(this,void 0),Ee(this,Bs,t)}_thenUnwrap(t){return new Ru(B(this,Bs,"f"),this.responsePromise,async(r,s)=>BS(t(await this.parseResponse(r,s),s),s.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r,request_id:r.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(B(this,Bs,"f"),t))),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}Bs=new WeakMap;var Tl;class IC{constructor(t,r,s,l){Tl.set(this,void 0),Ee(this,Tl,t),this.options=l,this.response=r,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new Oe("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await B(this,Tl,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Tl=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const r of t.getPaginatedItems())yield r}}class $C extends Ru{constructor(t,r,s){super(t,r,async(l,c)=>new s(l,c.response,await zS(l,c),c.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const r of t)yield r}}class eo extends IC{constructor(t,r,s,l){super(t,r,s,l),this.data=s.data||[],this.has_more=s.has_more||!1,this.first_id=s.first_id||null,this.last_id=s.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){if(this.options.query?.before_id){const r=this.first_id;return r?{...this.options,query:{...s0(this.options.query),before_id:r}}:null}const t=this.last_id;return t?{...this.options,query:{...s0(this.options.query),after_id:t}}:null}}const HS=()=>{if(typeof File>"u"){const{process:a}=globalThis,t=typeof a?.versions?.node=="string"&&parseInt(a.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function gi(a,t,r){return HS(),new File(a,t??"unknown_file",r)}function Hl(a){return(typeof a=="object"&&a!==null&&("name"in a&&a.name&&String(a.name)||"url"in a&&a.url&&String(a.url)||"filename"in a&&a.filename&&String(a.filename)||"path"in a&&a.path&&String(a.path))||"").split(/[\\/]/).pop()||void 0}const PS=a=>a!=null&&typeof a=="object"&&typeof a[Symbol.asyncIterator]=="function",jC=async(a,t)=>({...a,body:await zC(a.body,t)}),m0=new WeakMap;function qC(a){const t=typeof a=="function"?a:a.fetch,r=m0.get(t);if(r)return r;const s=(async()=>{try{const l="Response"in t?t.Response:(await t("data:,")).constructor,c=new FormData;return c.toString()!==await new l(c).text()}catch{return!0}})();return m0.set(t,s),s}const zC=async(a,t)=>{if(!await qC(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const r=new FormData;return await Promise.all(Object.entries(a||{}).map(([s,l])=>Fh(r,s,l))),r},BC=a=>a instanceof Blob&&"name"in a,Fh=async(a,t,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")a.append(t,String(r));else if(r instanceof Response){let s={};const l=r.headers.get("Content-Type");l&&(s={type:l}),a.append(t,gi([await r.blob()],Hl(r),s))}else if(PS(r))a.append(t,gi([await new Response(qS(r)).blob()],Hl(r)));else if(BC(r))a.append(t,gi([r],Hl(r),{type:r.type}));else if(Array.isArray(r))await Promise.all(r.map(s=>Fh(a,t+"[]",s)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([s,l])=>Fh(a,`${t}[${s}]`,l)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}},FS=a=>a!=null&&typeof a=="object"&&typeof a.size=="number"&&typeof a.type=="string"&&typeof a.text=="function"&&typeof a.slice=="function"&&typeof a.arrayBuffer=="function",HC=a=>a!=null&&typeof a=="object"&&typeof a.name=="string"&&typeof a.lastModified=="number"&&FS(a),PC=a=>a!=null&&typeof a=="object"&&typeof a.url=="string"&&typeof a.blob=="function";async function FC(a,t,r){if(HS(),a=await a,t||(t=Hl(a)),HC(a))return a instanceof File&&t==null&&r==null?a:gi([await a.arrayBuffer()],t??a.name,{type:a.type,lastModified:a.lastModified,...r});if(PC(a)){const l=await a.blob();return t||(t=new URL(a.url).pathname.split(/[\\/]/).pop()),gi(await Zh(l),t,r)}const s=await Zh(a);if(!r?.type){const l=s.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof l=="string"&&(r={...r,type:l})}return gi(s,t,r)}async function Zh(a){let t=[];if(typeof a=="string"||ArrayBuffer.isView(a)||a instanceof ArrayBuffer)t.push(a);else if(FS(a))t.push(a instanceof Blob?a:await a.arrayBuffer());else if(PS(a))for await(const r of a)t.push(...await Zh(r));else{const r=a?.constructor?.name;throw new Error(`Unexpected data type: ${typeof a}${r?`; constructor: ${r}`:""}${ZC(a)}`)}return t}function ZC(a){return typeof a!="object"||a===null?"":`; props: [${Object.getOwnPropertyNames(a).map(r=>`"${r}"`).join(", ")}]`}class Sa{constructor(t){this._client=t}}const ZS=Symbol.for("brand.privateNullableHeaders");function*GC(a){if(!a)return;if(ZS in a){const{values:s,nulls:l}=a;yield*s.entries();for(const c of l)yield[c,null];return}let t=!1,r;a instanceof Headers?r=a.entries():i0(a)?r=a:(t=!0,r=Object.entries(a??{}));for(let s of r){const l=s[0];if(typeof l!="string")throw new TypeError("expected header name to be a string");const c=i0(s[1])?s[1]:[s[1]];let d=!1;for(const h of c)h!==void 0&&(t&&!d&&(d=!0,yield[l,null]),yield[l,h])}}const it=a=>{const t=new Headers,r=new Set;for(const s of a){const l=new Set;for(const[c,d]of GC(s)){const h=c.toLowerCase();l.has(h)||(t.delete(c),l.add(h)),d===null?(t.delete(c),r.add(h)):(t.append(c,d),r.delete(h))}}return{[ZS]:!0,values:t,nulls:r}};function GS(a){return a.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const g0=Object.freeze(Object.create(null)),VC=(a=GS)=>function(r,...s){if(r.length===1)return r[0];let l=!1;const c=[],d=r.reduce((y,S,A)=>{/[?#]/.test(S)&&(l=!0);const w=s[A];let z=(l?encodeURIComponent:a)(""+w);return A!==s.length&&(w==null||typeof w=="object"&&w.toString===Object.getPrototypeOf(Object.getPrototypeOf(w.hasOwnProperty??g0)??g0)?.toString)&&(z=w+"",c.push({start:y.length+S.length,length:z.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),y+S+(A===s.length?"":z)},""),h=d.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=g.exec(h))!==null;)c.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(c.sort((y,S)=>y.start-S.start),c.length>0){let y=0;const S=c.reduce((A,w)=>{const z=" ".repeat(w.start-y),D="^".repeat(w.length);return y=w.start+w.length,A+z+D},"");throw new Oe(`Path parameters result in path with invalid segments:
${c.map(A=>A.error).join(`
`)}
${d}
${S}`)}return d},Ln=VC(GS);class VS extends Sa{list(t={},r){const{betas:s,...l}=t??{};return this._client.getAPIList("/v1/files",eo,{query:l,...r,headers:it([{"anthropic-beta":[...s??[],"files-api-2025-04-14"].toString()},r?.headers])})}delete(t,r={},s){const{betas:l}=r??{};return this._client.delete(Ln`/v1/files/${t}`,{...s,headers:it([{"anthropic-beta":[...l??[],"files-api-2025-04-14"].toString()},s?.headers])})}download(t,r={},s){const{betas:l}=r??{};return this._client.get(Ln`/v1/files/${t}/content`,{...s,headers:it([{"anthropic-beta":[...l??[],"files-api-2025-04-14"].toString(),Accept:"application/binary"},s?.headers]),__binaryResponse:!0})}retrieveMetadata(t,r={},s){const{betas:l}=r??{};return this._client.get(Ln`/v1/files/${t}`,{...s,headers:it([{"anthropic-beta":[...l??[],"files-api-2025-04-14"].toString()},s?.headers])})}upload(t,r){const{betas:s,...l}=t;return this._client.post("/v1/files",jC({body:l,...r,headers:it([{"anthropic-beta":[...s??[],"files-api-2025-04-14"].toString()},r?.headers])},this._client))}}let XS=class extends Sa{retrieve(t,r={},s){const{betas:l}=r??{};return this._client.get(Ln`/v1/models/${t}?beta=true`,{...s,headers:it([{...l?.toString()!=null?{"anthropic-beta":l?.toString()}:void 0},s?.headers])})}list(t={},r){const{betas:s,...l}=t??{};return this._client.getAPIList("/v1/models?beta=true",eo,{query:l,...r,headers:it([{...s?.toString()!=null?{"anthropic-beta":s?.toString()}:void 0},r?.headers])})}};class xu{constructor(t,r){this.iterator=t,this.controller=r}async*decoder(){const t=new Ws;for await(const r of this.iterator)for(const s of t.decode(r))yield JSON.parse(s);for(const r of t.flush())yield JSON.parse(r)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(t,r){if(!t.body)throw r.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Oe("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Oe("Attempted to iterate over a response with no body");return new xu(mp(t.body),r)}}let YS=class extends Sa{create(t,r){const{betas:s,...l}=t;return this._client.post("/v1/messages/batches?beta=true",{body:l,...r,headers:it([{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString()},r?.headers])})}retrieve(t,r={},s){const{betas:l}=r??{};return this._client.get(Ln`/v1/messages/batches/${t}?beta=true`,{...s,headers:it([{"anthropic-beta":[...l??[],"message-batches-2024-09-24"].toString()},s?.headers])})}list(t={},r){const{betas:s,...l}=t??{};return this._client.getAPIList("/v1/messages/batches?beta=true",eo,{query:l,...r,headers:it([{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString()},r?.headers])})}delete(t,r={},s){const{betas:l}=r??{};return this._client.delete(Ln`/v1/messages/batches/${t}?beta=true`,{...s,headers:it([{"anthropic-beta":[...l??[],"message-batches-2024-09-24"].toString()},s?.headers])})}cancel(t,r={},s){const{betas:l}=r??{};return this._client.post(Ln`/v1/messages/batches/${t}/cancel?beta=true`,{...s,headers:it([{"anthropic-beta":[...l??[],"message-batches-2024-09-24"].toString()},s?.headers])})}async results(t,r={},s){const l=await this.retrieve(t);if(!l.results_url)throw new Oe(`No batch \`results_url\`; Has it finished processing? ${l.processing_status} - ${l.id}`);const{betas:c}=r??{};return this._client.get(l.results_url,{...s,headers:it([{"anthropic-beta":[...c??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary"},s?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((d,h)=>xu.fromResponse(h.response,h.controller))}};const XC=a=>{let t=0,r=[];for(;t<a.length;){let s=a[t];if(s==="\\"){t++;continue}if(s==="{"){r.push({type:"brace",value:"{"}),t++;continue}if(s==="}"){r.push({type:"brace",value:"}"}),t++;continue}if(s==="["){r.push({type:"paren",value:"["}),t++;continue}if(s==="]"){r.push({type:"paren",value:"]"}),t++;continue}if(s===":"){r.push({type:"separator",value:":"}),t++;continue}if(s===","){r.push({type:"delimiter",value:","}),t++;continue}if(s==='"'){let h="",g=!1;for(s=a[++t];s!=='"';){if(t===a.length){g=!0;break}if(s==="\\"){if(t++,t===a.length){g=!0;break}h+=s+a[t],s=a[++t]}else h+=s,s=a[++t]}s=a[++t],g||r.push({type:"string",value:h});continue}if(s&&/\s/.test(s)){t++;continue}let c=/[0-9]/;if(s&&c.test(s)||s==="-"||s==="."){let h="";for(s==="-"&&(h+=s,s=a[++t]);s&&c.test(s)||s===".";)h+=s,s=a[++t];r.push({type:"number",value:h});continue}let d=/[a-z]/i;if(s&&d.test(s)){let h="";for(;s&&d.test(s)&&t!==a.length;)h+=s,s=a[++t];if(h=="true"||h=="false"||h==="null")r.push({type:"name",value:h});else{t++;continue}continue}t++}return r},pi=a=>{if(a.length===0)return a;let t=a[a.length-1];switch(t.type){case"separator":return a=a.slice(0,a.length-1),pi(a);case"number":let r=t.value[t.value.length-1];if(r==="."||r==="-")return a=a.slice(0,a.length-1),pi(a);case"string":let s=a[a.length-2];if(s?.type==="delimiter")return a=a.slice(0,a.length-1),pi(a);if(s?.type==="brace"&&s.value==="{")return a=a.slice(0,a.length-1),pi(a);break;case"delimiter":return a=a.slice(0,a.length-1),pi(a)}return a},YC=a=>{let t=[];return a.map(r=>{r.type==="brace"&&(r.value==="{"?t.push("}"):t.splice(t.lastIndexOf("}"),1)),r.type==="paren"&&(r.value==="["?t.push("]"):t.splice(t.lastIndexOf("]"),1))}),t.length>0&&t.reverse().map(r=>{r==="}"?a.push({type:"brace",value:"}"}):r==="]"&&a.push({type:"paren",value:"]"})}),a},KC=a=>{let t="";return a.map(r=>{switch(r.type){case"string":t+='"'+r.value+'"';break;default:t+=r.value;break}}),t},KS=a=>JSON.parse(KC(YC(pi(XC(a)))));var wn,Va,As,wl,Rs,xs,Al,Os,ha,Cs,Rl,xl,ui,Ol,Cl,fh,y0,Nl,dh,hh,ph,v0;const _0="__json_buf";function b0(a){return a.type==="tool_use"||a.type==="server_tool_use"||a.type==="mcp_tool_use"}class uu{constructor(){wn.add(this),this.messages=[],this.receivedMessages=[],Va.set(this,void 0),this.controller=new AbortController,As.set(this,void 0),wl.set(this,()=>{}),Rs.set(this,()=>{}),xs.set(this,void 0),Al.set(this,()=>{}),Os.set(this,()=>{}),ha.set(this,{}),Cs.set(this,!1),Rl.set(this,!1),xl.set(this,!1),ui.set(this,!1),Ol.set(this,void 0),Cl.set(this,void 0),Nl.set(this,t=>{if(Ee(this,Rl,!0),Gs(t)&&(t=new Un),t instanceof Un)return Ee(this,xl,!0),this._emit("abort",t);if(t instanceof Oe)return this._emit("error",t);if(t instanceof Error){const r=new Oe(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new Oe(String(t)))}),Ee(this,As,new Promise((t,r)=>{Ee(this,wl,t,"f"),Ee(this,Rs,r,"f")})),Ee(this,xs,new Promise((t,r)=>{Ee(this,Al,t,"f"),Ee(this,Os,r,"f")})),B(this,As,"f").catch(()=>{}),B(this,xs,"f").catch(()=>{})}get response(){return B(this,Ol,"f")}get request_id(){return B(this,Cl,"f")}async withResponse(){const t=await B(this,As,"f");if(!t)throw new Error("Could not resolve a `Response` object");return{data:this,response:t,request_id:t.headers.get("request-id")}}static fromReadableStream(t){const r=new uu;return r._run(()=>r._fromReadableStream(t)),r}static createMessage(t,r,s){const l=new uu;for(const c of r.messages)l._addMessageParam(c);return l._run(()=>l._createMessage(t,{...r,stream:!0},{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),l}_run(t){t().then(()=>{this._emitFinal(),this._emit("end")},B(this,Nl,"f"))}_addMessageParam(t){this.messages.push(t)}_addMessage(t,r=!0){this.receivedMessages.push(t),r&&this._emit("message",t)}async _createMessage(t,r,s){const l=s?.signal;let c;l&&(l.aborted&&this.controller.abort(),c=this.controller.abort.bind(this.controller),l.addEventListener("abort",c));try{B(this,wn,"m",dh).call(this);const{response:d,data:h}=await t.create({...r,stream:!0},{...s,signal:this.controller.signal}).withResponse();this._connected(d);for await(const g of h)B(this,wn,"m",hh).call(this,g);if(h.controller.signal?.aborted)throw new Un;B(this,wn,"m",ph).call(this)}finally{l&&c&&l.removeEventListener("abort",c)}}_connected(t){this.ended||(Ee(this,Ol,t),Ee(this,Cl,t?.headers.get("request-id")),B(this,wl,"f").call(this,t),this._emit("connect"))}get ended(){return B(this,Cs,"f")}get errored(){return B(this,Rl,"f")}get aborted(){return B(this,xl,"f")}abort(){this.controller.abort()}on(t,r){return(B(this,ha,"f")[t]||(B(this,ha,"f")[t]=[])).push({listener:r}),this}off(t,r){const s=B(this,ha,"f")[t];if(!s)return this;const l=s.findIndex(c=>c.listener===r);return l>=0&&s.splice(l,1),this}once(t,r){return(B(this,ha,"f")[t]||(B(this,ha,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,s)=>{Ee(this,ui,!0),t!=="error"&&this.once("error",s),this.once(t,r)})}async done(){Ee(this,ui,!0),await B(this,xs,"f")}get currentMessage(){return B(this,Va,"f")}async finalMessage(){return await this.done(),B(this,wn,"m",fh).call(this)}async finalText(){return await this.done(),B(this,wn,"m",y0).call(this)}_emit(t,...r){if(B(this,Cs,"f"))return;t==="end"&&(Ee(this,Cs,!0),B(this,Al,"f").call(this));const s=B(this,ha,"f")[t];if(s&&(B(this,ha,"f")[t]=s.filter(l=>!l.once),s.forEach(({listener:l})=>l(...r))),t==="abort"){const l=r[0];!B(this,ui,"f")&&!s?.length&&Promise.reject(l),B(this,Rs,"f").call(this,l),B(this,Os,"f").call(this,l),this._emit("end");return}if(t==="error"){const l=r[0];!B(this,ui,"f")&&!s?.length&&Promise.reject(l),B(this,Rs,"f").call(this,l),B(this,Os,"f").call(this,l),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",B(this,wn,"m",fh).call(this))}async _fromReadableStream(t,r){const s=r?.signal;let l;s&&(s.aborted&&this.controller.abort(),l=this.controller.abort.bind(this.controller),s.addEventListener("abort",l));try{B(this,wn,"m",dh).call(this),this._connected(null);const c=Xn.fromReadableStream(t,this.controller);for await(const d of c)B(this,wn,"m",hh).call(this,d);if(c.controller.signal?.aborted)throw new Un;B(this,wn,"m",ph).call(this)}finally{s&&l&&s.removeEventListener("abort",l)}}[(Va=new WeakMap,As=new WeakMap,wl=new WeakMap,Rs=new WeakMap,xs=new WeakMap,Al=new WeakMap,Os=new WeakMap,ha=new WeakMap,Cs=new WeakMap,Rl=new WeakMap,xl=new WeakMap,ui=new WeakMap,Ol=new WeakMap,Cl=new WeakMap,Nl=new WeakMap,wn=new WeakSet,fh=function(){if(this.receivedMessages.length===0)throw new Oe("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},y0=function(){if(this.receivedMessages.length===0)throw new Oe("stream ended without producing a Message with role=assistant");const r=this.receivedMessages.at(-1).content.filter(s=>s.type==="text").map(s=>s.text);if(r.length===0)throw new Oe("stream ended without producing a content block with type=text");return r.join(" ")},dh=function(){this.ended||Ee(this,Va,void 0)},hh=function(r){if(this.ended)return;const s=B(this,wn,"m",v0).call(this,r);switch(this._emit("streamEvent",r,s),r.type){case"content_block_delta":{const l=s.content.at(-1);switch(r.delta.type){case"text_delta":{l.type==="text"&&this._emit("text",r.delta.text,l.text||"");break}case"citations_delta":{l.type==="text"&&this._emit("citation",r.delta.citation,l.citations??[]);break}case"input_json_delta":{b0(l)&&l.input&&this._emit("inputJson",r.delta.partial_json,l.input);break}case"thinking_delta":{l.type==="thinking"&&this._emit("thinking",r.delta.thinking,l.thinking);break}case"signature_delta":{l.type==="thinking"&&this._emit("signature",l.signature);break}default:r.delta}break}case"message_stop":{this._addMessageParam(s),this._addMessage(s,!0);break}case"content_block_stop":{this._emit("contentBlock",s.content.at(-1));break}case"message_start":{Ee(this,Va,s);break}}},ph=function(){if(this.ended)throw new Oe("stream has ended, this shouldn't happen");const r=B(this,Va,"f");if(!r)throw new Oe("request ended without sending any chunks");return Ee(this,Va,void 0),r},v0=function(r){let s=B(this,Va,"f");if(r.type==="message_start"){if(s)throw new Oe(`Unexpected event order, got ${r.type} before receiving "message_stop"`);return r.message}if(!s)throw new Oe(`Unexpected event order, got ${r.type} before "message_start"`);switch(r.type){case"message_stop":return s;case"message_delta":return s.container=r.delta.container,s.stop_reason=r.delta.stop_reason,s.stop_sequence=r.delta.stop_sequence,s.usage.output_tokens=r.usage.output_tokens,r.usage.input_tokens!=null&&(s.usage.input_tokens=r.usage.input_tokens),r.usage.cache_creation_input_tokens!=null&&(s.usage.cache_creation_input_tokens=r.usage.cache_creation_input_tokens),r.usage.cache_read_input_tokens!=null&&(s.usage.cache_read_input_tokens=r.usage.cache_read_input_tokens),r.usage.server_tool_use!=null&&(s.usage.server_tool_use=r.usage.server_tool_use),s;case"content_block_start":return s.content.push(r.content_block),s;case"content_block_delta":{const l=s.content.at(r.index);switch(r.delta.type){case"text_delta":{l?.type==="text"&&(s.content[r.index]={...l,text:(l.text||"")+r.delta.text});break}case"citations_delta":{l?.type==="text"&&(s.content[r.index]={...l,citations:[...l.citations??[],r.delta.citation]});break}case"input_json_delta":{if(l&&b0(l)){let c=l[_0]||"";c+=r.delta.partial_json;const d={...l};if(Object.defineProperty(d,_0,{value:c,enumerable:!1,writable:!0}),c)try{d.input=KS(c)}catch(h){const g=new Oe(`Unable to parse tool parameter JSON from model. Please retry your request or adjust your prompt. Error: ${h}. JSON: ${c}`);B(this,Nl,"f").call(this,g)}s.content[r.index]=d}break}case"thinking_delta":{l?.type==="thinking"&&(s.content[r.index]={...l,thinking:l.thinking+r.delta.thinking});break}case"signature_delta":{l?.type==="thinking"&&(s.content[r.index]={...l,signature:r.delta.signature});break}default:r.delta}return s}case"content_block_stop":return s}},Symbol.asyncIterator)](){const t=[],r=[];let s=!1;return this.on("streamEvent",l=>{const c=r.shift();c?c.resolve(l):t.push(l)}),this.on("end",()=>{s=!0;for(const l of r)l.resolve(void 0);r.length=0}),this.on("abort",l=>{s=!0;for(const c of r)c.reject(l);r.length=0}),this.on("error",l=>{s=!0;for(const c of r)c.reject(l);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((c,d)=>r.push({resolve:c,reject:d})).then(c=>c?{value:c,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Xn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}const QS={"claude-opus-4-20250514":8192,"claude-opus-4-0":8192,"claude-4-opus-20250514":8192,"anthropic.claude-opus-4-20250514-v1:0":8192,"claude-opus-4@20250514":8192},S0={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025"};let yp=class extends Sa{constructor(){super(...arguments),this.batches=new YS(this._client)}create(t,r){const{betas:s,...l}=t;l.model in S0&&console.warn(`The model '${l.model}' is deprecated and will reach end-of-life on ${S0[l.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let c=this._client._options.timeout;if(!l.stream&&c==null){const d=QS[l.model]??void 0;c=this._client.calculateNonstreamingTimeout(l.max_tokens,d)}return this._client.post("/v1/messages?beta=true",{body:l,timeout:c??6e5,...r,headers:it([{...s?.toString()!=null?{"anthropic-beta":s?.toString()}:void 0},r?.headers]),stream:t.stream??!1})}stream(t,r){return uu.createMessage(this,t,r)}countTokens(t,r){const{betas:s,...l}=t;return this._client.post("/v1/messages/count_tokens?beta=true",{body:l,...r,headers:it([{"anthropic-beta":[...s??[],"token-counting-2024-11-01"].toString()},r?.headers])})}};yp.Batches=YS;class to extends Sa{constructor(){super(...arguments),this.models=new XS(this._client),this.messages=new yp(this._client),this.files=new VS(this._client)}}to.Models=XS;to.Messages=yp;to.Files=VS;class JS extends Sa{create(t,r){const{betas:s,...l}=t;return this._client.post("/v1/complete",{body:l,timeout:this._client._options.timeout??6e5,...r,headers:it([{...s?.toString()!=null?{"anthropic-beta":s?.toString()}:void 0},r?.headers]),stream:t.stream??!1})}}var An,Xa,Ns,Ml,Ms,ks,kl,Ds,pa,Us,Dl,Ul,ci,Ll,Il,mh,E0,gh,yh,vh,_h,T0;const w0="__json_buf";function A0(a){return a.type==="tool_use"||a.type==="server_tool_use"}class cu{constructor(){An.add(this),this.messages=[],this.receivedMessages=[],Xa.set(this,void 0),this.controller=new AbortController,Ns.set(this,void 0),Ml.set(this,()=>{}),Ms.set(this,()=>{}),ks.set(this,void 0),kl.set(this,()=>{}),Ds.set(this,()=>{}),pa.set(this,{}),Us.set(this,!1),Dl.set(this,!1),Ul.set(this,!1),ci.set(this,!1),Ll.set(this,void 0),Il.set(this,void 0),gh.set(this,t=>{if(Ee(this,Dl,!0),Gs(t)&&(t=new Un),t instanceof Un)return Ee(this,Ul,!0),this._emit("abort",t);if(t instanceof Oe)return this._emit("error",t);if(t instanceof Error){const r=new Oe(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new Oe(String(t)))}),Ee(this,Ns,new Promise((t,r)=>{Ee(this,Ml,t,"f"),Ee(this,Ms,r,"f")})),Ee(this,ks,new Promise((t,r)=>{Ee(this,kl,t,"f"),Ee(this,Ds,r,"f")})),B(this,Ns,"f").catch(()=>{}),B(this,ks,"f").catch(()=>{})}get response(){return B(this,Ll,"f")}get request_id(){return B(this,Il,"f")}async withResponse(){const t=await B(this,Ns,"f");if(!t)throw new Error("Could not resolve a `Response` object");return{data:this,response:t,request_id:t.headers.get("request-id")}}static fromReadableStream(t){const r=new cu;return r._run(()=>r._fromReadableStream(t)),r}static createMessage(t,r,s){const l=new cu;for(const c of r.messages)l._addMessageParam(c);return l._run(()=>l._createMessage(t,{...r,stream:!0},{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),l}_run(t){t().then(()=>{this._emitFinal(),this._emit("end")},B(this,gh,"f"))}_addMessageParam(t){this.messages.push(t)}_addMessage(t,r=!0){this.receivedMessages.push(t),r&&this._emit("message",t)}async _createMessage(t,r,s){const l=s?.signal;let c;l&&(l.aborted&&this.controller.abort(),c=this.controller.abort.bind(this.controller),l.addEventListener("abort",c));try{B(this,An,"m",yh).call(this);const{response:d,data:h}=await t.create({...r,stream:!0},{...s,signal:this.controller.signal}).withResponse();this._connected(d);for await(const g of h)B(this,An,"m",vh).call(this,g);if(h.controller.signal?.aborted)throw new Un;B(this,An,"m",_h).call(this)}finally{l&&c&&l.removeEventListener("abort",c)}}_connected(t){this.ended||(Ee(this,Ll,t),Ee(this,Il,t?.headers.get("request-id")),B(this,Ml,"f").call(this,t),this._emit("connect"))}get ended(){return B(this,Us,"f")}get errored(){return B(this,Dl,"f")}get aborted(){return B(this,Ul,"f")}abort(){this.controller.abort()}on(t,r){return(B(this,pa,"f")[t]||(B(this,pa,"f")[t]=[])).push({listener:r}),this}off(t,r){const s=B(this,pa,"f")[t];if(!s)return this;const l=s.findIndex(c=>c.listener===r);return l>=0&&s.splice(l,1),this}once(t,r){return(B(this,pa,"f")[t]||(B(this,pa,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,s)=>{Ee(this,ci,!0),t!=="error"&&this.once("error",s),this.once(t,r)})}async done(){Ee(this,ci,!0),await B(this,ks,"f")}get currentMessage(){return B(this,Xa,"f")}async finalMessage(){return await this.done(),B(this,An,"m",mh).call(this)}async finalText(){return await this.done(),B(this,An,"m",E0).call(this)}_emit(t,...r){if(B(this,Us,"f"))return;t==="end"&&(Ee(this,Us,!0),B(this,kl,"f").call(this));const s=B(this,pa,"f")[t];if(s&&(B(this,pa,"f")[t]=s.filter(l=>!l.once),s.forEach(({listener:l})=>l(...r))),t==="abort"){const l=r[0];!B(this,ci,"f")&&!s?.length&&Promise.reject(l),B(this,Ms,"f").call(this,l),B(this,Ds,"f").call(this,l),this._emit("end");return}if(t==="error"){const l=r[0];!B(this,ci,"f")&&!s?.length&&Promise.reject(l),B(this,Ms,"f").call(this,l),B(this,Ds,"f").call(this,l),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",B(this,An,"m",mh).call(this))}async _fromReadableStream(t,r){const s=r?.signal;let l;s&&(s.aborted&&this.controller.abort(),l=this.controller.abort.bind(this.controller),s.addEventListener("abort",l));try{B(this,An,"m",yh).call(this),this._connected(null);const c=Xn.fromReadableStream(t,this.controller);for await(const d of c)B(this,An,"m",vh).call(this,d);if(c.controller.signal?.aborted)throw new Un;B(this,An,"m",_h).call(this)}finally{s&&l&&s.removeEventListener("abort",l)}}[(Xa=new WeakMap,Ns=new WeakMap,Ml=new WeakMap,Ms=new WeakMap,ks=new WeakMap,kl=new WeakMap,Ds=new WeakMap,pa=new WeakMap,Us=new WeakMap,Dl=new WeakMap,Ul=new WeakMap,ci=new WeakMap,Ll=new WeakMap,Il=new WeakMap,gh=new WeakMap,An=new WeakSet,mh=function(){if(this.receivedMessages.length===0)throw new Oe("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},E0=function(){if(this.receivedMessages.length===0)throw new Oe("stream ended without producing a Message with role=assistant");const r=this.receivedMessages.at(-1).content.filter(s=>s.type==="text").map(s=>s.text);if(r.length===0)throw new Oe("stream ended without producing a content block with type=text");return r.join(" ")},yh=function(){this.ended||Ee(this,Xa,void 0)},vh=function(r){if(this.ended)return;const s=B(this,An,"m",T0).call(this,r);switch(this._emit("streamEvent",r,s),r.type){case"content_block_delta":{const l=s.content.at(-1);switch(r.delta.type){case"text_delta":{l.type==="text"&&this._emit("text",r.delta.text,l.text||"");break}case"citations_delta":{l.type==="text"&&this._emit("citation",r.delta.citation,l.citations??[]);break}case"input_json_delta":{A0(l)&&l.input&&this._emit("inputJson",r.delta.partial_json,l.input);break}case"thinking_delta":{l.type==="thinking"&&this._emit("thinking",r.delta.thinking,l.thinking);break}case"signature_delta":{l.type==="thinking"&&this._emit("signature",l.signature);break}default:r.delta}break}case"message_stop":{this._addMessageParam(s),this._addMessage(s,!0);break}case"content_block_stop":{this._emit("contentBlock",s.content.at(-1));break}case"message_start":{Ee(this,Xa,s);break}}},_h=function(){if(this.ended)throw new Oe("stream has ended, this shouldn't happen");const r=B(this,Xa,"f");if(!r)throw new Oe("request ended without sending any chunks");return Ee(this,Xa,void 0),r},T0=function(r){let s=B(this,Xa,"f");if(r.type==="message_start"){if(s)throw new Oe(`Unexpected event order, got ${r.type} before receiving "message_stop"`);return r.message}if(!s)throw new Oe(`Unexpected event order, got ${r.type} before "message_start"`);switch(r.type){case"message_stop":return s;case"message_delta":return s.stop_reason=r.delta.stop_reason,s.stop_sequence=r.delta.stop_sequence,s.usage.output_tokens=r.usage.output_tokens,r.usage.input_tokens!=null&&(s.usage.input_tokens=r.usage.input_tokens),r.usage.cache_creation_input_tokens!=null&&(s.usage.cache_creation_input_tokens=r.usage.cache_creation_input_tokens),r.usage.cache_read_input_tokens!=null&&(s.usage.cache_read_input_tokens=r.usage.cache_read_input_tokens),r.usage.server_tool_use!=null&&(s.usage.server_tool_use=r.usage.server_tool_use),s;case"content_block_start":return s.content.push({...r.content_block}),s;case"content_block_delta":{const l=s.content.at(r.index);switch(r.delta.type){case"text_delta":{l?.type==="text"&&(s.content[r.index]={...l,text:(l.text||"")+r.delta.text});break}case"citations_delta":{l?.type==="text"&&(s.content[r.index]={...l,citations:[...l.citations??[],r.delta.citation]});break}case"input_json_delta":{if(l&&A0(l)){let c=l[w0]||"";c+=r.delta.partial_json;const d={...l};Object.defineProperty(d,w0,{value:c,enumerable:!1,writable:!0}),c&&(d.input=KS(c)),s.content[r.index]=d}break}case"thinking_delta":{l?.type==="thinking"&&(s.content[r.index]={...l,thinking:l.thinking+r.delta.thinking});break}case"signature_delta":{l?.type==="thinking"&&(s.content[r.index]={...l,signature:r.delta.signature});break}default:r.delta}return s}case"content_block_stop":return s}},Symbol.asyncIterator)](){const t=[],r=[];let s=!1;return this.on("streamEvent",l=>{const c=r.shift();c?c.resolve(l):t.push(l)}),this.on("end",()=>{s=!0;for(const l of r)l.resolve(void 0);r.length=0}),this.on("abort",l=>{s=!0;for(const c of r)c.reject(l);r.length=0}),this.on("error",l=>{s=!0;for(const c of r)c.reject(l);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((c,d)=>r.push({resolve:c,reject:d})).then(c=>c?{value:c,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Xn(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}class WS extends Sa{create(t,r){return this._client.post("/v1/messages/batches",{body:t,...r})}retrieve(t,r){return this._client.get(Ln`/v1/messages/batches/${t}`,r)}list(t={},r){return this._client.getAPIList("/v1/messages/batches",eo,{query:t,...r})}delete(t,r){return this._client.delete(Ln`/v1/messages/batches/${t}`,r)}cancel(t,r){return this._client.post(Ln`/v1/messages/batches/${t}/cancel`,r)}async results(t,r){const s=await this.retrieve(t);if(!s.results_url)throw new Oe(`No batch \`results_url\`; Has it finished processing? ${s.processing_status} - ${s.id}`);return this._client.get(s.results_url,{...r,headers:it([{Accept:"application/binary"},r?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((l,c)=>xu.fromResponse(c.response,c.controller))}}class vp extends Sa{constructor(){super(...arguments),this.batches=new WS(this._client)}create(t,r){t.model in R0&&console.warn(`The model '${t.model}' is deprecated and will reach end-of-life on ${R0[t.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let s=this._client._options.timeout;if(!t.stream&&s==null){const l=QS[t.model]??void 0;s=this._client.calculateNonstreamingTimeout(t.max_tokens,l)}return this._client.post("/v1/messages",{body:t,timeout:s??6e5,...r,stream:t.stream??!1})}stream(t,r){return cu.createMessage(this,t,r)}countTokens(t,r){return this._client.post("/v1/messages/count_tokens",{body:t,...r})}}const R0={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025"};vp.Batches=WS;class eE extends Sa{retrieve(t,r={},s){const{betas:l}=r??{};return this._client.get(Ln`/v1/models/${t}`,{...s,headers:it([{...l?.toString()!=null?{"anthropic-beta":l?.toString()}:void 0},s?.headers])})}list(t={},r){const{betas:s,...l}=t??{};return this._client.getAPIList("/v1/models",eo,{query:l,...r,headers:it([{...s?.toString()!=null?{"anthropic-beta":s?.toString()}:void 0},r?.headers])})}}var QC={};const $l=a=>{if(typeof globalThis.process<"u")return QC?.[a]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(a)?.trim()};var Gh,_p,Pl,tE;class vt{constructor({baseURL:t=$l("ANTHROPIC_BASE_URL"),apiKey:r=$l("ANTHROPIC_API_KEY")??null,authToken:s=$l("ANTHROPIC_AUTH_TOKEN")??null,...l}={}){Gh.add(this),Pl.set(this,void 0);const c={apiKey:r,authToken:s,...l,baseURL:t||"https://api.anthropic.com"};if(!c.dangerouslyAllowBrowser&&bC())throw new Oe(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Anthropic({ apiKey, dangerouslyAllowBrowser: true });
`);this.baseURL=c.baseURL,this.timeout=c.timeout??_p.DEFAULT_TIMEOUT,this.logger=c.logger??console;const d="warn";this.logLevel=d,this.logLevel=h0(c.logLevel,"ClientOptions.logLevel",this)??h0($l("ANTHROPIC_LOG"),"process.env['ANTHROPIC_LOG']",this)??d,this.fetchOptions=c.fetchOptions,this.maxRetries=c.maxRetries??2,this.fetch=c.fetch??AC(),Ee(this,Pl,xC),this._options=c,this.apiKey=r,this.authToken=s}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,authToken:this.authToken,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:r}){if(!(this.apiKey&&t.get("x-api-key"))&&!r.has("x-api-key")&&!(this.authToken&&t.get("authorization"))&&!r.has("authorization"))throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}authHeaders(t){return it([this.apiKeyAuth(t),this.bearerAuth(t)])}apiKeyAuth(t){if(this.apiKey!=null)return it([{"X-Api-Key":this.apiKey}])}bearerAuth(t){if(this.authToken!=null)return it([{Authorization:`Bearer ${this.authToken}`}])}stringifyQuery(t){return Object.entries(t).filter(([r,s])=>typeof s<"u").map(([r,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(r)}=`;throw new Oe(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${hi}`}defaultIdempotencyKey(){return`stainless-node-retry-${xS()}`}makeStatusError(t,r,s,l){return Lt.generate(t,r,s,l)}buildURL(t,r,s){const l=!B(this,Gh,"m",tE).call(this)&&s||this.baseURL,c=mC(t)?new URL(t):new URL(l+(l.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),d=this.defaultQuery();return gC(d)||(r={...d,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(c.search=this.stringifyQuery(r)),c.toString()}_calculateNonstreamingTimeout(t){if(3600*t/128e3>600)throw new Oe("Streaming is strongly recommended for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#streaming-responses for more details");return 600*1e3}async prepareOptions(t){}async prepareRequest(t,{url:r,options:s}){}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,s){return this.request(Promise.resolve(s).then(l=>({method:t,path:r,...l})))}request(t,r=null){return new Ru(this,this.makeRequest(t,r,void 0))}async makeRequest(t,r,s){const l=await t,c=l.maxRetries??this.maxRetries;r==null&&(r=c),await this.prepareOptions(l);const{req:d,url:h,timeout:g}=this.buildRequest(l,{retryCount:c-r});await this.prepareRequest(d,{url:h,options:l});const m="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=s===void 0?"":`, retryOf: ${s}`,S=Date.now();if(qt(this).debug(`[${m}] sending request`,gr({retryOfRequestLogID:s,method:l.method,url:h,options:l,headers:d.headers})),l.signal?.aborted)throw new Un;const A=new AbortController,w=await this.fetchWithTimeout(h,d,g,A).catch(Hh),z=Date.now();if(w instanceof Error){const ae=`retrying, ${r} attempts remaining`;if(l.signal?.aborted)throw new Un;const J=Gs(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(r)return qt(this).info(`[${m}] connection ${J?"timed out":"failed"} - ${ae}`),qt(this).debug(`[${m}] connection ${J?"timed out":"failed"} (${ae})`,gr({retryOfRequestLogID:s,url:h,durationMs:z-S,message:w.message})),this.retryRequest(l,r,s??m);throw qt(this).info(`[${m}] connection ${J?"timed out":"failed"} - error; no more retries left`),qt(this).debug(`[${m}] connection ${J?"timed out":"failed"} (error; no more retries left)`,gr({retryOfRequestLogID:s,url:h,durationMs:z-S,message:w.message})),J?new OS:new Au({cause:w})}const D=[...w.headers.entries()].filter(([ae])=>ae==="request-id").map(([ae,J])=>", "+ae+": "+JSON.stringify(J)).join(""),K=`[${m}${y}${D}] ${d.method} ${h} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${z-S}ms`;if(!w.ok){const ae=this.shouldRetry(w);if(r&&ae){const Se=`retrying, ${r} attempts remaining`;return await RC(w.body),qt(this).info(`${K} - ${Se}`),qt(this).debug(`[${m}] response error (${Se})`,gr({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,durationMs:z-S})),this.retryRequest(l,r,s??m,w.headers)}const J=ae?"error; no more retries left":"error; not retryable";qt(this).info(`${K} - ${J}`);const se=await w.text().catch(Se=>Hh(Se).message),Te=$S(se),fe=Te?void 0:se;throw qt(this).debug(`[${m}] response error (${J})`,gr({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,message:fe,durationMs:Date.now()-S})),this.makeStatusError(w.status,Te,fe,w.headers)}return qt(this).info(K),qt(this).debug(`[${m}] response start`,gr({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,durationMs:z-S})),{response:w,options:l,controller:A,requestLogID:m,retryOfRequestLogID:s,startTime:S}}getAPIList(t,r,s){return this.requestAPIList(r,{method:"get",path:t,...s})}requestAPIList(t,r){const s=this.makeRequest(r,null,void 0);return new $C(this,s,t)}async fetchWithTimeout(t,r,s,l){const{signal:c,method:d,...h}=r||{};c&&c.addEventListener("abort",()=>l.abort());const g=setTimeout(()=>l.abort(),s),m=globalThis.ReadableStream&&h.body instanceof globalThis.ReadableStream||typeof h.body=="object"&&h.body!==null&&Symbol.asyncIterator in h.body,y={signal:l.signal,...m?{duplex:"half"}:{},method:"GET",...h};d&&(y.method=d.toUpperCase());try{return await this.fetch.call(void 0,t,y)}finally{clearTimeout(g)}}shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,s,l){let c;const d=l?.get("retry-after-ms");if(d){const g=parseFloat(d);Number.isNaN(g)||(c=g)}const h=l?.get("retry-after");if(h&&!c){const g=parseFloat(h);Number.isNaN(g)?c=Date.parse(h)-Date.now():c=g*1e3}if(!(c&&0<=c&&c<60*1e3)){const g=t.maxRetries??this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(r,g)}return await _C(c),this.makeRequest(t,r-1,s)}calculateDefaultRetryTimeoutMillis(t,r){const c=r-t,d=Math.min(.5*Math.pow(2,c),8),h=1-Math.random()*.25;return d*h*1e3}calculateNonstreamingTimeout(t,r){if(36e5*t/128e3>6e5||r!=null&&t>r)throw new Oe("Streaming is strongly recommended for operations that may token longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#long-requests for more details");return 6e5}buildRequest(t,{retryCount:r=0}={}){const s={...t},{method:l,path:c,query:d,defaultBaseURL:h}=s,g=this.buildURL(c,d,h);"timeout"in s&&vC("timeout",s.timeout),s.timeout=s.timeout??this.timeout;const{bodyHeaders:m,body:y}=this.buildBody({options:s}),S=this.buildHeaders({options:t,method:l,bodyHeaders:m,retryCount:r});return{req:{method:l,headers:S,...s.signal&&{signal:s.signal},...globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"},...y&&{body:y},...this.fetchOptions??{},...s.fetchOptions??{}},url:g,timeout:s.timeout}}buildHeaders({options:t,method:r,bodyHeaders:s,retryCount:l}){let c={};this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=t.idempotencyKey);const d=it([c,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(l),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...wC(),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01"},this.authHeaders(t),this._options.defaultHeaders,s,t.headers]);return this.validateHeaders(d),d.values}buildBody({options:{body:t,headers:r}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=it([r]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||t instanceof Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:qS(t)}:B(this,Pl,"f").call(this,{body:t,headers:s})}}_p=vt,Pl=new WeakMap,Gh=new WeakSet,tE=function(){return this.baseURL!=="https://api.anthropic.com"};vt.Anthropic=_p;vt.HUMAN_PROMPT=`

Human:`;vt.AI_PROMPT=`

Assistant:`;vt.DEFAULT_TIMEOUT=6e5;vt.AnthropicError=Oe;vt.APIError=Lt;vt.APIConnectionError=Au;vt.APIConnectionTimeoutError=OS;vt.APIUserAbortError=Un;vt.NotFoundError=kS;vt.ConflictError=DS;vt.RateLimitError=LS;vt.BadRequestError=CS;vt.AuthenticationError=NS;vt.InternalServerError=IS;vt.PermissionDeniedError=MS;vt.UnprocessableEntityError=US;vt.toFile=FC;class Ei extends vt{constructor(){super(...arguments),this.completions=new JS(this),this.messages=new vp(this),this.models=new eE(this),this.beta=new to(this)}}Ei.Completions=JS;Ei.Messages=vp;Ei.Models=eE;Ei.Beta=to;const{HUMAN_PROMPT:qN,AI_PROMPT:zN}=Ei,x0=new Ei({apiKey:"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",dangerouslyAllowBrowser:!0}),JC=new dC({apiKey:"7szjsin81axmc970di2g",provider:new hC});function WC(){const[a,t]=de.useState([]),[r,s]=de.useState(""),[l,c]=de.useState(0),d=de.useRef(null),[h,g]=de.useState(null);de.useEffect(()=>{d.current?.scrollIntoView({behavior:"smooth"})},[a]),de.useEffect(()=>{(async()=>{try{typeof window<"u"&&window.chrome?.runtime?.sendMessage&&window.chrome.runtime.sendMessage({action:"getPageInfo"},D=>{D&&D.title&&D.url&&(g(D),console.log(D,h),t(K=>[...K,{role:"assistant",content:`Current page: ${D.title}`}]))})}catch(D){console.log("Not in extension context or error getting page info:",D)}})()},[]);const m=async z=>{const D=await JC.toolkits.authorize(z,"google");t(K=>[...K,{role:"assistant",content:` Visit the URL to authorize:
 ${D.redirectUrl}`}]),await D.waitForConnection()},y=async()=>{const z=await x0.messages.create({model:"claude-3-haiku-20240307",max_tokens:256,messages:[{role:"assistant",content:"You are Sherlock Holmes from the BBC show who uses these observations to think through a user's preferences and motivations for this website."},...a,{role:"user",content:`Using the answers and questions from this interaction, make inferences and analyze the user's preferences. Use these keywords 'dietary': {
                'vegetarian', 'vegan', 'allergy', 'allergic', 'spicy', 'mild', 
                'meat', 'dairy', 'gluten', 'diet', 'dietary'
            },
            'cuisine': {
                'asian', 'mexican', 'thai', 'chinese', 'indian', 'italian', 
                'japanese', 'vietnamese', 'cuisine', 'food', 'restaurant'
            },
            'budget': {
                'cheap', 'expensive', 'budget', 'price', 'cost', 'affordable',
                '$', '$$', '$$$', 'money', 'spend'
            },
            'location': {
                'near', 'close', 'distance', 'neighborhood', 'area', 'transit',
                'walk', 'drive', 'uber', 'bart', 'muni'
            },
            'timing': {
                'time', 'when', 'available', 'reservation', 'book', 'table',
                'tonight', 'tomorrow', 'weekend', 'lunch', 'dinner', 'breakfast'
            } and output with these choices in a json format. Remove the preamble and conclusion and only output the JSON`}]});console.log(z),t(D=>[...D,{role:"assistant",content:z.content[0].type==="text"?z.content[0].text:"Response received"}])},S=async()=>{try{const z=await x0.messages.create({model:"claude-3-haiku-20240307",max_tokens:256,messages:[{role:"assistant",content:"You are a tool that wants to learn and infer about a user's preferences based on the website they are on"},...a,{role:"user",content:`Based on the fact that they are at ${h?.url} which is a site about ${h?.title} and the answers given so far, generate a question that is most useful to learn about their preferences for future uses of this website. Only output the question. Make sure that the question is answerable in maximum 3-5 words for the user. Ensure that previous questions don't overlap in subject`}]});console.log(z),t(D=>[...D,{role:"assistant",content:z.content[0].type==="text"?z.content[0].text:"Response received"}]),c(l+1)}catch{t(D=>[...D,{role:"assistant",content:"Sorry, there was an error generating a response."}])}},A=z=>{s(z.target.value)},w=z=>{console.log(a),z.preventDefault(),r.trim()&&(t(D=>[...D,{role:"user",content:r}]),a.length==0?m(r.trim()):l<2?S():y(),s(""))};return le.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #232526 0%, #0f2027 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:le.jsx(P0,{children:le.jsx(W0,{className:"justify-content-center",children:le.jsx(Kh,{xs:12,md:10,lg:8,children:le.jsx(Rv,{style:{background:"rgba(30, 30, 30, 0.95)",border:"none",borderRadius:"18px",boxShadow:"0 4px 32px 0 rgba(0,0,0,0.25)",minHeight:"60vh",display:"flex",flexDirection:"column",height:"70vh"},className:"p-0",children:le.jsxs(Rv.Body,{style:{display:"flex",flexDirection:"column",flex:1,padding:0,overflow:"hidden"},children:[le.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"2rem 1.5rem 1rem 1.5rem",background:"transparent"},children:[a.length===0&&le.jsx("div",{style:{color:"#bbb",textAlign:"center",marginTop:"30%",fontSize:"1.2rem",opacity:.7},children:"Start a new conversation"}),a.map((z,D)=>le.jsx("div",{style:{display:"flex",justifyContent:z.role==="user"?"flex-end":"flex-start",marginBottom:"1rem"},children:le.jsx("div",{style:{background:z.role==="user"?"linear-gradient(90deg, #00c97b 0%, #00d4ff 100%)":"#23272f",color:z.role==="user"?"#fff":"#eee",borderRadius:"12px",padding:"0.75rem 1.2rem",maxWidth:"70%",fontSize:"1.05rem",boxShadow:z.role==="user"?"0 2px 8px 0 rgba(0,201,123,0.10)":"0 2px 8px 0 rgba(0,0,0,0.10)"},children:z.content})},D)),le.jsx("div",{ref:d})]}),le.jsx(xv,{onSubmit:w,style:{background:"rgba(20, 20, 20, 0.98)",borderTop:"1px solid #333",padding:"1rem 1.5rem"},children:le.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[le.jsx(xv.Control,{type:"text",placeholder:"Send a message...",value:r,onChange:A,style:{background:"#23272f",color:"#fff",border:"1px solid #444",borderRadius:"8px",fontSize:"1.1rem",boxShadow:"none"},autoFocus:!0}),le.jsx(k0,{type:"submit",variant:"success",style:{background:"linear-gradient(90deg, #00c97b 0%, #00d4ff 100%)",border:"none",fontWeight:600,fontSize:"1.1rem",borderRadius:"8px",minWidth:"90px"},disabled:!r.trim(),children:"Send"})]})})]})})})})})})}Dw.createRoot(document.getElementById("root")).render(le.jsx(de.StrictMode,{children:le.jsx(WC,{})}));export{Vh as g};
